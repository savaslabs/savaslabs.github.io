<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Savas Labs</title>
    <description>We craft elegant Drupal web systems that propel organizations.
</description>
    <link>https://savaslabs.com/</link>
    <atom:link href="https://savaslabs.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 14 Nov 2017 12:56:51 +0000</pubDate>
    <lastBuildDate>Tue, 14 Nov 2017 12:56:51 +0000</lastBuildDate>
    <generator>Jekyll v3.0.3</generator>
    
      <item>
        <title>The cost of investing in Drupal 7 - why it&#39;s time for Drupal 8</title>
        <description>&lt;p&gt;This is part two of a two-part series.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;/2017/10/27/drupal-8-turns-2.html&quot;&gt;part one&lt;/a&gt;, we discussed how Drupal 8’s adoption in its first two years was a bit lackluster compared to what many expected. Grounded in a better understanding of the shortcomings of the past two years, we’ll try to equip those of you considering Drupal 8 with the information you need to make the best decision for your organization as you continue to invest in the powerful framework of Drupal.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/drupal-early-adopter-vs-majority.png&quot; alt=&quot;Image of Drupal 8 adoption curve&quot; /&gt;&lt;br /&gt;
&lt;span class=&quot;caption&quot;&gt; Credit: Angie Byron AGAIN on &lt;a href=&quot;https://www.slideshare.net/AcquiaInc/acquia-d8-webinar/58&quot;&gt;“Everything you need to know about the top 8 changes in Drupal 8”&lt;/a&gt; from May 2015 &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Drupal 8 adoption is certainly no longer in the “early adopter” phase, yet we still haven’t entered the “majority” phase. For most organizations not yet powered by Drupal 8, our stance is: &lt;strong&gt;it’s probably time to upgrade&lt;/strong&gt;. The value you’re missing out on with the newer software &lt;em&gt;is real&lt;/em&gt;. Perhaps less obviously, if you’re investing in your Drupal 7 site beyond passive maintenance, you may well be doubling your long-term costs by deferring and exacerbating what will need to be refactored later. For organizations who have web staff, work with an agency, or do any non-trivial customization to their Drupal website, this applies to you.&lt;/p&gt;

&lt;h4 id=&quot;a-disclaimer-upfront&quot;&gt;A disclaimer upfront&lt;/h4&gt;

&lt;p&gt;Drupal agencies like ours benefit from upgrades in the short-term because they are usually a substantial undertaking. This fact, in part, is why over the past two years people have written more often about encouraging an upgrade to Drupal 8 rather offering a more holistic and measured perspective. A small dose of healthy skepticism typically serves site owners best. If Savas Labs is to live into its &lt;a href=&quot;https://savaslabs.com/company/mission-and-values/#be-respectful&quot;&gt;values&lt;/a&gt; we &lt;em&gt;must&lt;/em&gt; factor in the needs of two other stakeholder groups when advising on an upgrade: our clients, and the collective Drupal community. Given the &lt;a href=&quot;/2017/10/27/drupal-8-turns-2.html#inertia-perceived-value-and-expense&quot;&gt;substantial effort to upgrade&lt;/a&gt;, if we focus solely on the short-term, we do our clients a disservice. In doing that, the next time those site owners and admins have the option to select a tool to power their web systems, they may look elsewhere remembering their pain and disappointment in recent experience. This ripple effect has the potential to create many former Drupal users. Imbued with the &lt;a href=&quot;http://www.agrowingculture.org/open-source-ethos/&quot;&gt;open source ethos&lt;/a&gt;, we believe we owe it to the broader Drupal community from which we’ve gained so much to consult with honesty and integrity.&lt;/p&gt;

&lt;h2 id=&quot;what-youre-missing-out-on&quot;&gt;What you’re missing out on&lt;/h2&gt;

&lt;p&gt;As &lt;a href=&quot;/2017/10/27/drupal-8-turns-2.html#complete-code-re-architecture&quot;&gt;we discussed in part 1&lt;/a&gt;, we lived through the challenges of the complete re-architecture of the Drupal application from 7 to 8.&lt;/p&gt;

&lt;p&gt;Angie Byron, the person I apparently can’t stop referencing, said in 2013:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;For people who grew up learning PHP on Drupal, and there are a lot of people for whom that’s true, I think Drupal 8 will be kind of a big adjustment for them.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Though it wasn’t easy, at Savas Labs we feel strongly that it was a wise investment that’s just beginning to pay off. At this point in its maturation, we believe now (as &lt;a href=&quot;https://www.lullabot.com/articles/the-cultural-construction-of-drupal&quot;&gt;other Drupal leaders&lt;/a&gt; have &lt;a href=&quot;https://www.garfieldtech.com/blog/dropping-forward&quot;&gt;felt for some time&lt;/a&gt;), that Drupal 8 is superior to previous versions in nearly all use cases for which organizations currently use Drupal. Some argue that Drupal 8 has &lt;a href=&quot;https://www.mydropwizard.com/blog/drupal-sucks-non-profits&quot;&gt;become too complex&lt;/a&gt; and &lt;a href=&quot;https://www.mydropwizard.com/blog/drupal-8-has-left-small-non-profits-behind-how-can-we-fix&quot;&gt;left smaller sites behind&lt;/a&gt;, but it’s important to consider &lt;a href=&quot;https://www.mydropwizard.com/comment/410#comment-410&quot;&gt;their incentives&lt;/a&gt; for a well-rounded perspective. Via Acquia, Pantheon and other hosting providers, you can serve up a Drupal 8 website within minutes equipped with more features and a superior user experience to previous versions on a free tier to boot! While simultaneously catering better to those not writing code, the engineers who have always pushed Drupal to its physical limits have more power to build sophisticated tools and integrations that can do more for their clients than ever before.&lt;/p&gt;

&lt;p&gt;In exploring this deeper, let’s start with the technical, and dig into the more nuanced to answer the Drupal 8 question: “What’s in it for me?” (&lt;a href=&quot;https://www.fastcompany.com/3001250/times-change-whats-it-me-question-you-need-answer&quot;&gt;WIIFM?&lt;/a&gt;), for &lt;em&gt;you&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&quot;wiifm-features&quot;&gt;WIIFM? Features.&lt;/h3&gt;

&lt;p&gt;It’s fairly easy to find information touting Drupal 8’s strengths around the web, and it’s pretty straightforward that software we write today (and have been writing for 4 years) is superior to &lt;a href=&quot;https://dri.es/drupal-7-code-freeze-september-1st&quot;&gt;software written 8.5 years ago&lt;/a&gt; (or &lt;a href=&quot;https://www.drupal.org/forum/deprecated/deprecated-drupal-newsletter/2007-06-06/the-drupal-newsletter-june-2007&quot;&gt;10.5 years ago with Drupal 6&lt;/a&gt;). Let’s look briefly at some high-impact improved features for site owners and admins.&lt;/p&gt;

&lt;h4 id=&quot;designuxusability-improvements-with-drupal-8&quot;&gt;Design/UX/Usability Improvements with Drupal 8&lt;/h4&gt;

&lt;p&gt;In developing Drupal 8, perhaps for the first time, the Drupal leadership &lt;a href=&quot;https://www.drupal.org/community-initiatives/drupal-core/usability&quot;&gt;took user experience work seriously&lt;/a&gt; and developed a cohesive &lt;a href=&quot;http://drupalsun.com/node/26589&quot;&gt;strategy to improve UX&lt;/a&gt; for Drupal 8. The results paid off.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.drupal.org/docs/8/mobile/responsive-web-design&quot;&gt;Responsive out of the box&lt;/a&gt;: Given that Drupal 8’s release came long after responsive web design became popular enough to garner its own acronym, naturally, all themes (administrative and otherwise) were developed to be responsive. RWD has been a must for years, but it took heavy lifting to achieve in Drupal 7.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/03/06/five-drupal-8-tips-to-empower-content-authors.html&quot;&gt;Better content authoring&lt;/a&gt;: Drupal 8 has adopted a more Wordpress-like UX for editors, which for many years had been cited as a distinction between the two, rightfully favoring Wordpress. Content authoring layout improvements coupled with responsiveness have made administration from a phone a pleasant experience.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.drupal.org/8/usability&quot;&gt;Accessibility at lower cost&lt;/a&gt;: Accessibility efforts, though not prioritized by all, continue to gain traction as we continue to expand our ability to &lt;a href=&quot;/company/mission-and-values/#be-inclusive&quot;&gt;be inclusive&lt;/a&gt;. We’ve seen clients threatened with lawsuits over not adhering to accessibility standards. Whether motivated by benevolence or risk-aversion, accessibility should be on your radar, and it’s easier in Drupal 8.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.drupal8multilingual.org/&quot;&gt;Multilingual in core&lt;/a&gt;: With a cohesive system now in core, we have been able to build a &lt;a href=&quot;https://www.durhamatletico.com/&quot;&gt;couple of&lt;/a&gt; &lt;a href=&quot;http://howsyourbabync.org/&quot;&gt;multilingual sites&lt;/a&gt; with relative ease, not having to dedicate substantial additional time to the translation component.&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;Drupal 8 multilingual is a world of difference. What would take 22 or more modules in Drupal 7 you would do with 4 (and all in core). &lt;span&gt;- @kristen_pol&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;restful-possibilities&quot;&gt;RESTful possibilities&lt;/h4&gt;

&lt;p&gt;One of the developmental focuses of Drupal 8 we believe has tremendous impact on how organizations can maximize the value of their content is the &lt;a href=&quot;https://www.drupal.org/node/2757967&quot;&gt;API-first Initiative&lt;/a&gt;. We will likely write an entire post about this in the future, but in short the initiative makes Drupal 8 much better equipped to serve as a central content repository that can expose content to many types of devices in the formats they require for display. Historically, Drupal has been pretty exclusively focused on producing HTML (one format) for a web browser (the device/software). Drupal 8 now treats Roku, iOS &amp;amp; Android Apps, video game systems and the web browser all as first-rate citizens for content consumption. As the number and variety of devices that connect to the web &lt;a href=&quot;https://www.statista.com/statistics/471264/iot-number-of-connected-devices-worldwide/&quot;&gt;continues to rapidly grow&lt;/a&gt;, Drupal 8 can serve as a powerful hub that provides relevant content and experiences to end-users. You’d be remiss to snooze on this one. To get an idea of the possibilities check out &lt;a href=&quot;http://www.contentacms.org/&quot;&gt;Contenta CMS&lt;/a&gt;, a Drupal 8 distribution built by some of the people behind the initiative.&lt;/p&gt;

&lt;h3 id=&quot;wiifm-performance&quot;&gt;WIIFM? Performance.&lt;/h3&gt;

&lt;p&gt;If you take performance seriously, &lt;a href=&quot;https://blog.kissmetrics.com/loading-time/&quot;&gt;which you should&lt;/a&gt;, there’s a lot to like about Drupal 8. Sticking with the theme of sophistication, Drupal 8 provides a much more granular ability to cache specific components than its predecessors. And as we know in the high-performance web world, &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching&quot;&gt;cache&lt;/a&gt; &lt;a href=&quot;http://blog.catchpoint.com/2017/03/13/caching-web-performance/&quot;&gt;is&lt;/a&gt; &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/web-caching-basics-terminology-http-headers-and-caching-strategies&quot;&gt;king&lt;/a&gt;. When Drupal 8 first came out, a leading Acquia engineer showed some &lt;a href=&quot;https://www.jeffgeerling.com/blog/2016/yes-drupal-8-slower-drupal-7-heres-why&quot;&gt;mixed results&lt;/a&gt; on Drupal 8 performance. The heavier codebase invariably means having to swim upstream to make it outperform the lighter codebase in Drupal 7, but I’m happy to say the architects had their flippers on when working through these challenges. Take these two fundamental points:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Regardless of how fast the underlying code executes, what matters to users is perceived performance, i.e. how long they have to wait to interact with the page. Perceived delay has been drastically reduced by an experimental-turned-core module (more on that later) called &lt;a href=&quot;https://www.drupal.org/docs/8/core/modules/bigpipe/overview&quot;&gt;BigPipe&lt;/a&gt;. BigPipe loads components of a page in the order in which a user is expected to interact with them while delivering more expensive components as they’re available. This breaks with the tradition of all-or-nothing webpages served by Drupal that were either in the cache or not, lending itself to a Facebook-like experience, which is where &lt;a href=&quot;https://www.facebook.com/notes/facebook-engineering/bigpipe-pipelining-web-pages-for-high-performance/389414033919/&quot;&gt;BigPipe came from&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;
 &lt;img src=&quot;https://savaslabs.com/assets/img/blog/bigpipe-in-drupal-8.gif&quot; alt=&quot;GIF of Drupal 8 BigPipe Video&quot; /&gt;&lt;br /&gt;
  &lt;span class=&quot;caption&quot;&gt; &lt;a href=&quot;https://www.youtube.com/watch?time_continue=41&amp;amp;v=JwzX0Qv6u3A&quot;&gt;Slower video here&lt;/a&gt; &lt;/span&gt;&lt;/li&gt;
  &lt;li&gt;Modern performance tactics derive the largest gains from &lt;em&gt;outside&lt;/em&gt; of the application leveraging services like a Content Delivery Network (CDN), and/or a web application accelerator, &lt;a href=&quot;https://varnish-cache.org/intro/index.html#intro&quot;&gt;like Varnish&lt;/a&gt;, to serve up resources to anonymous traffic (users &lt;em&gt;not&lt;/em&gt; signed-in) as quickly as possible. For most sites, anonymous traffic comprises a majority of overall traffic. Traditionally, there have been limitations to improving performance for authenticated traffic, and that’s where Drupal 8 shines. With BigPipe and a more granular caching system, Drupal 8 can substantially outperform Drupal 7’s authenticated user experience, so it’s a win-win.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If you’re made of time today, check out our &lt;a href=&quot;/blog/tag/performance&quot;&gt;other articles we’ve written about performance&lt;/a&gt; for a deeper dive into this broad and complex topic.&lt;/p&gt;

&lt;h3 id=&quot;wiifm-people&quot;&gt;WIIFM? People.&lt;/h3&gt;

&lt;p&gt;We know that behind any powerful movement are powerful people. To quote Dries, as I did in my Drupalcon talk in New Orleans:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;fostering the Drupal community is actually more important than just managing the code base.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Also, atop the Drupal.org homepage &lt;a href=&quot;https://events.drupal.org/neworleans2016/sessions/stay-community&quot;&gt;used to read&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Come for the code, stay for the community.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Without needing to resonate with all the warm and fuzzies that many within the community do, these sentiments show the richness and value of the Drupal community. And that rich community, not out of neglect, but rather necessity, has moved on from Drupal 7. Top designers, developers, and strategists are working on few Drupal 7 projects these days, and most would prefer to move on. For those who work with web designers and engineers (or &lt;a href=&quot;https://www.drupal.org/u/chrisarusso&quot;&gt;used to be one like me&lt;/a&gt;), you know that they often have an insatiable appetite for learning, and want to do that with increasingly relevant tools to their growth and output. Sticking to dated software is an effective way to weed out the best and brightest.&lt;/p&gt;

&lt;h4 id=&quot;the-improved-developer-experience-dx-of-drupal-8&quot;&gt;The Improved Developer Experience (DX) of Drupal 8&lt;/h4&gt;

&lt;p&gt;Just like happy customers tend to be repeat customers, &lt;a href=&quot;http://fortune.com/2015/10/29/happy-productivity-work/&quot;&gt;happier developers&lt;/a&gt; &lt;a href=&quot;https://www.fastcompany.com/3048751/happy-employees-are-12-more-productive-at-work&quot;&gt;also produce returns&lt;/a&gt;; they’re &lt;a href=&quot;http://www.snacknation.com/blog/employee-happiness/&quot;&gt;more productive&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are a few improvements in Drupal 8 that make life &lt;em&gt;substantially&lt;/em&gt; better for developers. The &lt;a href=&quot;https://www.drupal.org/docs/8/configuration-management/managing-your-sites-configuration&quot;&gt;Configuration Management Initiative&lt;/a&gt; was a boon to developers who struggled with a module called “features” which was not designed to do what most of us used it for. The CMI addresses the previous workaround, rife with inconsistencies, of moving site configuration from development to staging and production environments. Although it may seem trivial, developers &lt;em&gt;love this better system&lt;/em&gt; in Drupal 8, and it means more efficient development, therefore higher ROI.&lt;/p&gt;

&lt;h4 id=&quot;proudly-found-elsewhere--not-invented-here--getting-off-the-island&quot;&gt;Proudly found elsewhere / not invented here / getting off the island&lt;/h4&gt;

&lt;p&gt;A primary Drupal 8 philosophy that has largely been successful, but yet to fully bear fruit, is the concept to drastically reduce “Drupalisms” that had proven a challenge for newcomers to the system who had to learn a suite of things specific to only Drupal. The proudly found elsewhere paradigm seeks to mitigate this by leveraging the best of other open source tools when possible rather than reinvent the wheel. A few of the tools Drupal 8 now exploits are &lt;a href=&quot;https://symfony.com/&quot;&gt;Symfony components&lt;/a&gt;, &lt;a href=&quot;https://twig.symfony.com/&quot;&gt;Twig templating engine&lt;/a&gt;, and &lt;a href=&quot;https://getcomposer.org/&quot;&gt;Composer Dependency Manager&lt;/a&gt;. This “borrowing” has two positive consequences: 1) it reduces the workload for Drupal core contributors by utilizing what’s freely available and well vetted through other communities, 2) it allows people familiar with those other frameworks a smoother onramp to productivity in Drupal. I believe we haven’t yet seen a majority of the benefit to the Drupal 8 project from the many people who were already versed in Symfony and TWIG before working with Drupal.&lt;/p&gt;

&lt;p&gt;To quote Angie Byron for the thousandth time (&lt;a href=&quot;https://youtu.be/wWnhfTSkmoU?t=386&quot;&gt;full video here&lt;/a&gt;):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;For people who are classically trained or have experience in other languages, Drupal 8 is going to make a lot more sense to them than Drupal 7 did. We’re just falling more in line with what the larger people are doing… within the broader PHP community.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;wiifm-cost-savings&quot;&gt;WIIFM? Cost savings.&lt;/h3&gt;

&lt;p&gt;The active decision to upgrade or passive indecision to wait both have cost implications. Perhaps this is the most useful section for readers whose primary responsibilities aren’t technical.&lt;/p&gt;

&lt;p&gt;Continuing to invest in Drupal 7 (or earlier) can be costly in ways that may not be abundantly apparent on the surface. For most organizations who work with an agency, custom development is where a brunt of the efforts are spent, and therefore is the primary cost driver. “Custom development” occurs when the functionality a client requests is either not freely available on the open-source market or the agency is unaware of its existence and a developer will write code for the specific use case to “extend” the out-of-the-box functionality. The &lt;a href=&quot;https://en.wikipedia.org/wiki/Pareto_principle&quot;&gt;80-20 rule&lt;/a&gt; applies well to software development in Drupal: roughly 20% of the functionality a client requests accounts for 80% of the effort of a project since that 20% must be built from scratch. When site owners request various functionality, it can be difficult for them to differentiate what may constitute custom development efforts vs. freely available from the contributed community. Given the high effort of customization and related technical debt accumulated, site owners should request a high degree of transparency to understand what requires custom development when establishing project budgets. This way, the organization can do a cost/benefit analysis on a granular, per-feature basis. The goal for developers should be to always start with exploring what already-made wheels are out there for the turning before crafting their own. Be wary of alternative thinking. Yet, as extensible and rich the Drupal community is, nearly all of our engagements require customization.&lt;/p&gt;

&lt;h4 id=&quot;easy-drupal-upgrades-forever&quot;&gt;Easy Drupal upgrades forever&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/the-promise-of-making-drupal-upgrades-easy-742x1114.jpg&quot; alt=&quot;A happy Drupal sunrise&quot; /&gt;&lt;br /&gt;
  &lt;span class=&quot;caption&quot;&gt; Image from Dries’s blog post &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;To the surprise of the community, in an abrupt departure from business-as-usual in early 2017, Dries committed to &lt;a href=&quot;https://dri.es/making-drupal-upgrades-easy-forever&quot;&gt;“easy upgrades forever”&lt;/a&gt;, starting with Drupal 8 of course. The short of it is Drupal 8 to 9 upgrades should be &lt;strong&gt;far easier&lt;/strong&gt; (and less expensive) than any previous major version upgrade, and so will be from here on in. That means for those not yet on Drupal 8, you only have one final difficult upgrade left in your Drupal journey until the end of time.&lt;/p&gt;

&lt;p&gt;This is a fairly natural outcome given the possibilities afforded by a more structured, object-oriented architecture coupled with the growing desire to ease upgrade pain that has been building for some time. Although difficult technical work is needed to &lt;a href=&quot;https://www.drupal.org/core/d8-bc-policy&quot;&gt;flesh out exactly how this will be done&lt;/a&gt;, the commitment from the top is worth putting stock in and the community is on the way to making this grand proclamation a reality. When upgrades are far easier, they will help rectify some of the sentiment of leaving the smaller sites behind, since major version upgrades will be a much less daunting task with Drupal 8 and beyond.&lt;/p&gt;

&lt;h5 id=&quot;drupal-6-or-7-custom-development-is-especially-expensive&quot;&gt;Drupal 6 or 7 custom development is especially expensive&lt;/h5&gt;

&lt;p&gt;However, perhaps the &lt;strong&gt;most important point&lt;/strong&gt; is that you may be doubling your efforts for the final time if you’re doing custom development on Drupal 6 or 7, since it will invariably need to be rewritten to work on Drupal 8 with the same 80-20 rate we mentioned earlier. Given the commitment to easy upgrades and guidelines for backwards compatibility, it’s quite likely that custom code written for Drupal 8 will be highly portable to Drupal 9 and 10 that won’t require an arduous rewrite.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/house-for-drupal-6.jpg&quot; alt=&quot;A Drupal 6 house&quot; /&gt;&lt;br /&gt;
&lt;span class=&quot;caption&quot;&gt; Not our actual house, and it’s not &lt;em&gt;this&lt;/em&gt; bad.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I live in the equivalent of a Drupal 6 house. My partner and I keep putting off things we’d like to do now in prep for a more substantial renovation “on the horizon.” We’re not going to get solar panels before replacing the roof, and we won’t upgrade to a high energy efficiency HVAC system until we restructure some of the foundation. We’re being mindful of mitigating our overall costs, which makes sense, but this all sets up a perverse incentive to make no improvements in the immediate. The same can be true for an older Drupal site. As she frequently reminds me, I’ll remind you: it’s probably time to take the plunge and build your Drupal 8 house.&lt;/p&gt;

&lt;h5 id=&quot;cost-to-upgrade-is-going-down&quot;&gt;Cost to upgrade is going down&lt;/h5&gt;

&lt;p&gt;While there remains one final decidedly not easy upgrade if you’re not yet on Drupal 8, the good news is the cost to upgrading has gone down and will continue to. As of the &lt;a href=&quot;https://www.drupal.org/blog/drupal-8-4-0&quot;&gt;release of 8.4.0&lt;/a&gt;, migrating from Drupal 6 is nearly all the way there:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Core provides migrations for most Drupal 6 data and can be used for migrating Drupal 6 sites to Drupal 8, and the Drupal 6 to 8 migration path is nearing beta stability.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The sentiment on 7, expectedly so, is not as far along:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Drupal 7 to Drupal 8 migration is incomplete but is suitable for developers who would like to help improve the migration and can be used to test upgrades especially for simple Drupal 7 sites. Most high-priority migrations are available.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So migration from 7 still requires some work. More on this ahead.&lt;/p&gt;

&lt;h4 id=&quot;early-adopters-paved-the-way&quot;&gt;Early adopters paved the way&lt;/h4&gt;

&lt;p&gt;We all owe a debt of gratitude to those who were willing to take the risk of building on Drupal 8 in its earlier days. We commend both organizations and agencies who were ambitious and willing to incur some risk to help push the rest of the project forward. We’re proud to put ourselves on that list, starting &lt;a href=&quot;https://github.com/savaslabs/durham-civil-rights-map/commit/7736d4f7375845db5adfd38df721d091a2c72db3&quot;&gt;2.5 years ago&lt;/a&gt;, but it unsurprisingly came with challenges and lessons learned. Mistakes that come with experience are virtually entirely positive for the future since we’ve learned what to do and what to avoid. It’s time for you to benefit from the work of the early adopters.&lt;/p&gt;

&lt;h3 id=&quot;wiifm-the-future&quot;&gt;WIIFM? The Future.&lt;/h3&gt;

&lt;p&gt;The future is uncertain; the only things guaranteed are death and taxes. Actually, even &lt;a href=&quot;https://phys.org/news/2017-03-economists-minimum-income.html&quot;&gt;those&lt;/a&gt; I’m &lt;a href=&quot;https://www.scientificamerican.com/article/aging-is-reversible-at-least-in-human-cells-and-live-mice/&quot;&gt;not so sure&lt;/a&gt; &lt;img class=&quot;emoji&quot; title=&quot;:wink:&quot; alt=&quot;:wink:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f609.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt; Regardless, the future for Drupal 6 and 7 are a known entity not likely to get much better. The upside of Drupal 8, while partially known, is largely still in the making and will keep getting better over time.&lt;/p&gt;

&lt;h4 id=&quot;continuous-innovation-with-experimental-modules-who-doesnt-want-that&quot;&gt;Continuous innovation with experimental modules! Who doesn’t want &lt;em&gt;that&lt;/em&gt;?&lt;/h4&gt;

&lt;p&gt;Among the suite of other firsts, Drupal 8 has &lt;a href=&quot;#continuous-innovation-with-experimental-modules-who-doesnt-want-that&quot;&gt;updated its minor version approach&lt;/a&gt; to accommodate for innovations in core and this is another game changer. Previously, the first version of Drupal 7 (7.0) was essentially functionally the same as the latest (currently 7.56). Now new minor releases introduce &lt;a href=&quot;https://www.drupal.org/core/experimental&quot;&gt;experimental modules&lt;/a&gt; which are driven by agreed-upon priorities and are then vetted over time to see if they’ll graduate from the “experimental” label and be fully baked into core. Therefore Drupal 8 can and will adapt; Drupal 7 cannot. The transparent structure leadership established provides a good balance of innovation and predictability with two minor version releases a year. To track these for your own planning, at any time you can check the development &lt;a href=&quot;https://www.drupal.org/core/roadmap&quot;&gt;roadmap&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;javascript&quot;&gt;Javascript&lt;/h4&gt;

&lt;p&gt;The Drupal community has been abuzz with “headless” or “decoupled” Drupal since the advent of Drupal 8. The basic idea is that Drupal can lean on its strength of being an excellent tool for highly structured and organized data in the backend while allowing freedom and flexibility of choice on the presentation layer (front end). Though &lt;a href=&quot;https://dri.es/should-we-decouple-drupal-with-a-client-side-framework&quot;&gt;discussed two years ago&lt;/a&gt; to no formal conclusion, Dries has recently &lt;a href=&quot;https://dri.es/drupal-looking-to-adopt-react&quot;&gt;cited React&lt;/a&gt; as the go-to presentation layer for Drupal administrative interfaces come early 2018. This is a fairly big deal, and formally moving forward to more tightly link with React has many implications we haven’t yet fully explored. As the lines between websites and web applications continue to blur, this proudly-found-elsewhere addition may prove to be a powerful one that will not be possible for Drupal 6 or 7. We see this as another wise move to be more in-sync with the rapidly growing impact of JS frameworks.&lt;/p&gt;

&lt;h4 id=&quot;access-to-complementary-tools&quot;&gt;Access to complementary tools&lt;/h4&gt;

&lt;p&gt;The re-architecture towards object-orientation helped Drupal join the modern PHP community’s framework (&lt;a href=&quot;https://symfony.com/&quot;&gt;Symfony&lt;/a&gt;, &lt;a href=&quot;https://laravel.com/&quot;&gt;Laravel&lt;/a&gt;, &lt;a href=&quot;https://cakephp.org/&quot;&gt;Cake&lt;/a&gt;, &lt;a href=&quot;https://phalconphp.com/en/&quot;&gt;Phalcon&lt;/a&gt;, &lt;a href=&quot;https://framework.zend.com/&quot;&gt;Zend&lt;/a&gt;, &lt;a href=&quot;https://www.slimframework.com/&quot;&gt;Slim&lt;/a&gt;, &lt;a href=&quot;https://www.codeigniter.com/&quot;&gt;CodeIgniter&lt;/a&gt;, &lt;a href=&quot;http://www.yiiframework.com/&quot;&gt;Yii&lt;/a&gt;, and &lt;a href=&quot;https://fuelphp.com/&quot;&gt;Fuel&lt;/a&gt; to name the most popular) development practices. One subtle yet substantial value to that move is now many tools that are built to help support these other frameworks are available to Drupal as well. As the toolkit for modern web development grows richer and more robust, the more Drupal can utilize, the better. A couple examples we’ve recently used to help inform project quality and future maintenance costs are &lt;a href=&quot;https://codeclimate.com/&quot;&gt;Code Climate&lt;/a&gt; and &lt;a href=&quot;https://scrutinizer-ci.com/&quot;&gt;Scrutinizer&lt;/a&gt;. These tools have much less value analyzing a Drupal 6 or 7 site.&lt;/p&gt;

&lt;h2 id=&quot;our-advice&quot;&gt;Our advice&lt;/h2&gt;

&lt;p&gt;So we’ve dumped a lot of information on you at this point, but it may still not be entirely clear what you should do with your outdated Drupal site. Ahead we provide general suggestions as well as what is pertinent to site owners for each version separately (Drupal 6 and 7).&lt;/p&gt;

&lt;h3 id=&quot;to-everyone-on-drupal-8&quot;&gt;To everyone on Drupal &amp;lt;8&lt;/h3&gt;

&lt;p&gt;We still have &amp;lt;3 for Drupal &amp;lt;8. Drupal 5, 6, and 7 got us to where we are. But here’s what we think you should consider about where you’re going.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Plan 3 years out&lt;/strong&gt; if possible. A stitch in time saves nine, and every minute of planning saves 10 in execution. They’re clichés, but true. Planning well requires a real dedication to strategic and investigative work; there’s no way around it. The upside is it allows you to be intentional about when to incorporate an upgrade, rather than being at the mercy of expiring security support. Organizational stakeholders are usually not compelled by upgrading for the sake of upgrading without other bells and whistles that come with it. An experienced partner can help shepherd the long-term planning process to provide guidance on efforts and things to consider. If you’re not working with an agency, do it yourself. Expect to redesign and do a software upgrade every 3-5 years and time those together if possible. Factor in upgrades to other systems that integrate with your website as well as any initiatives that may require functional improvements. Put all of these larger investments on a &lt;strong&gt;roadmap&lt;/strong&gt; with a timeline and be clear about what components are dependent on or impacted by other components. With technical work, the devil is in the details, so a thorough assessment or “discovery project” is usually the best next step. Discovery work is light on upfront investment yet thorough enough to guide your organization through the many choices in your roadmap. This is really the best way to use your resources most efficiently. If your organization hasn’t historically done this, it handicaps you a bit at the moment, but if you’ll excuse one final cliché: there’s no time like the present.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Be mindful of what you &lt;em&gt;don’t&lt;/em&gt; need&lt;/strong&gt;. We all get excited about the possibilities of new functionality. However, when things we’ve built have outlived their purpose, let them go. Given the complexity and interdependence of the tools we build, customizations take the form of mounting, insidious and potentially crippling technical debt if left unaddressed. The cost to upgrade the technical debt is likely the major cause for most of those who have not yet upgraded; it is certainly the case for all of our partners who haven’t. This debt can be hard to track, and it’s not something most agencies proactively share since they have a hand in creating it and can also be shortsighted. Ask for answers as to how your partner is managing your technical debt. If you don’t get good answers, keep asking. Another subset of this concept is that even if you want to maintain certain functionality, it needn’t be done in the with the same modules on the Drupal 8 platform. So don’t take a given module’s absence in Drupal 8 as a certainty that it cannot be efficiently achieved in Drupal 8. In many cases, it can.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Training will be required.&lt;/strong&gt; If you plan to build with the same team that built your &amp;lt;8 site, and they have not worked on any other Drupal 8 or object-oriented PHP projects, make sure you dedicate time and budget resources for substantial training.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;to-those-with-production-drupal-6-sites&quot;&gt;To those with production Drupal 6 sites.&lt;/h3&gt;

&lt;p&gt;I wrote a Drupal 6 series as Drupal 8 had announced its release (the &lt;a href=&quot;/2015/11/24/drupal-6-upgrade.html&quot;&gt;overview&lt;/a&gt;, &lt;a href=&quot;/2015/12/10/drupal-6-part-2.html&quot;&gt;the risks&lt;/a&gt;, &lt;a href=&quot;/2016/01/25/drupal-6-part-3.html&quot;&gt;the options&lt;/a&gt;, &lt;a href=&quot;/2016/02/24/drupal-6-part-4.html&quot;&gt;Drupal 7 or 8&lt;/a&gt;) which is a good reference for both what was true then and what has changed now. Then, I certainly encouraged a conversation with your partner about what is right for you. That has not changed. What has changed is the maturity of the migration system, making it easier to port your content from 6 to 8. An upgrade to Drupal 8 by way of migration should be where you start based on all of the above, and the job before committing to that path is to well vet all requirements to migrate. Given that migrations are high-effort, you should explore alternatives with your development team. How much it’s worth to invest in a migration depends on how valuable your old content is to preserve, which varies widely for organizations.&lt;/p&gt;

&lt;p&gt;If through research you uncover that you’re still not ready for Drupal 8, you should make an action plan to follow up on the components that will allow you to upgrade to Drupal 8 and track those over time. You should look into efforts to upgrade to Drupal 7, being mindful of how you can mitigate the costs to the Drupal 8 upgrade. You should consider support with the MyDropWizard team in the immediate. It’s lead by David Snopek who is on the core security team and has an impressive Drupal resume. It’s hard to assess how the support provided by MDW compares to the &lt;a href=&quot;https://security.drupal.org/team-members&quot;&gt;core security team&lt;/a&gt;, but it’s much better than not having any security support. I would also caution those to not use the relief from having coverage through MDW as a reason to rest on your laurels. If Drupal is still working for you, you should be thinking about how to get to Drupal 8. Additionally, as we agreed earlier there’s no longer even certainty to death and taxes, it’s possible that things could change for MDW, and you’d be without support again.&lt;/p&gt;

&lt;h3 id=&quot;to-those-with-production-drupal-7-sites&quot;&gt;To those with production Drupal 7 sites.&lt;/h3&gt;

&lt;p&gt;As far as building new on Drupal 7, I have a hard time conceptualizing for whom that is the right choice. MDW &lt;a href=&quot;(https://www.mydropwizard.com/blog/its-ok-build-new-sites-drupal-7)&quot;&gt;wants to keep the door open to building new in Drupal 7&lt;/a&gt;, but others &lt;a href=&quot;https://www.mydropwizard.com/comment/916#comment-916&quot;&gt;point out incentives again&lt;/a&gt;. Much like the hat tip to Dries for accepting criticism, I must commend MDW accepting these comments on their blog.&lt;/p&gt;

&lt;p&gt;If you have a high degree of customization and technical debt, &lt;a href=&quot;https://www.drupal.org/node/2608062&quot;&gt;keep track of the development of Drupal 9&lt;/a&gt;. Upgrade now cannot be prescriptive for the 900,000+ sites still on Drupal 7. We generally agree with Angie’s recent presentation at Acquia Engage called &lt;a href=&quot;https://www.slideshare.net/webchickenator/drupal-9-and-backwards-compatibility-why-now-is-the-time-to-upgrade-to-drupal-8/39&quot;&gt;Drupal 9 and Backwards Compatibility: Why now is the time to upgrade to Drupal 8&lt;/a&gt; for those on Drupal 7:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If it’s working for you that’s fine! (Until Drupal 9)
But if D8 offers features you want, consider earlier adoption.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So, if you’ve determined that you’ll remain on Drupal 7 for some time, your development team should be aware of a couple Drupal modules (&lt;a href=&quot;https://www.drupal.org/project/xautoload&quot;&gt;xautoload&lt;/a&gt; and &lt;a href=&quot;https://www.drupal.org/project/service_container&quot;&gt;service_container&lt;/a&gt;) that make writing Drupal-8 like code possible in Drupal 7. These tools will help familiarize developers with Drupal 8 paradigms and possibly reduce substantial technical debt in the future.&lt;/p&gt;

&lt;h3 id=&quot;to-those-not-on-drupal-but-considering-it&quot;&gt;To those not on Drupal, but considering it&lt;/h3&gt;

&lt;p&gt;If you’re in the market for a CMS and have ambitious web goals, you should at least check out Drupal. It’s been holding &lt;a href=&quot;https://w3techs.com/technologies/history_overview/content_management&quot;&gt;fairly steadily in the CMS market&lt;/a&gt;, and given some of the problems of the past with versions before Drupal 8, we think this speaks very promisingly of the future for Drupal. This is not to say that it is the right fit for all websites. It is not. However, with &lt;a href=&quot;https://pantheon.io/features/drupal-hosting&quot;&gt;free hosting&lt;/a&gt; &lt;a href=&quot;https://www.acquia.com/acquia-cloud-free&quot;&gt;options&lt;/a&gt;, and improved and simplified admin experience, and the most powerful backend of the open source CMSes, it does fit a lot of needs.&lt;/p&gt;

&lt;h3 id=&quot;we-want-to-hear-from-you&quot;&gt;We want to hear from you&lt;/h3&gt;

&lt;p&gt;We want to hear from your experience, whether or not it resonates with what we’ve presented here. Are you having challenges to upgrading that you feel went unaddressed here? Notice anything we overlooked? Comment away, or write us privately if that’s appropriate. I’m also often on &lt;a href=&quot;https://drupal.slack.com/messages&quot;&gt;Drupal slack&lt;/a&gt; (@chrisarusso) checking in on our local #TriDUG meetup conversations.&lt;/p&gt;
</description>
        <pubDate>Wed, 08 Nov 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/11/08/cost-of-drupal-7.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/11/08/cost-of-drupal-7.html</guid>
        
        <category>drupal</category>
        
        <category>drupal8</category>
        
        <category>drupal-planet</category>
        
        
      </item>
    
      <item>
        <title>Drupal 8 turns 2. Are you taking advantage of it yet?</title>
        <description>&lt;p&gt;Drupal 8’s official release was &lt;a href=&quot;https://www.drupal.org/blog/drupal-800-released&quot;&gt;nearly two years ago&lt;/a&gt;, and many ask how is it doing? Has it lived up to its ambition to revolutionize Drupal websites?&lt;/p&gt;

&lt;p&gt;In the first of a &lt;a href=&quot;/2017/11/08/cost-of-drupal-7.html&quot;&gt;two-part series&lt;/a&gt;, we’ll provide our insight into the evolution of Drupal 8 over its first two years in the wild. In &lt;a href=&quot;/2017/11/08/cost-of-drupal-7.html&quot;&gt;part two&lt;/a&gt;, we’ll look at important factors to consider in your Drupal investments going forward.&lt;/p&gt;

&lt;h2 id=&quot;drupal-change-is-hard&quot;&gt;(Drupal) Change is hard&lt;/h2&gt;

&lt;p&gt;To launch a website (much like &lt;a href=&quot;https://www.youtube.com/watch?v=l-O5IHVhWj0&quot;&gt;to rock a rhyme that’s right on time&lt;/a&gt;) is tricky; to operate a web system in a way that uplifts your organization is &lt;em&gt;just plain hard&lt;/em&gt;. Although keeping up with the most current software is typically advisable, there &lt;em&gt;are&lt;/em&gt; costs to doing so, even for free software like Drupal. Without the vendor lock-in that comes with proprietary Content Management Systems, Drupal site owners have a high degree of freedom to consider how best to invest their web resources. However, this freedom also has a price (see a pattern emerging?) in the form of &lt;strong&gt;time&lt;/strong&gt; and &lt;strong&gt;stress&lt;/strong&gt; incurred from the responsibility to select the best digital tools to drive your organization for years with &lt;em&gt;limited&lt;/em&gt; information to evaluate the nearly &lt;em&gt;limitless&lt;/em&gt; options.&lt;/p&gt;

&lt;p&gt;Of the &lt;a href=&quot;https://www.drupal.org/project/usage/drupal&quot;&gt;1 million+&lt;/a&gt; organizations whose main window to the digital world is powered by Drupal, many have priorities that compete in time and budget with web system investments. When considering these priorities, determining the right time to invest in an improved user experience, design, feature-set, or software upgrade can be difficult.&lt;/p&gt;

&lt;p&gt;With the ever-increasing complexity and interconnectedness of the software systems we build, even the world’s most prominent organizations, often with legions of engineers, have &lt;a href=&quot;http://www.businessinsider.com/6-software-updates-that-went-wrong-2015-12/#a-small-update-to-the-iphones-software-last-year-caused-thousands-of-phones-to-lose-their-cellular-connections-1&quot;&gt;had&lt;/a&gt; &lt;a href=&quot;https://www.nytimes.com/2016/05/19/technology/personaltech/why-windows-10-upgrades-go-wrong-and-how-to-avoid-it.html&quot;&gt;colossal&lt;/a&gt; &lt;a href=&quot;https://www.usatoday.com/story/tech/columnist/2016/03/07/how-recover-iphone-update-gone-bad/81427214/&quot;&gt;mishaps&lt;/a&gt; with &lt;a href=&quot;https://arstechnica.com/information-technology/2017/08/500-smart-locks-arent-so-smart-anymore-thanks-to-botched-update/&quot;&gt;upgrades&lt;/a&gt;. By default, upgrades are not easy.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To upgrade or not? &lt;em&gt;That&lt;/em&gt; is the question.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Like any decision, whether you’re building new or upgrading, the fundamental question is: do the benefits outweigh the costs? In the specific case of investing in Drupal the question becomes: &lt;em&gt;when&lt;/em&gt; does making the leap to Drupal 8 rather than continuing to invest in Drupal 7 (or possibly 6… don’t tell me it’s 5 &lt;img class=&quot;emoji&quot; title=&quot;:wink:&quot; alt=&quot;:wink:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f609.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt; ) outweigh the costs to take that leap? For any organization to properly answer that question, it’s necessary to look 3-5 years out with regard to budget and organizational goals. It’s also helpful to better understand how the broader community has approached this same decision over the past two years. Let’s take a look.&lt;/p&gt;

&lt;h2 id=&quot;taking-stock-of-drupal-8s-adoption&quot;&gt;Taking stock of Drupal 8’s adoption&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/stock.jpg&quot; alt=&quot;stock market image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After nearly two years since its public release, how has the adoption of Drupal 8 gone?&lt;/p&gt;

&lt;h3 id=&quot;analysis-from-the-top&quot;&gt;Analysis from the top&lt;/h3&gt;

&lt;p&gt;Before DrupalCon North America in May 2016 in New Orleans, Drupal founder and current project lead Dries Buytaert &lt;a href=&quot;https://dri.es/how-is-drupal-8-doing&quot;&gt;blogged that Drupal 8 was doing “outstanding,”&lt;/a&gt; citing statistics to substantiate his optimistic view.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Based on my past experience, I am confident that Drupal 8 will be adopted at “full-force” by the end of 2016.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Many in the community contested the veracity of his optimism in the article’s comments and I &lt;a href=&quot;https://dri.es/how-is-drupal-8-doing#comment-125541&quot;&gt;commended Dries&lt;/a&gt; (yes that’s me and not &lt;a href=&quot;https://twitter.com/MadDogUnleashed&quot;&gt;him&lt;/a&gt;, and definitely not &lt;a href=&quot;http://www.tvguide.com/news/apprentice-trump-russo-39885/&quot;&gt;him&lt;/a&gt;) for facilitating an open conversation that elicited a broad perspective.&lt;/p&gt;

&lt;p&gt;About a month later, some six months after Drupal 8 was released, Savas Labs attended DrupalCon NOLA.&lt;/p&gt;

&lt;div class=&quot;jekyll-twitter-plugin&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;We have arrived &lt;a href=&quot;https://twitter.com/hashtag/DrupalCon?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DrupalCon&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/NOLA?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#NOLA&lt;/a&gt; &lt;a href=&quot;https://twitter.com/DrupalConNA?ref_src=twsrc%5Etfw&quot;&gt;@DrupalConNA&lt;/a&gt;!!!! &lt;a href=&quot;https://twitter.com/hashtag/yesfilter?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#yesfilter&lt;/a&gt; &lt;a href=&quot;https://t.co/RlkNAu99nB&quot;&gt;pic.twitter.com/RlkNAu99nB&lt;/a&gt;&lt;/p&gt;&amp;mdash; Savas Labs (@Savas_Labs) &lt;a href=&quot;https://twitter.com/Savas_Labs/status/729504649233899521?ref_src=twsrc%5Etfw&quot;&gt;May 9, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;p&gt;During the &lt;a href=&quot;https://youtu.be/Ksp5JVFryEg?t=464&quot;&gt;perennial “Driesnote,”&lt;/a&gt; Dries continued to present Drupal 8 as well on its way to match if not exceed the success of Drupal 7.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I really truly believe, Drupal 8 will take off. My guess is that by the end of this year [2016] Drupal 8 will serve an escape velocity… it will become the de facto standard.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The new architecture, features, as well as frequent releases: all of these things make me feel really, really optimistic and bullish about Drupal 8.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;adoption-by-the-numbers&quot;&gt;Adoption by the numbers&lt;/h3&gt;

&lt;p&gt;According to the &lt;a href=&quot;https://www.drupal.org/project/usage/drupal&quot;&gt;usage statistics&lt;/a&gt; available on the Drupal website, when writing this nearly 80% of the world’s Drupal websites were powered by version 7.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/drupal-version-graph.png&quot; alt=&quot;drupal stats d8&quot; /&gt;
  &lt;span class=&quot;caption&quot;&gt; A graph started by &lt;a href=&quot;https://docs.google.com/spreadsheets/d/1ETrxAEHgLepeCR8WhuMDrWba1IKXJGd32Lq0hh5szjs/edit#gid=93393428&quot;&gt;Angie Byron of Acquia&lt;/a&gt; that I updated to present. &lt;br /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;When Drupal 7 was released on January 5, 2011, there were already more Drupal 7 sites than sites powered by the major version two releases prior: Drupal 5 (A). The same feat for Drupal 8 took over nine months after its release to achieve (C). Total Drupal 7 sites eclipsed total sites of its predecessor version (6) about 13 months after the release of Drupal 7 (B). After nearly 2 years from the release of Drupal 8, it has not yet eclipsed Drupal 7 installations, and at present there are over 700,000 &lt;em&gt;more&lt;/em&gt; Drupal 7 sites than Drupal 8.&lt;/p&gt;

&lt;h4 id=&quot;our-take-on-driess-bullish-ness&quot;&gt;Our take on Dries’s bullish-ness&lt;/h4&gt;

&lt;p&gt;To his credit, the future is notoriously difficult to predict, and even when predicting it, Dries spoke of the significant work that lay ahead to see his vision come to fruition. He also made the referenced comments well over a year ago, and I’ll concede speaking in hindsight is infinitely easier. Having said that, comparing the total number of upgraded Drupal 8 sites to Drupal 7 sites over the same period from release in a community that had grown ~220% since Drupal 7’s release, while factually indisputable, was probably not as accurate as using adoption percentages to analyze overall trends.&lt;/p&gt;

&lt;p&gt;Even the most conservative interpretations of “escape velocity” or “full-force” would have to concede that we’re at least a year behind Dries’s hopes when he was reporting from DrupalCons Barcelona and New Orleans on impending rapid Drupal 8 adoption. But, what’s a dictator worth his salt to do, &lt;a href=&quot;https://randyfay.com/content/how-do-open-source-communities-govern-themselves&quot;&gt;benevolent&lt;/a&gt; or not, other than to &lt;a href=&quot;https://www.huffingtonpost.com/paul-jarvis/8-out-of-10-statistics-ar_b_6516014.html&quot;&gt;stretch the stats&lt;/a&gt; a bit to show what he would like to be true for his beloved community, from which he also profits?&lt;/p&gt;

&lt;h4 id=&quot;our-assessment&quot;&gt;Our assessment&lt;/h4&gt;

&lt;p&gt;After two years, the data unequivocally show, as I began discussing &lt;a href=&quot;https://events.drupal.org/neworleans2016/sessions/total-value-ownership-drupal-8-and-beyond&quot;&gt;at DrupalCon New Orleans&lt;/a&gt;, the rate of Drupal 8 adoption is objectively slower than Drupal 7. At this point, a majority of organizations have not yet upgraded from 7 to 8, though likely many have begun efforts. Taking a simplistic view, this means Drupal 8 has either been more costly to upgrade, a comparatively less valuable product, or perhaps both.&lt;/p&gt;

&lt;p&gt;Regardless, since it matters to our partners, we found it important to explore the reasons behind the slow adoption rather than to pretend it’s not happening. After architecting Drupal 8 web systems for 2.5 years, we have gained insight into the relatively slow adoption.&lt;/p&gt;

&lt;h2 id=&quot;drupal-8-adoption-challenges&quot;&gt;Drupal 8 adoption challenges&lt;/h2&gt;

&lt;p&gt;Drupalers haven’t written much about the retrospective analysis of the Drupal 8 adoption challenges. But without being able to take a real, honest look inward, we cannot improve. We must know thyself because the examined Drupal problems are worth fixing! We highlight here the most prominent challenges that have slowed Drupal 8 adoption.&lt;/p&gt;

&lt;h3 id=&quot;complete-code-re-architecture&quot;&gt;1. Complete code re-architecture&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&quot;https://dri.es/why-the-big-architectural-changes-in-drupal-8&quot;&gt;massive shift of the underpinnings of the Drupal code&lt;/a&gt; is a decision that has long been debated within the community. There’s no question it has proven a challenge for proficient Drupal 7 developers to develop on Drupal 8: for most, substantial training and learning is required. Training takes time, and time can often mean money. The loss in short-term efficiency for seasoned Drupal developers made early adoption riskier, and typically added to a project’s expense. Joining with other prominent frameworks known outside of Drupal like Twig and Symfony (colloquially referred to as “&lt;a href=&quot;https://www.garfieldtech.com/blog/off-the-island-2013&quot;&gt;getting off the island&lt;/a&gt;”) was a collective decision by wise Drupal leadership with the long-term value of the product in mind, but in the short-term, for the average Drupal developer, it meant more new things to learn.&lt;/p&gt;

&lt;h3 id=&quot;slow-contributed-module-porting&quot;&gt;2. Slow contributed module porting&lt;/h3&gt;

&lt;p&gt;Historically Drupal has derived much of its usefulness from the rich contributed module ecosystem that extends the features of Drupal core. Contributed modules, although crucial to most live Drupal websites, by definition are not directly driven by those that oversee Drupal core development. This disconnect invariably leads to some important modules not having a usable upgraded version when a new major version of Drupal core is released. This is well-known within the Drupal community, &lt;a href=&quot;http://webchick.net/node/129&quot;&gt;explained at great length by Angie Byron&lt;/a&gt; (second reference), and not unique to the Drupal 8 release. Tremendous amounts of individual and community efforts are required to upgrade modules to the latest major version. Due to &lt;a href=&quot;#complete-code-re-architecture&quot;&gt;#1 from above&lt;/a&gt;, these efforts were further exacerbated by the re-architecture. Costs to upgrade even one module (it’s common for a Drupal 7 site to use 100) are often greater than clients or agencies are willing to absorb on a given project.&lt;/p&gt;

&lt;h3 id=&quot;incomplete-upgrade-path&quot;&gt;3. Incomplete upgrade path&lt;/h3&gt;

&lt;p&gt;We often describe websites as comprised of three main asset groups: the &lt;strong&gt;code&lt;/strong&gt; (Drupal core, contributed and custom modules), &lt;strong&gt;files&lt;/strong&gt; (think media assets like images), and the &lt;strong&gt;database&lt;/strong&gt; where content and site configuration lives. When upgrading, you download the new Drupal code, which has a set of instructions that must be run to apply complex updates to the database. Files remain unchanged. A well-oiled upgrade process is required to update the content and configuration from the site being upgraded into a format intelligible to the new system. The approach to perform those upgrades &lt;a href=&quot;https://www.drupal.org/docs/8/upgrade/upgrading-from-drupal-6-or-7-to-drupal-8&quot;&gt;has also changed in Drupal 8&lt;/a&gt; to what is now referred to as “a migration”. As of the &lt;a href=&quot;https://www.drupal.org/blog/drupal-8-4-0&quot;&gt;most recent minor release of Drupal 8&lt;/a&gt; in October states:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;…Drupal 6 to 8 migration path is nearing beta stability. Some gaps remain, such as for some internationalization data. The Drupal 7 to Drupal 8 migration is incomplete but is suitable for developers who would like to help improve the migration and can be used to test upgrades especially for simple Drupal 7 sites. Most high-priority migrations are available.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;“Nearing beta stability” after two years out from release is not ideal though it is reality since perfecting these migration tasks is hard work. One can discern from the Drupal 7 -&amp;gt; 8 migration snippet that it’s clearly further afield, and for those who need to preserve their content, perhaps a non-starter for a 7 -&amp;gt; 8 upgrade. The inability to efficiently update database structures adds to project expense. Whatever doesn’t come over “for free” with the migration will need to be manually replicated by a human, and humans are costly, as our time is precious.&lt;/p&gt;

&lt;h3 id=&quot;stance-on-backwards-compatibility&quot;&gt;4. Stance on backwards compatibility&lt;/h3&gt;

&lt;p&gt;Drupal’s approach to backwards compatibility is famously “&lt;a href=&quot;https://www.drupal.org/node/2613652&quot;&gt;for data, not code&lt;/a&gt;”. Briefly put, in their words: “While the upgrade path will reliably preserve your data, there is no backward compatibility with the previous Drupal code.” If you want to dig deeper, there’s a lot of &lt;a href=&quot;https://dri.es/backward-compatibility&quot;&gt;good&lt;/a&gt; &lt;a href=&quot;https://www.drupal.org/core/d8-bc-policy&quot;&gt;discussion&lt;/a&gt; &lt;a href=&quot;https://www.drupal.org/blog/the-transformation-of-drupal-8-for-continuous-innovation&quot;&gt;on&lt;/a&gt; &lt;a href=&quot;https://www.drupal.org/core/d8-allowed-changes#bc-break&quot;&gt;this&lt;/a&gt; &lt;a href=&quot;https://events.drupal.org/baltimore2017/sessions/backwards-compatibility-burden-benefit&quot;&gt;topic&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://make.wordpress.org/core/handbook/about/release-cycle/version-numbering/&quot;&gt;WordPress’s approach&lt;/a&gt;, perhaps more than anything, explains &lt;a href=&quot;https://trends.builtwith.com/cms&quot;&gt;its ubiquity&lt;/a&gt; and &lt;a href=&quot;https://wordpress.org/about/stats/&quot;&gt;ability to better keep sites on the latest version&lt;/a&gt;. In their words:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Major releases add new user features and developer APIs. Though typically a “major” version means you can break backwards compatibility (and indeed, it normally means that you have), WordPress strives to &lt;strong&gt;never&lt;/strong&gt; break backwards compatibility. It’s one of our most important philosophies, and makes updates much easier on users and developers alike.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Albeit a bit confusing, even for the non-technologist, you get the sense they’re more worried about breaking stuff and want upgrades to Just Work™. The strength of the Drupal approach is it allows for more innovation, and in some ways, less baggage since preserving backwards compatibility often means hanging on to outdated code. The trade-off is, once old code is determined to be holding innovation back, it’s cast to the side, and new structures must be implemented in the updated version. Historically, this paradigm has caused many to get stuck in an outdated Drupal version for longer than they’d like because they cannot afford an upgrade.&lt;/p&gt;

&lt;h3 id=&quot;inertia-perceived-value-and-expense&quot;&gt;5. Inertia, perceived value, and expense&lt;/h3&gt;

&lt;p&gt;A modern organization is focused on more than &lt;em&gt;just&lt;/em&gt; their website, and for investments that don’t deliver direct, visual, tangible change, stakeholders often overlook them, even when they may present value. Examples where the value is oft-invisible to clients are investing in an automated testing framework that ensures perpetual site integrity, or vigilantly applying security updates as they become available. In either case, the client may perceive them as optional, but foregoing them is likely to cost the organization in the long-run.&lt;/p&gt;

&lt;p&gt;Since Drupal only provides security support for two major versions at a time (presently 7 and 8), for many, the prime motive for a new release, often framed as a mandate, is to upgrade from the version two major releases prior, which has fallen out of support. When Drupal 8 came out, Drupal 6 fell out of support after a &lt;a href=&quot;https://www.drupal.org/forum/general/news-and-announcements/2014-06-18/drupal-6-extended-support-announcement&quot;&gt;grace period of three months&lt;/a&gt;, generously extended from the day of release given some of the &lt;a href=&quot;https://www.drupal.org/node/2136029&quot;&gt;community’s recognition&lt;/a&gt; of some of the challenges we’ve documented here.&lt;/p&gt;

&lt;p&gt;If an organization doesn’t heed the security warnings, and doesn’t find enough value in the new features, they may choose to ignore the upgrade completely. The truth is it’s hard to estimate the future risk of using outdated software. However that &lt;a href=&quot;https://www.csoonline.com/article/2130877/data-breach/the-16-biggest-data-breaches-of-the-21st-century.html&quot;&gt;future risk is very real&lt;/a&gt;, and digital security compromises show no signs of slowing down. Savas Labs always advocates for timely security coverage, but it has not always been a budgetary possibility for our partners to upgrade from Drupal 6 to Drupal 8 upon release of 8.&lt;/p&gt;

&lt;h3 id=&quot;an-answer-to-the-drupal-6-problem&quot;&gt;An answer to the Drupal 6 problem&lt;/h3&gt;

&lt;p&gt;In addition to our experience, the usage data show many organizations did not plan sufficiently to upgrade from Drupal 6 to 7 or 8 upon Drupal 8’s release. Recognizing that, a Drupal agency My Drop Wizard set up &lt;a href=&quot;https://www.mydropwizard.com/drupal-6-lts&quot;&gt;long-term security support&lt;/a&gt; for the many Drupal 6 sites that were not ready to upgrade to Drupal 8. It’s debatable whether or not this was a good thing for the community. People forced to change, often will change sooner than they would otherwise, but they may resent you for it. Conversely, you’d be hard-pressed to find an MDW client who didn’t experience anxiety relief when offered an inertia-compliant alternative.&lt;/p&gt;

&lt;p&gt;Organizations that don’t perceive opportunity in the value the new software provides will look at an upgrade strictly as an expense to avoid, likely citing topics we’ve covered here.&lt;/p&gt;

&lt;h2 id=&quot;takeaways&quot;&gt;Takeaways&lt;/h2&gt;

&lt;p&gt;Through experience and analysis, we see there are many understandable and justifiable reasons why many organizations haven’t yet upgraded to Drupal 8. Now that we’ve done the hard reflection, the good news is that the present is a much brighter place for not only Drupal 8 but all future versions of Drupal. We have made it through most of the difficult growing pains, and there’s great reason to believe that the community has invested wisely in the future. In &lt;a href=&quot;/2017/11/08/cost-of-drupal-7.html&quot;&gt;part two&lt;/a&gt;, we cover the costs of investing in Drupal 7, and why it’s probably time to move to Drupal 8.&lt;/p&gt;

</description>
        <pubDate>Fri, 27 Oct 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/10/27/drupal-8-turns-2.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/10/27/drupal-8-turns-2.html</guid>
        
        <category>drupal</category>
        
        <category>drupal8</category>
        
        <category>drupal-planet</category>
        
        
      </item>
    
      <item>
        <title>Savaslabs.com Redesign</title>
        <description>&lt;p&gt;At Savas Labs, we are a forward-looking bunch, much like our neighbors around the corner from our Durham office, The Republik, who wear that badge a little more… overtly:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/the-republik-building.jpg&quot; alt=&quot;Front of The Republik building&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Though future-focused-first, we &lt;em&gt;also&lt;/em&gt; recognize the importance of history and the value of a little reflection. After all, we  &lt;em&gt;must&lt;/em&gt; learn from our mistakes to truly thrive.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Know from whence you came. If you know whence you came, there are absolutely no limitations to where you can go. - James Baldwin&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Aside: I can’t recommend the award-winning documentary about James Baldwin’s legacy &lt;a href=&quot;http://www.iamnotyournegrofilm.com/&quot;&gt;&lt;em&gt;I am not your negro&lt;/em&gt;&lt;/a&gt; strongly enough. See it.&lt;/p&gt;

&lt;h2 id=&quot;from-whence-we-came&quot;&gt;From whence we came…&lt;/h2&gt;
&lt;p&gt;Savas Labs matured substantially in 2016, refining processes and adding new team members who brought complementary skills. It’s both intriguing and humbling to reflect on just how much we learned in the past year. It wasn’t all &lt;a href=&quot;https://www.google.com/search?biw=1524&amp;amp;bih=979&amp;amp;tbm=isch&amp;amp;sa=1&amp;amp;q=puppy+dogs+and+ice+cream&amp;amp;oq=puppy+dogs+and+ice+cream&quot;&gt;puppy dogs and ice cream&lt;/a&gt;, but the successes and the challenges helped us carve out our place in the world. We worked with consultants, analyzed and soul-searched to elicit what it is we love doing &lt;em&gt;and&lt;/em&gt; are really good at as a growing team. One manifestation of these pursuits was the establishment of &lt;a href=&quot;/company/mission-and-values/&quot;&gt;our core values&lt;/a&gt;. They help hold us and future Savasians (coining the demonym &lt;em&gt;Savasian&lt;/em&gt; - another thing we did in 2016) accountable to an agreed upon set of principles which drive how we treat one another and our partners.&lt;/p&gt;

&lt;p&gt;In addition to internal analysis, we studied our best projects to see what characteristics in partners and their challenges for which we are best fit. We uncovered that what we enjoy most and truly &lt;a href=&quot;/company/mission-and-values/#excel&quot;&gt;excel&lt;/a&gt; at are projects with strategic and complex needs that lean heavily on our deep Drupal expertise usually requiring inter-departmental engagement within organizations.&lt;/p&gt;

&lt;p&gt;Ergo: our positioning statement that appears front-and-center on our &lt;a href=&quot;/&quot;&gt;homepage&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;We craft elegant Drupal web systems that propel organizations&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;why-the-redesign&quot;&gt;Why the redesign&lt;/h2&gt;

&lt;p&gt;You know, the typical reason, because we wanted to &lt;img class=&quot;emoji&quot; title=&quot;:wink:&quot; alt=&quot;:wink:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f609.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;. In truth, we were due for a redesign as the last time we did this was &lt;a href=&quot;/2015/04/01/building-our-site.html&quot;&gt;over two years ago&lt;/a&gt;. Additionally, given our growth, we felt our website did not reflect the quality of work we’ve been doing. As we updated our message, we recognized copy updates alone would be insufficient to demonstrate our capabilities. In the process, we took advantage of the artistic skillset of one of our 2016 additions to the team, &lt;a href=&quot;/company/oksana-cyrwus/&quot;&gt;Oksana Cyrwus&lt;/a&gt;, to create a vision of our team’s identity.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/cross-browser-testing-lab-redesign-2017.jpg&quot; alt=&quot;Many devices testing responsive&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Oksana’s cross browser testing lab&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;construction-materials&quot;&gt;Construction Materials&lt;/h2&gt;

&lt;p&gt;Although we’re usually building client websites in Drupal, we chose to continue with the static site generator Jekyll which we’ve &lt;a href=&quot;/blog/tag/jekyll/&quot;&gt;written about before&lt;/a&gt; as our platform. We believe firmly in using the right tool for the job and use a multitude of technologies, frameworks and programming languages in any given &lt;del&gt;Sunday&lt;/del&gt; workday.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/construction.jpg&quot; class=&quot;blog-image-full-width&quot; alt=&quot;Man cutting wood&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;https://twitter.com/codeguy&quot;&gt;Josh Lockhart&lt;/a&gt; a local author and creator of the &lt;a href=&quot;https://www.slimframework.com/&quot;&gt;Slim PHP MicroFramework&lt;/a&gt; advised a developer audience at a recent PHP conference talk (&lt;a href=&quot;https://youtu.be/hH4HyfXiH9Y?t=924&quot;&gt;Video link&lt;/a&gt;):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Be aware that other tools exist and that they may be better suited for certain tasks.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ultimately, for us, the benefits outweighed the drawbacks:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/inertia.jpg&quot; alt=&quot;man pushing a rock: inertia&quot; class=&quot;blog-image-right&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;bennies&quot;&gt;Bennies&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;No database back-end, meaning reduced security threats and reduced hosting complexity. We’re able to host for free on &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html&quot;&gt;highly-performant framework&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2016/10/25/deploy-jekyll-with-travis.html&quot;&gt;Ease of deployment&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Efficient for our workflow as it is developer oriented.&lt;/li&gt;
  &lt;li&gt;Inertia.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;drawbacks&quot;&gt;Drawbacks&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Requires Ruby ecosystem competency which often presents the need to acquire new skills for Drupalers.&lt;/li&gt;
  &lt;li&gt;Requires developer-level skills to update.&lt;/li&gt;
  &lt;li&gt;Not as robust of an ecosystem as Drupal for example.
    &lt;ol&gt;
      &lt;li&gt;Example: When we were dissatisfied with our comment options, we &lt;a href=&quot;/2016/04/20/squabble-comments.html&quot;&gt;built our own server&lt;/a&gt; on guess what, a different framework. This took us time and is less feature-rich than what we’d get with Drupal out of the box.&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;These drawbacks, though not without their costs, are also opportunities for us to be a part of the broader web ecosystem and learn. The more exposure to best-practices and other frameworks, the more we can borrow from and employ them in our work, though it &lt;em&gt;is&lt;/em&gt; an investment to develop the expertise.&lt;/p&gt;

&lt;p&gt;Jekyll works for us since the &lt;a href=&quot;/company#team&quot;&gt;team of savvy Savasians&lt;/a&gt; is comfortable rapidly learning a new workflow to publish updates to our website. Additionally our website needs are relatively simple, certainly compared to the needs of many of our partners. Our partners often have personnel with a wide range of technical training and often require sophisticated content models, granular authentication and permissions, advanced content publishing workflows among many other common needs for which a modular ecosystem of plugins like Drupal’s would be better suited.&lt;/p&gt;

&lt;p&gt;Alongside Jekyll, we used &lt;a href=&quot;http://trulia.github.io/hologram/&quot;&gt;Hologram&lt;/a&gt; developed by Trulia for our &lt;a href=&quot;/styleguide&quot;&gt;style guide&lt;/a&gt;. It proved to be a great workflow for our designer, front-end developer and myself to interact efficiently and see updated results in the browser rapidly.&lt;/p&gt;

&lt;h2 id=&quot;timing&quot;&gt;Timing&lt;/h2&gt;

&lt;p&gt;And today… Today we celebrate our independ… no - we celebrate our redesigned website launch and the &lt;a href=&quot;https://events.drupal.org/baltimore2017&quot;&gt;Drupalcon Baltimore&lt;/a&gt; kickoff simultaneously! Coincidence? Of course not! However, I would like to give a shoutout to my entire team for making this happen on a tight schedule and an extra big-ups to Anne and Oksana who put in extra hours in the weeks leading up to make today possible. It was fun to be a part of the building process again; I found myself feverishly reloading the site every time new code was pushed up, which was often many, many times a day.&lt;/p&gt;

&lt;p&gt;So now it’s time to show off our fancy new website complete with business cards to boot! Tell us what you think &lt;a href=&quot;#js-comments&quot;&gt;in comments&lt;/a&gt; or on &lt;a href=&quot;https://twitter.com/intent/tweet?text=We%20think%20the%20redesign%20is%20likely,%20nay,%20probable,%20to%20bring%20about%20world%20peace%20%F0%9F%8C%8F%20%E2%98%AE%EF%B8%8F%20Congrats%20%40Savas_Labs%21&amp;amp;source=webclient&quot;&gt;Twitter&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;jekyll-twitter-plugin&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Got the new fully recyclable ♻️  green business cards in honor of &lt;a href=&quot;https://twitter.com/hashtag/EarthDay2017?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#EarthDay2017&lt;/a&gt; 🌏 📅  just in time for &lt;a href=&quot;https://twitter.com/hashtag/Drupalcon?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Drupalcon&lt;/a&gt; &lt;a href=&quot;https://t.co/YMg90yU1UT&quot;&gt;pic.twitter.com/YMg90yU1UT&lt;/a&gt;&lt;/p&gt;&amp;mdash; Savas Labs (@Savas_Labs) &lt;a href=&quot;https://twitter.com/Savas_Labs/status/854730073152385027?ref_src=twsrc%5Etfw&quot;&gt;April 19, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 24 Apr 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/04/24/savas-labs-website-redesign.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/04/24/savas-labs-website-redesign.html</guid>
        
        <category>design</category>
        
        <category>user-experience</category>
        
        <category>jekyll</category>
        
        
      </item>
    
      <item>
        <title>Lightning Talks - Three Useful Additions to Any Developer Toolbox in Q1 2017</title>
        <description>&lt;p&gt;&lt;em&gt;This post is part of a new series called “Lightning Talks.”&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The web development world evolves quickly, and keeping abreast of new tools and methodologies while simultaneously delivering client work is tough.&lt;/p&gt;

&lt;p&gt;One of our core &lt;a href=&quot;/company/mission-and-values/#excel&quot;&gt;philosophies&lt;/a&gt; at Savas Labs is to “&lt;em&gt;hold ourselves to a high and constantly improving standard&lt;/em&gt;.” To that end, we dedicate time each month to share new tips and tools with each other to continue increasing our collective knowledge base – we call these our &lt;img class=&quot;emoji&quot; title=&quot;:zap:&quot; alt=&quot;:zap:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/26a1.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt; “Lightning Skillshares!” &lt;img class=&quot;emoji&quot; title=&quot;:zap:&quot; alt=&quot;:zap:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/26a1.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Since we believe in the open source ethos and sharing with the community, in this series, we’ll highlight some tips we use to improve our day-to-day efficiency (and hopefully yours too!).&lt;/p&gt;

&lt;p&gt;What we’ve added to our toolboxes in Q1 2017:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#using-teleconsole-for-collaboration&quot;&gt;1. Using Teleconsole for collaboration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#accessing-a-dockerized-database-via-phpmyadmin-or-phpstorm&quot;&gt;2. Accessing a Dockerized database via PhpStorm or PhpMyAdmin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#using-apowersofts-free-screen-recorder-to-capture-your-screen&quot;&gt;3. Using Apowersoft’s Free Online Screen Recorder to capture your screen&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;using-teleconsole-for-collaboration&quot;&gt;1. Using Teleconsole for collaboration&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.teleconsole.com/&quot;&gt;Teleconsole&lt;/a&gt; lets you share your UNIX terminal session for easy collaboration! We’ve been using it for a couple months now and find it to be an excellent addition to our team toolbox.&lt;/p&gt;

&lt;p&gt;It works by starting an SSH server on the host computer and generating a unique session ID that others can connect to via their terminal or a web browser. You can have multiple connected individuals in a session, though we typically use it more for 1-1 debugging and troubleshooting.&lt;/p&gt;

&lt;p&gt;Be aware, collaborators will have &lt;em&gt;direct&lt;/em&gt; access to your terminal, so only share with people you trust and be careful about accidental commands. Other than that, it’s free and easy to set up – check it out &lt;a href=&quot;https://www.teleconsole.com/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/lightning-17q1-teleconsole-demo.gif&quot; class=&quot;blog-image-full-width&quot; alt=&quot;Teleconsole demo&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Terminal sharing 2,700 miles away!&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;accessing-a-dockerized-database-via-phpmyadmin-or-phpstorm&quot;&gt;2. Accessing a Dockerized database via PhpMyAdmin or PhpStorm&lt;/h2&gt;

&lt;p&gt;There are many useful tools available for interacting with a MySQL database. Since we’ve transitioned to &lt;a href=&quot;/blog/tag/docker/&quot;&gt;Docker for our local development&lt;/a&gt;, we prefer one of the following techniques for manipulating databases abstracted into the Docker container.&lt;/p&gt;

&lt;h3 id=&quot;adding-phpmyadmin-to-a-docker-stack&quot;&gt;Adding PhpMyAdmin to a Docker Stack&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://www.phpmyadmin.net/&quot;&gt;PhpMyAdmin&lt;/a&gt; is a great tool that provides a useful interface for visualizing and interacting with a MySQL database. Here’s a simple method for adding the PhpMyAdmin service to a project’s existing Docker Stack.&lt;/p&gt;

&lt;p&gt;To build a container to run the PhpMyAdmin service:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Simply add this snippet to your &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; file
    &lt;ul&gt;
      &lt;li&gt;It uses the official &lt;code class=&quot;highlighter-rouge&quot;&gt;phpmyadmin&lt;/code&gt; image and defines the host as the database container (&lt;code class=&quot;highlighter-rouge&quot;&gt;mariadb&lt;/code&gt; in this example), so be sure to add it &lt;em&gt;after&lt;/em&gt; the section defining your database container.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/lightning-17q1-phpmyadmin.png&quot; class=&quot;blog-image-large&quot; alt=&quot;phpmyadmin container&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Add to &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;

&lt;ol start=&quot;2&quot;&gt;
  &lt;li&gt;Set the correct database user and password (&lt;code class=&quot;highlighter-rouge&quot;&gt;PMA_USER&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;PMA_PASSWORD&lt;/code&gt;).&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Once the containers are up you can visit the port specific url (for instance &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;example.site&amp;gt;:8001&lt;/code&gt;) to access your project-specific PhpMyAdmin interface! &lt;img class=&quot;emoji&quot; title=&quot;:tada:&quot; alt=&quot;:tada:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f389.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;using-phpstorm-to-interact-with-a-dockerized-database&quot;&gt;Using PhpStorm to interact with a Dockerized Database&lt;/h3&gt;
&lt;p&gt;Another method is to connect PhpStorm directly to the database container using PhpStorm’s Database Browser. Instead of opening a shell into the container via the command line, this allows us to view DB tables and run SQL queries directly within the PhpStorm interface! PhpStorm even provides useful code completions when writing database queries!&lt;/p&gt;

&lt;p&gt;To connect PhpStorm to your DB container:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;In PhpStorm, go to the “Database Browser”, click the &lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; dropdown and select “Data Source &amp;gt; MySQL”&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/lightning-17q1-pstorm1.png&quot; class=&quot;blog-image-large&quot; alt=&quot;phpstorm connect1&quot; /&gt;&lt;/p&gt;

&lt;ol start=&quot;2&quot;&gt;
  &lt;li&gt;In the popup window:
    &lt;ul&gt;
      &lt;li&gt;Map the project DB container’s port specified in the &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; file to &lt;code class=&quot;highlighter-rouge&quot;&gt;Port&lt;/code&gt; (in the below example it’s &lt;code class=&quot;highlighter-rouge&quot;&gt;32770&lt;/code&gt;)&lt;/li&gt;
      &lt;li&gt;Add the &lt;code class=&quot;highlighter-rouge&quot;&gt;Database&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;User&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;Password&lt;/code&gt; fields from the &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; file as well&lt;/li&gt;
      &lt;li&gt;You can select &lt;code class=&quot;highlighter-rouge&quot;&gt;Test Conneciton&lt;/code&gt; or just &lt;code class=&quot;highlighter-rouge&quot;&gt;OK&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/lightning-17q1-pstorm2.png&quot; class=&quot;blog-image-full-width&quot; alt=&quot;phpstorm connect2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once connected, PhpStorm will display all the tables in a drop down in the Database Browser, which is useful for quickly glancing through all the tables! You’ll also be able to run SQL queries within PhpStorm and see outputted results without having to leave the interface! &lt;img class=&quot;emoji&quot; title=&quot;:star2:&quot; alt=&quot;:star2:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f31f.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/lightning-17q1-pstorm3.png&quot; class=&quot;blog-image-full-width&quot; alt=&quot;phpstorm connect3&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Write and save custom queries!&lt;/span&gt;&lt;/p&gt;

&lt;h2 id=&quot;using-apowersofts-free-screen-recorder-to-capture-your-screen&quot;&gt;3. Using Apowersoft’s Free Screen Recorder to capture your screen&lt;/h2&gt;

&lt;p&gt;If a picture’s worth a thousand words, than a video is worth…a million? There are times when it’s useful to send a short video (for example, a quick tutorial to a client) and Apowersoft’s &lt;a href=&quot;https://www.apowersoft.com/free-online-screen-recorder&quot;&gt;Free Online Screen Recorder&lt;/a&gt; is a great tool for capturing your screen. It’s easy to use and there’s &lt;em&gt;no recording time limit&lt;/em&gt;!  Other things we like are the ability to customize the cursor appearance, limit the capture to a specific region of your screen, and specify the resulting video format.&lt;/p&gt;

&lt;p&gt;Setup is incredibly easy:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Go to the &lt;a href=&quot;https://www.apowersoft.com/free-online-screen-recorder&quot;&gt;site&lt;/a&gt; and download the Launcher (you only have to do this once)&lt;/li&gt;
  &lt;li&gt;Now anytime you want to record, just go back to the page and hit “Start Recording”!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;*There is a Desktop version for those who prefer using the full application. However, the free desktop version limits recordings to 3 minutes.&lt;/p&gt;

&lt;h2 id=&quot;wrap-up&quot;&gt;Wrap Up&lt;/h2&gt;
&lt;p&gt;We hope you find this quarter’s top picks helpful! Leave a comment if you have additions to share with us!&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Mar 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/03/20/lightning-q1-2017.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/03/20/lightning-q1-2017.html</guid>
        
        <category>skillshare</category>
        
        <category>productivity</category>
        
        <category>docker</category>
        
        
      </item>
    
      <item>
        <title>Five Drupal 8 Tips to Empower Content Authors</title>
        <description>&lt;p&gt;Creating and publishing quality content within time constraints is a common challenge for many content authors. As web engineers, we are focused on helping our clients overcome this challenge by delivering systems that are intuitive, stable, and a pleasure to operate.&lt;/p&gt;

&lt;p&gt;During the architectural phase, it’s critical to craft the editorial experience to the specific needs of content authors to ensure the best content editing experience possible. Drupal 8 makes it even easier than previous versions for digital agencies to empower content creators and editors with the right tools to get the job done efficiently, and more enjoyably.&lt;/p&gt;

&lt;p&gt;Our five tips to enhance the content editing experience with Drupal 8 are:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#dont-make-authors-guess---use-structured-content&quot;&gt;1. Don’t make authors guess - use structured content&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#configure-the-wysiwyg-editor-responsibly&quot;&gt;2. Configure the WYSIWYG editor responsibly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#empower-your-editorial-team-with-quick-edit&quot;&gt;3. Empower your editorial team with Quick-Edit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#enrich-content-with-media-embeds&quot;&gt;4. Enrich content with Media Embeds&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#simplify-content-linking-with-linkit&quot;&gt;5. Simplify content linking with LinkIt&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;dont-make-authors-guess---use-structured-content&quot;&gt;1. Don’t make authors guess - use structured content&lt;/h2&gt;

&lt;p&gt;The abundance of different devices, screen sizes and form factors warrants the use of structured content. Structured content is content separated into distinct parts, each of which has a clearly defined purpose and can be edited and presented independently from one another according to context.&lt;/p&gt;

&lt;p&gt;“How does that relate to a content editor’s experience?” - you may ask.&lt;/p&gt;

&lt;p&gt;In years past, it was very popular to give content editors an ability to create “pages” using one big “MS Word-like” text box for writing their articles, news releases, product descriptions, etc. This approach produced content that was not reusable and was presented in one strict way. Who wants to navigate within one enormous text area to move images around?&lt;/p&gt;

&lt;p&gt;Though those days are long behind us, and even though we all know about the importance of structured content, sometimes we &lt;em&gt;still fail&lt;/em&gt; to utilize the concept correctly.&lt;/p&gt;

&lt;p&gt;Drupal was one of the first Content Management Systems (CMS) to introduce the concept of structured content (node system - Drupal 3 in 2001). In fact, Drupal is no-doubt the best CMS for implementing the concept of structured content, but its ability to provide a good content authoring experience lagged behind this solid foundation.&lt;/p&gt;

&lt;p&gt;Today, in Drupal 8, editing structured content is a joy!&lt;/p&gt;

&lt;p&gt;With the WYSIWYG (&lt;strong&gt;W&lt;/strong&gt;hat &lt;strong&gt;Y&lt;/strong&gt;ou &lt;strong&gt;S&lt;/strong&gt;ee &lt;strong&gt;I&lt;/strong&gt;s &lt;strong&gt;W&lt;/strong&gt;hat &lt;strong&gt;Y&lt;/strong&gt;ou &lt;strong&gt;G&lt;/strong&gt;et) editor and Quick Edit functionality in Drupal core, we can equip our content editors with the best of class authoring experience and workflow!&lt;/p&gt;

&lt;p&gt;You can see the difference between unstructured and structured D8 content below. Instead of only one field containing all text, images, etc., the structured content stores each definitive piece of information in it’s own field, making content entry fast and presentation flexible!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/structured-vs-unstructured.jpg&quot; class=&quot;blog-image-large&quot; alt=&quot;Structured vs unstructured content&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;the-benefits-of-drupal-8-structured-content-approach&quot;&gt;The benefits of Drupal 8 structured content approach:&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;The author clearly understands where each piece of information should reside and does not have to factor in markup, layout, and design while editing (see &lt;a href=&quot;#configure-the-wysiwyg-editor-responsibly&quot;&gt;tip #2&lt;/a&gt;). Content entry becomes remarkably efficient and allows the author to concentrate on the essence of their message instead of format.&lt;/li&gt;
  &lt;li&gt;The publishing platform is easier to maintain while supporting system scalability.&lt;/li&gt;
  &lt;li&gt;The modular nature of structured content makes migrations between CMS versions or to a completely different CMS much more streamlined. &lt;em&gt;A huge plus for those long-term thinkers!&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;configure-the-wysiwyg-editor-responsibly&quot;&gt;2. Configure the WYSIWYG editor responsibly&lt;/h2&gt;

&lt;p&gt;Drupal 8 ships with WYSIWYG text editor in core. The editor even works great on mobile! In a society that is so dependent on our mobile devices - who wouldn’t like to be able to quickly edit a missed typo right from your phone?&lt;/p&gt;

&lt;p&gt;Drupal 8 provides superior enhancements to the UX (User Experience) for content authors and editors out of the box. However, with a little configuration, things can be further improved.&lt;/p&gt;

&lt;p&gt;When establishing the UI (User Interface) for content authors, site builders should focus on refining rather than whole-sale adoption of the available features. Customizing the WYSIWYG editor is the perfect example of subtle improvements that can immediately make a big difference.&lt;/p&gt;

&lt;p&gt;The WYSIWYG text editor is an effective tool for simple content entry since it does not require the end user to be aware of HTML markup or CSS styles. Many great functions like text formatting options (font family, size, color, and background color), source code viewing, and indentation are available at our fingertips, but as site builders we should think twice before adding all those options to the text editor toolbar!&lt;/p&gt;

&lt;p&gt;With great power comes great responsibility! Sometimes, when you give content editors control over the final appearance of the published content (e.g. text color, font family and size, image resizing, etc.), it can lead to an inconsistent color schemes, skewed image ratios, and unpredictable typography choices.&lt;/p&gt;

&lt;p&gt;How do we help our content authors in avoiding common design / formatting mistakes? Simple!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Use a minimalist approach when configuring the WYSIWYG text editor.&lt;/strong&gt; Give authors access to the most essential text formatting options that they will need for the type of content they create and nothing more. If the piece of content edited should not contain images or tables - do not include those buttons in the editor. The text editor should be used only for sections of text, not for the page layout.&lt;/p&gt;

&lt;p&gt;A properly configured CMS should not allow content editors the ability to change the size of the text or play with image positioning within the text section or the ability to add H1 headers within auxiliary content.&lt;/p&gt;

&lt;p&gt;Below is an example of a bad vs. good WYSIWYG configuration.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/good-vs-bad-wysiwyg-editor.jpg&quot; class=&quot;blog-image-large&quot; alt=&quot;WYSIWYG editor configuration compared&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;benefits-of-the-minimal-thoughtful-wysiwyg-configuration&quot;&gt;Benefits of the minimal (thoughtful) WYSIWYG configuration:&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Easy to use&lt;/li&gt;
  &lt;li&gt;Less confusion (though there are edge cases, most editors don’t use all the buttons)&lt;/li&gt;
  &lt;li&gt;Better usability on mobile devices&lt;/li&gt;
  &lt;li&gt;Less risk of breaking established website design&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s keep our content editors happy and not overcrowd their interfaces when it’s absolutely not necessary. It is our duty as software engineers to deliver systems that are easy to use, intuitive, scalable and uphold design consistency.&lt;/p&gt;

&lt;h2 id=&quot;empower-your-editorial-team-with-quick-edit&quot;&gt;3. Empower your editorial team with Quick-Edit&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/docs/8/core/modules/quick-edit/overview&quot;&gt;The Quick Edit module&lt;/a&gt; is one of the most exciting new features that is included in Drupal 8 core. It allows content authors and editors to make updates to their content without ever leaving the page.&lt;/p&gt;

&lt;p&gt;The days of clicking “Edit” and waiting for a separate page to load just to fix a tiny typo are gone! The Quick Edit module eliminates that extra step and allows content editors to save a great deal of time on updating content. As an added bonus - content editors can instantly see how updated content will look within the page flow.&lt;/p&gt;

&lt;p&gt;Here’s the Quick Edit functionality in action.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/quick-edit-demo.gif&quot; class=&quot;blog-image-large&quot; alt=&quot;Quick Edit module demo&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;quick-edit-configuration-tip-for-back-end-and-front-end-developers&quot;&gt;Quick Edit configuration tip for back-end and front-end developers&lt;/h3&gt;

&lt;p&gt;To make use of the Quick Edit functionality within the website pages, entities have to be rendered on the page via &lt;a href=&quot;https://www.drupal.org/docs/8/api/entity-api/display-modes-view-modes-and-form-modes&quot;&gt;View Modes&lt;/a&gt; and not as separate fields.&lt;/p&gt;

&lt;p&gt;This restriction presents a challenge when there’s a needs to provide Quick Edit functionality for a page constructed by the Views module. More often than not, Views are used to single out and output individual fields from the entities. The most used Views formats are “Table” and “Grid”. They currently &lt;a href=&quot;https://www.drupal.org/node/1962606&quot;&gt;do not support Quick Edit functionality for usability reasons&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A workaround for this issue is to use the custom View modes for Entities and create custom Twig templates for each View mode that should be outputted by Views in order to accommodate custom layout options.&lt;/p&gt;

&lt;h2 id=&quot;enrich-content-with-media-embeds&quot;&gt;4. Enrich content with Media Embeds&lt;/h2&gt;

&lt;p&gt;In the era of social media, content editors can’t imagine their daily routine without being able to embed their Tweets or videos into the stories they publish on their sites. In Drupal 6 and the early days of Drupal 7, it was pretty challenging to provide this functionality within the WYSIWYG editor. Developers had to configure many different plugins and modules and ask them politely to cooperate.&lt;/p&gt;

&lt;p&gt;The Drupal 8 Media initiative has placed the content author’s experience and needs at the forefront of community efforts. As a result, we have access to a great solution for handling external media - &lt;a href=&quot;https://www.drupal.org/project/ckeditor_media_embed&quot;&gt;CKEditor Media Embed Module&lt;/a&gt;. It allows content editors to embed external resources such as videos, images, tweets, etc. via WYSIWYG editor. Here’s an example of the Tweet embed – the end result looks beautiful and requires minimal effort.&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;&amp;quot;If you&amp;#39;re going to build a new site, build it in D8.&amp;quot; - someone who knows what they&amp;#39;re talking about quotes &lt;a href=&quot;https://twitter.com/jrbeaton&quot;&gt;@jrbeaton&lt;/a&gt; &lt;a href=&quot;https://twitter.com/TriDUG&quot;&gt;@TriDUG&lt;/a&gt; &lt;a href=&quot;https://t.co/8w9GAuuARu&quot;&gt;pic.twitter.com/8w9GAuuARu&lt;/a&gt;&lt;/p&gt;&amp;mdash; Savas Labs (@Savas_Labs) &lt;a href=&quot;https://twitter.com/Savas_Labs/status/824770016507752448&quot;&gt;January 27, 2017&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;With all this media goodness available to us, there is no reason why we shouldn’t go the extra mile and configure the CKEditor Media Embed module for our content authors!&lt;/p&gt;

&lt;h2 id=&quot;simplify-content-linking-with-linkit&quot;&gt;5. Simplify content linking with LinkIt&lt;/h2&gt;

&lt;p&gt;Linking to content has always been a clumsy experience for content editors, especially when linking internally within the same site.&lt;/p&gt;

&lt;p&gt;There was always the risk of accidentally navigating away from the page that you were actively editing (and losing any unsaved information) while searching for the page to link to. Also, the default CKEditor link button allowed editors to insert a link, assign it a target value, title, maybe an anchor name, but that was about it. If the link to the internal content changed, there was no way for the page to update and links throughout the website would end up broken.&lt;/p&gt;

&lt;p&gt;Let’s not put our content editors through that horrible experience again. &lt;a href=&quot;https://www.drupal.org/project/linkit&quot;&gt;LinkIt module&lt;/a&gt; for Drupal 8 to the rescue!&lt;/p&gt;

&lt;p&gt;With the LinkIt module the user does not have to copy / paste the URL or remember it. LinkIt provides a search for internal content with autocomplete field. Users can link not only to pages, but also to files that are stored within Drupal CMS.&lt;/p&gt;

&lt;p&gt;The new and improved linking method is much more sustainable, as it recognizes when the URL of the linked content changes, and automatically produces the correct link within the page without the need to update that content manually.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/linkit-file-link-demo.gif&quot; class=&quot;blog-image-large&quot; alt=&quot;LinkIt File link demo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;caption&quot;&gt;Linking to files with LinkIt&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;My personal favorite feature of the LinkIt module is the flexible configuration options. The LinkIt module makes it possible to limit the type of entities (pages, posts, files) that are searchable via the link field. You can also create a custom configuration of the LinkIt autocomplete dialog for each WYSIWYG editor profile configured on your site. Plus, it is fully integrated with Drupal 8 configuration synchronization.&lt;/p&gt;

&lt;h2 id=&quot;final-thoughts&quot;&gt;Final Thoughts&lt;/h2&gt;

&lt;p&gt;As site builders, there are many improvements that we can make in order to &lt;strong&gt;streamline the process of content authoring&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;With the right mix of forethought and understanding, Drupal 8 allows web engineers to deliver content publishing platforms that are unique to the client’s specific needs, while making web authoring a productive and satisfying experience.&lt;/p&gt;
</description>
        <pubDate>Mon, 06 Mar 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/03/06/five-drupal-8-tips-to-empower-content-authors.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/03/06/five-drupal-8-tips-to-empower-content-authors.html</guid>
        
        <category>drupal</category>
        
        <category>drupal8</category>
        
        <category>drupal-planet</category>
        
        <category>user-experience</category>
        
        
      </item>
    
      <item>
        <title>On Web Typography - a Book Review</title>
        <description>&lt;p&gt;As a developer who often interacts with and creates web designs, I’m always on the lookout for quality resources to level up my design skills, and the &lt;a href=&quot;https://abookapart.com/&quot;&gt;Book Apart series&lt;/a&gt; has proven to be an excellent source of knowledge presented in a relevant, concise manner. My latest read was &lt;a href=&quot;https://abookapart.com/products/on-web-typography&quot;&gt;&lt;em&gt;On Web Typography&lt;/em&gt; by Jason Santa Maria&lt;/a&gt;, and I found the book to be a strong resource, especially for the non-designer. In this post, I’ll review the book and detail how we at Savas Labs implemented the lessons we learned.&lt;/p&gt;

&lt;h2 id=&quot;thinking-about-reading&quot;&gt;Thinking about reading&lt;/h2&gt;

&lt;p&gt;Have you ever stopped to think about the actual process of reading? I think
Santa Maria puts it best:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Reading is something we do every day, but we can easily take it for granted. Slapping words on a page won’t ensure good communication, just as mashing your hands across a piano won’t make for a pleasant composition. The experience of reading and the effectiveness of our message are determined by both what we say and how we say it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Rather than jumping into choosing and pairing typefaces, or even evaluating
their characteristics, Santa Maria suggests we approach typography much further
back and take the time to consider what users are actually doing when they read
text on our sites. This is something I hadn’t considered before and brings a
depth to the process that is so much more than picking and applying fonts. In
addition to aesthetics, type design can have a significant effect on user
experience and, therefore, is doubly important to consider during the design
process.&lt;/p&gt;

&lt;h2 id=&quot;base-knowledge&quot;&gt;Base knowledge&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/on-web-typography-typeface-anatomy.jpg&quot; alt=&quot;A diagram of typeface terminology&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;A diagram of typeface anatomy&lt;br /&gt;
&lt;em&gt;From&lt;/em&gt; &lt;a href=&quot;https://abookapart.com/products/on-web-typography&quot;&gt;On Web Typography&lt;/a&gt; &lt;em&gt;by Jason Santa Maria&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Most of us can tell a serif from a sans serif, but I found the base of knowledge
Santa Maria provides in the book to be an incredibly useful foundation. Knowing
some critical terminology and history has already improved my ability to design
type, and this section is compact enough to be a quick overview with serious
payoff.&lt;/p&gt;

&lt;p&gt;In the book, Santa Maria covers:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;An extremely brief yet useful history of type, focused on how typefaces were
created through most of history before the web and how things changed as
communication became increasingly digital&lt;/li&gt;
  &lt;li&gt;Terminology used to describe typefaces and their elements&lt;/li&gt;
  &lt;li&gt;Methods for classifying typefaces that are descriptive and useful when
evaluating and choosing typefaces&lt;/li&gt;
  &lt;li&gt;An overview of the characters and styles that a well-developed typeface will
offer (true bolds and italics, language sets and punctuation among others)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;evaluating-typefaces&quot;&gt;Evaluating typefaces&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/on-web-typography-helvetica-alternatives.jpg&quot; alt=&quot;Examples of alternatives to Helvetica based on Helvetica&#39;s physical characteristics&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Finding alternatives to Helvetica by examining its physical characteristics&lt;br /&gt;
&lt;em&gt;From&lt;/em&gt; &lt;a href=&quot;https://abookapart.com/products/on-web-typography&quot;&gt;On Web Typography&lt;/a&gt; &lt;em&gt;by Jason Santa Maria&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;After reviewing the building blocks that make up a typeface, Santa Maria applies
this knowledge by walking the reader through the process of evaluating two
classic typefaces. This section is a clear presentation of how to dissect a
typeface and understand its geometric structure, tone, history, and classification.
Santa Maria also demonstrates how one can capitalize on the tried-and-tested
nature of classic typefaces by looking to revivals and alternatives inspired by
those classics. These exercises will help you understand typefaces on a deeper
level and prepare you for the next part: actually selecting and applying them.&lt;/p&gt;

&lt;h2 id=&quot;choosing-and-pairing-typefaces&quot;&gt;Choosing and pairing typefaces&lt;/h2&gt;

&lt;p&gt;All the previous sections culminate in the ultimate goal: how to design type for
your site. Santa Maria introduces two separate contexts to consider: type for a
moment (a menu link, a heading, etc.) and type to live with (long text).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/on-web-typography-contexts.jpg&quot; alt=&quot;Examples of type in different contexts&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Some examples of the two contexts&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;These contexts demand different typeface choices based on what’s important
to the reader — quickly understanding a snippet of text, or reading
paragraphs of text without becoming fatigued or distracted.&lt;/p&gt;

&lt;p&gt;Santa Maria provides some helpful step-by-step methods for choosing typefaces.
My favorite was word association, something we may all be familiar with, but he
builds this process out in a way that seems easy and effective.&lt;/p&gt;

&lt;p&gt;Another important skill covered is pairing typefaces, something that poses a
challenge to many of us. Santa Maria suggests a balance between two typefaces’
distinction from each other and cohesion with each other, demonstrated with
numerous examples, and explained with reference to the type terminology and
classification methods reviewed in previous chapters.&lt;/p&gt;

&lt;h2 id=&quot;whats-next&quot;&gt;What’s next?&lt;/h2&gt;

&lt;p&gt;After finishing the book, I had a couple of questions:&lt;/p&gt;

&lt;h3 id=&quot;how-can-i-actively-improve-my-type-design-skills&quot;&gt;How can I actively improve my type design skills?&lt;/h3&gt;

&lt;p&gt;After reading design resources, I usually feel armed with new information but
unsure of how to actually apply it. I’ve found that improving design skills
isn’t something that happens instantly after you’ve learned something new
— it takes practice!&lt;/p&gt;

&lt;p&gt;One of the methods I’ve found most helpful is to keep an eye out for
design elements I like, and when I see them, break them down and figure out
why they work. For typography, this would mean identifying the context,
classifying the typeface, evaluating the letterforms to identify their physical
characteristics and the feelings they invoke, and (this is key)
bookmarking the source in an “Inspiration” folder. &lt;a href=&quot;http://austinkleon.com/steal/&quot;&gt;Entire books have been
written about this process&lt;/a&gt;, so don’t be afraid
to be inspired by others’ work!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/on-web-typography-inspiration.jpg&quot; alt=&quot;Screenshots of websites with nice type design&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Some samples from my Inspiration folder&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;After perusing my Inspiration folder, I follow these guidelines when designing
type:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Keep it simple. It’s conventional to use a maximum of two typefaces, and often
using typefaces within the same family or a single typeface in multiple styles
gives you all the variety you need.&lt;/li&gt;
  &lt;li&gt;Try things out in context. This is recommended by Santa Maria in the book, and
giving typefaces and pairings a shot on your actual site (or a local version) is
crucial. Most paid fonts are available via free trials, so no excuses!&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;how-can-our-team-apply-this-knowledge&quot;&gt;How can our team apply this knowledge?&lt;/h3&gt;

&lt;p&gt;Much of the team at Savas Labs focuses on back-end development, but we all have
a desire to be holistic teammates with some proficiency at every stage of the
process. We don’t all have the time to invest in becoming typography experts
— one can spend an entire career doing so — so we wanted to find ways to
enable our team to be able to consult on typography and make informed decisions
on type design when needed.&lt;/p&gt;

&lt;p&gt;To this end, we created a repository where we can continue to house a list of
go-to typefaces, tried-and-tested pairings, favorite foundries, and excellent
type resources. Curating this list and adding to it whenever we find something
we like provides us with an easy reference so we’re not starting from scratch
every time, and is a nice way to practice the skills suggested above.&lt;/p&gt;

&lt;h2 id=&quot;closing-thoughts&quot;&gt;Closing thoughts&lt;/h2&gt;

&lt;p&gt;I would highly recommend checking out &lt;a href=&quot;https://abookapart.com/products/on-web-typography&quot;&gt;&lt;em&gt;On Web Typography&lt;/em&gt;&lt;/a&gt;,
especially if you’re a typography novice looking to step up your game. In
closing, I’ll leave you with Santa Maria’s thoughts on another benefit of
developing type design skills: a greater sense of &lt;a href=&quot;/company/mission-and-values/#empathize&quot;&gt;empathy&lt;/a&gt; for your website’s
users.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Being good at typography makes you a more adept thinker, communicator, and
designer. When you immerse yourself in the fine details of text, you not
only make yourself aware of those details and how they affect communication,
but you also put yourself in your readers’ shoes.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Mon, 27 Feb 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/02/27/on-web-typography-review.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/02/27/on-web-typography-review.html</guid>
        
        <category>design</category>
        
        <category>typography</category>
        
        <category>user-experience</category>
        
        
      </item>
    
      <item>
        <title>Docker and the Drupal Pattern Lab Starter Theme</title>
        <description>&lt;h2 id=&quot;overview&quot;&gt;Overview&lt;/h2&gt;

&lt;p&gt;Savas Labs has been using Docker for our local development and &lt;a href=&quot;/blog/tag/continuous-integration/&quot;&gt;CI&lt;/a&gt; environments for some time to streamline our systems. On a recent project, we chose to integrate &lt;a href=&quot;https://github.com/phase2/pattern-lab-starter&quot;&gt;Phase 2’s Pattern Lab Starter theme&lt;/a&gt; to incorporate more front-end components into our standard build. This required building a new Docker image for running applications that the theme depends on. In this post, I’ll share:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; used to build an image with Node, npm, PHP, and Composer installed&lt;/li&gt;
  &lt;li&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; configuration and Docker commands for running theme commands such as &lt;code class=&quot;highlighter-rouge&quot;&gt;npm start&lt;/code&gt; from within the container&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Along the way, I’ll also provide:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A quick overview of why we use Docker for local development
    &lt;ul&gt;
      &lt;li&gt;This is part of a &lt;a href=&quot;/blog/tag/docker/&quot;&gt;Docker series&lt;/a&gt; we’re publishing, so be on the lookout for more!&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Tips for building custom images and running common front-end applications inside containers.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;

&lt;p&gt;We switched to using Docker for local development last year and we love it - so much so that we even proposed &lt;a href=&quot;https://events.drupal.org/node/17250&quot;&gt;a Drupalcon session on our approach and experience&lt;/a&gt; we hope to deliver. Using Docker makes it easy for developers to quickly spin up consistent local development environments that match production. In the past we used Vagrant and virtual machines, even a Drupal-specific flavor &lt;a href=&quot;https://www.drupalvm.com/&quot;&gt;DrupalVM&lt;/a&gt;, for these purposes, but we’ve found Docker to be faster when switching between multiple projects, which we often do on any given &lt;del&gt;Sun&lt;/del&gt;workday.&lt;/p&gt;

&lt;p&gt;Usually we build our Docker images from scratch to closely match production environments. However, for agile development and rapid prototyping, we often make use of public Docker images. In these cases we’ve relied on &lt;a href=&quot;https://github.com/wodby/docker4drupal&quot;&gt;Wodby’s Docker4Drupal project&lt;/a&gt;, which is “a set of docker containers optimized for Drupal.”&lt;/p&gt;

&lt;p&gt;We’re also fans of the &lt;a href=&quot;http://atomicdesign.bradfrost.com/&quot;&gt;atomic design methodology&lt;/a&gt; and present our clients interactive style guides &lt;em&gt;early&lt;/em&gt; to facilitate better collaboration throughout. Real interaction with the design is necessary from the get-go; gone are the days of the static Photoshop file at the outset that “magically” translates to a living design at the end. So when we heard of the &lt;a href=&quot;https://github.com/phase2/pattern-lab-starter&quot;&gt;Pattern Lab Starter Drupal theme&lt;/a&gt; which leverages &lt;a href=&quot;http://patternlab.io/&quot;&gt;Pattern Lab&lt;/a&gt; (a tool for building pattern-driven user interfaces using atomic design), we were excited to bake the front-end components in to our Docker world. Oh, the beauty of open source!&lt;/p&gt;

&lt;h2 id=&quot;building-the-docker-image&quot;&gt;Building the Docker image&lt;/h2&gt;

&lt;p&gt;To experiment with the Pattern Lab Starter theme we began with a vanilla Drupal 8 installation, and then quickly spun up our local Docker development environment &lt;a href=&quot;http://docs.docker4drupal.org/en/latest/#usage&quot;&gt;using Docker4Drupal&lt;/a&gt;. We then copied the &lt;a href=&quot;https://github.com/phase2/pattern-lab-starter&quot;&gt;Pattern Lab Starter code&lt;/a&gt; to a new &lt;code class=&quot;highlighter-rouge&quot;&gt;custom/theme/patter_lab_starter&lt;/code&gt; directory in our Drupal project.&lt;/p&gt;

&lt;p&gt;Running the Phase 2 Pattern Lab Starter theme requires &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;, the node package manager &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt;, PHP, and the PHP dependency manager &lt;a href=&quot;https://getcomposer.org/&quot;&gt;Composer&lt;/a&gt;. Node and npm are required for managing the theme’s node dependencies (such as Gulp, Bower, etc.), while PHP and Composer are required by the theme to run and serve Pattern Lab.&lt;/p&gt;

&lt;p&gt;While we could install these applications on the host machine, outside of the Docker image, that defeats the purpose of using Docker. One of the great advantages of virtualization, be it Docker or a full VM, is that you don’t have to rely on installing global dependencies on your local machine. One of the many benefits of this is that it ensures each team member is developing in the same environment.&lt;/p&gt;

&lt;p&gt;Unfortunately, while Docker4Drupal provides public images for many applications (such as Nginx, PHP, MariaDB, Mailhog, Redis, Apache Solr, and Varnish), it does not provide images for running the applications required by the Pattern Lab Starter theme.&lt;/p&gt;

&lt;p&gt;One of the nice features of Docker though is that it is relatively easy to create a new image that builds upon other images. This is done via a &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; which specifies the commands for creating the image.&lt;/p&gt;

&lt;p&gt;To build an image with the applications required by our theme we created a &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; with the following contents:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM node:7.1
MAINTAINER Dan Murphy &amp;lt;dan@savaslabs.com&amp;gt;

RUN apt-get update &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    apt-get install -y php5-dev  &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    curl -sS https://getcomposer.org/installer | php -- --install-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/bin --filename&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;composer &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Directory required by Yeoman to run.&lt;/span&gt;
    mkdir -p /root/.config/configstore &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Clean up.&lt;/span&gt;
    apt-get clean &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    rm -rf &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      /root/.composer &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      /tmp/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      /usr/include/php &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      /usr/lib/php5/build &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      /var/lib/apt/lists/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Permissions required by Yeoman to run: https://github.com/keystonejs/keystone/issues/1566#issuecomment-217736880&lt;/span&gt;
RUN chmod g+rwx /root /root/.config /root/.config/configstore

EXPOSE 3001 3050
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The commands in this &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Set &lt;a href=&quot;https://hub.docker.com/_/node/&quot;&gt;the official Node 7 image&lt;/a&gt; as the base image. This base image includes Node and npm.&lt;/li&gt;
  &lt;li&gt;Install PHP 5 and Composer.&lt;/li&gt;
  &lt;li&gt;Make configuration changes necessary for running &lt;a href=&quot;http://yeoman.io/&quot;&gt;Yeoman&lt;/a&gt;, a popular Node scaffolding system used to create new component folders in Pattern Lab.&lt;/li&gt;
  &lt;li&gt;Expose ports 3001 and 3050 which are necessary for serving the Pattern Lab style guide.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From this &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; we built the image &lt;code class=&quot;highlighter-rouge&quot;&gt;savaslabs/node-php-composer&lt;/code&gt; and made it &lt;a href=&quot;https://hub.docker.com/r/savaslabs/node-php-composer/&quot;&gt;publicly available on DockerHub&lt;/a&gt;. Please check it out and use it to your delight!&lt;/p&gt;

&lt;p&gt;One piece of advice I have for building images for local development is that while Alpine Linux based images may be much smaller in size, the bare-bones nature and lack of common packages brings with it some trade-offs that make it more difficult to build upon. For that reason, we based our image on the standard &lt;code class=&quot;highlighter-rouge&quot;&gt;DebianJessie&lt;/code&gt; Node image rather than the Alpine variant.&lt;/p&gt;

&lt;p&gt;This is also why we didn’t just simply start from &lt;a href=&quot;https://hub.docker.com/r/wodby/drupal-php/~/dockerfile/&quot;&gt;the &lt;code class=&quot;highlighter-rouge&quot;&gt;wodby/drupal-php:7.0&lt;/code&gt;&lt;/a&gt; image and install Node and npm on it. Unfortunately, the &lt;code class=&quot;highlighter-rouge&quot;&gt;wodby/drupal-php&lt;/code&gt; image is built from &lt;code class=&quot;highlighter-rouge&quot;&gt;alpine:edge&lt;/code&gt; which lacks many of the dependencies required to install Node and npm.&lt;/p&gt;

&lt;p&gt;Now a Docker purist might critique this image and recommend only “one process per container”. This is a drawback of this approach, especially since Wodby already provides a PHP image with Composer installed. Ideally, we’d use that in conjunction with separate images that run Node and npm.&lt;/p&gt;

&lt;p&gt;However, the theme’s setup makes that difficult. Essentially PHP scripts and Composer commands are baked into the theme’s npm scripts and gulp tasks, making it difficult to untangle them. For example, the &lt;code class=&quot;highlighter-rouge&quot;&gt;npm start&lt;/code&gt; command runs Gulp tasks that depend on PHP to generate and serve the Pattern Lab style guide.&lt;/p&gt;

&lt;p&gt;Due to these constraints, and since this image is for local development, isn’t being used to deploy a production app, and encapsulates all of the applications required by the Pattern Lab Starter theme, we felt comfortable with this approach.&lt;/p&gt;

&lt;h3 id=&quot;using-the-image&quot;&gt;Using the image&lt;/h3&gt;

&lt;p&gt;To use this image, we specified it in our project’s &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; file (&lt;a href=&quot;https://gist.github.com/dmurphy1/ee62085eef2d40b279cc848f88213fc9&quot;&gt;see full file here&lt;/a&gt;) by adding the following lines to the services section:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;node-php-composer&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;savaslabs/node-php-composer:1.2&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3050:3050&quot;&lt;/span&gt;
   &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3001:3001&quot;&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;volumes_from&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This defines the configuration that is applied to a &lt;code class=&quot;highlighter-rouge&quot;&gt;node-php-composer&lt;/code&gt; container when spun up. This configuration:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Specifies that the container should be created from the &lt;code class=&quot;highlighter-rouge&quot;&gt;savaslabs/node-php-composer&lt;/code&gt; image that we built and referenced previously&lt;/li&gt;
  &lt;li&gt;Maps the container ports to our host ports so that we can access the Pattern Labs style guide locally&lt;/li&gt;
  &lt;li&gt;Mounts the project files (that are mounted to the php container) so that they are accessible to the container.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;With this service defined in the &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; we can start using the theme!&lt;/p&gt;

&lt;p&gt;First we spin up the Docker containers by running &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose up -d&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Once the containers are running, we can open a Bash shell in the theme directory of the &lt;code class=&quot;highlighter-rouge&quot;&gt;node-php-composer&lt;/code&gt; container by running the command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker-compose run --rm --service-ports -w /var/www/html/web/themes/custom/pattern_lab_starter node-php-composer /bin/bash
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We use the &lt;code class=&quot;highlighter-rouge&quot;&gt;--service-ports&lt;/code&gt; option &lt;a href=&quot;https://github.com/docker/compose/issues/1259#issuecomment-90878095&quot;&gt;to ensure the ports used for serving the style guide are mapped to the host&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Once inside the container in the theme directory, we install the theme’s dependencies and serve the style guide by running the following commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm install --unsafe-perm
npm start
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Voila! Once &lt;code class=&quot;highlighter-rouge&quot;&gt;npm start&lt;/code&gt; is running we can access the Pattern Lab style guide at the URL’s that are outputted, for example &lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:3050/pattern-lab/public/&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Note: Docker runs containers as root, so we use the &lt;code class=&quot;highlighter-rouge&quot;&gt;--unsafe-perm&lt;/code&gt; flag to run &lt;code class=&quot;highlighter-rouge&quot;&gt;npm install&lt;/code&gt; with root privileges. This is okay for local development, but would be a security risk if deploying the container to production. For information on running the container as an unprivileged user, &lt;a href=&quot;https://github.com/nodejs/docker-node/blob/master/docs/BestPractices.md#non-root-user&quot;&gt;see this documentation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Gulp and Bower are installed as theme dependencies during &lt;code class=&quot;highlighter-rouge&quot;&gt;npm install&lt;/code&gt;, therefore we don’t need either installed globally in the container. However, to run these commands we must shell into the theme directory in the container (just as we did before), and then run Gulp and Bower commands as follows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;To install Bower libraries run &lt;code class=&quot;highlighter-rouge&quot;&gt;$(npm bin)/bower install --allow-root {project-name} --save&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;To run arbitrary Gulp commands run &lt;code class=&quot;highlighter-rouge&quot;&gt;$(npm bin)/gulp {command}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Other commands listed in the &lt;a href=&quot;https://github.com/phase2/pattern-lab-starter/blob/master/README.md&quot;&gt;Pattern Lab Starter theme README&lt;/a&gt; can be run in similar ways from within the &lt;code class=&quot;highlighter-rouge&quot;&gt;node-php-composer&lt;/code&gt; container.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Using Docker for local development has many benefits, one of which is that developers can run applications required by their project inside containers rather than having to install them globally on their local machines. While we typically think of this in terms of the web stack, it also extends to running applications required for front-end development. The Docker image described in this post allows several commonly used front-end applications to run within a container like the rest of the web stack.&lt;/p&gt;

&lt;p&gt;While this blog post demonstrates how to build and use a Docker image specifically for use with the Pattern Lab Starter theme, the methodology can be adapted for other uses. A similar approach could be used with &lt;a href=&quot;https://www.drupal.org/project/bear_skin&quot;&gt;Zivtech’s Bear Skin theme&lt;/a&gt;, which is another Pattern Lab based theme, or with other contributed or custom themes that rely on npm, Gulp, Bower, or Composer.&lt;/p&gt;

&lt;p&gt;If you have any questions or comments, please post them below!&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Feb 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/02/20/drupal-docker-pattern-lab.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/02/20/drupal-docker-pattern-lab.html</guid>
        
        <category>drupal</category>
        
        <category>drupal-planet</category>
        
        <category>docker</category>
        
        <category>pattern-lab</category>
        
        <category>front-end-dev</category>
        
        <category>drupal8</category>
        
        
      </item>
    
      <item>
        <title>Dramatically Improve MySQL Import Performance with Docker</title>
        <description>&lt;p&gt;We use &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt; for our development environments because it helps us adhere to our &lt;a href=&quot;/company/mission-and-values/#excel&quot;&gt;commitment to excellence&lt;/a&gt;. It ensures an identical development platform across the team while also achieving parity with the production environment. These efficiency gains (among others we’ll share in an ongoing &lt;a href=&quot;/blog/tag/docker/&quot;&gt;Docker series&lt;/a&gt;) over traditional development methods enable us to spend less time on setup and more time building amazing things.&lt;/p&gt;

&lt;p&gt;Part of our workflow includes a mechanism to establish and update the &lt;a href=&quot;https://en.wikipedia.org/wiki/Database_seeding&quot;&gt;seed database&lt;/a&gt; which we use to load near-real-time production content to our development environments as well as our &lt;a href=&quot;/blog/tag/testing/&quot;&gt;automated testing&lt;/a&gt; infrastructure. We’ve found it’s best to have real data throughout the development process, rather than using stale or dummy data which runs the risk of encountering unexpected issues toward the end of a project. One efficiency boon we’ve recently implemented and are excited to share is a technique that dramatically speeds up database imports, especially large ones. This is a big win for us since we’re often importing large databases multiple times a day on a project. In this post we’ll look at:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;how much faster data volume imports are compared to traditional database dumps piped to &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;how to set up a data volume import with your Drupal Docker stack&lt;/li&gt;
  &lt;li&gt;how to tie in this process with your local and continuous integration environments&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-old-way&quot;&gt;The &lt;em&gt;old&lt;/em&gt; way&lt;/h2&gt;

&lt;p&gt;The way we historically imported a database was to pipe a SQL database dump file into the MySQL command-line client:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql -u&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;some_user&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; -p&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;some_pass&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;database_name&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &amp;lt; /path/to/database.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;An improvement upon the default method above which we’ve been using for some time allows us to monitor import progress utilizing the &lt;a href=&quot;https://www.ivarch.com/programs/pv.shtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pv&lt;/code&gt;&lt;/a&gt; command. Large imports can take many minutes, so having insight into how much time remains is helpful to our workflow:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pv /path/to/database.sql | mysql -u&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;some_user&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; -p &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;some_pass&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;database_name&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;On large databases, though, MYSQL imports can be slow. If we look at a database dump SQL file, we can see why. For example, a 19 MB database dump file we are using in one of our test cases further on in this post contains these instructions:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;--
-- Table structure for table `block_content`
--
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*!40101 SET @saved_cs_client     = @@character_set_client */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*!40101 SET character_set_client = utf8 */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`revision_id`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`type`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARACTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;The ID of the target entity.&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`uuid`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARACTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`langcode`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARACTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascii&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content_field__uuid__value`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`uuid`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content__revision_id`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`revision_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content_field__type__target_id`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`type`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8mb4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;The base table for block_content entities.&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*!40101 SET character_set_client = @saved_cs_client */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;--
-- Dumping data for table `block_content`
--
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LOCK&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TABLES&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WRITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*!40000 ALTER TABLE `block_content` DISABLE KEYS */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;autocommit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`block_content`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;a9167ea6-c6b7-48a1-ac06-6d04a67a5d54&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2114eee9-1674-4873-8800-aaf06aaf9773&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;855c13ba-689e-40fd-9b00-d7e3dd7998ae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;8c68671b-715e-457d-a497-2d38c1562f67&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;bc7701dd-b31c-45a6-9f96-48b0b91c7fa2&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;d8e23385-5bda-41da-8e1f-ba60fc25c1dc&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ea6a93eb-b0c3-4d1c-8690-c16b3c52b3f1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;3d314051-567f-4e74-aae4-a8b076603e44&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2ef5ae05-6819-4571-8872-4d994ae793ef&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;3deaa1a9-4144-43cc-9a3d-aeb635dfc2ca&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;basic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;d57e81e8-c613-45be-b1d5-5844ba15413c&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*!40000 ALTER TABLE `block_content` ENABLE KEYS */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;UNLOCK&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TABLES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;When we pipe the contents of the MySQL database dump to the &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt; command, the client processes each of these instructions sequentially in order to (1) create the structure for each table defined in the file, (2) populate the database with data from the SQL dump and (3) do post-processing work like create indices to ensure the database performs well. The example here processes pretty quickly, but if your site has a lot of historic content, as many of our clients do, then the import process can take enough time that it throws a wrench in our rapid workflow!&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;What happens when &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt; finishes importing the SQL dump file? The database contents (&lt;em&gt;often&lt;/em&gt;) live in &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/mysql/{database}&lt;/code&gt;, so for example for the &lt;code class=&quot;highlighter-rouge&quot;&gt;block_content&lt;/code&gt; table mentioned above, assuming you’re using the typically preferred InnoDB storage engine, there are two files called &lt;code class=&quot;highlighter-rouge&quot;&gt;block_content.frm&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;block_content.ibd&lt;/code&gt; in &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/mysql/{database}/&lt;/code&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/mysql&lt;/code&gt; directory will also contain a number of other directories and files related to the configuration of the MySQL server.&lt;/p&gt;

&lt;p&gt;Now, suppose that instead of sequentially processing the SQL instructions contained in a database dump file, we were able to provide developers with a snapshot of the &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/mysql&lt;/code&gt; directory for a given Drupal site. Could this swap faster than the traditional database import methods? Let’s have a look at two test cases to find out!&lt;/p&gt;

&lt;h3 id=&quot;mysql-import-test-cases&quot;&gt;MySQL import test cases&lt;/h3&gt;

&lt;p&gt;The table below shows the results of two test cases, one using a 19 MB database and the other using a 4.7 GB database.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Method&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Database size&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Time to drop tables and restore (seconds)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Traditional &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;19 MB&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;128&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Docker data volume restore&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;19 MB&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Traditional &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4.7 GB&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;606&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Docker data volume restore&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4.7 GB&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;85&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;In other words, the MySQL data volume import completes, on average, in about 11% of the time, or 9 times faster, than a traditional MySQL dump import would take!&lt;/p&gt;

&lt;p&gt;Since a GIF is worth a thousand words, compare these two processes side-by-side (both are using the same 19 MB source database; the first is using a data volume restore process while the second is using the traditional MySQL import process). You can see that the second process takes considerably longer!&lt;/p&gt;

&lt;h4 id=&quot;docker-data-volume-restore&quot;&gt;Docker data volume restore&lt;/h4&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://asciinema.org/a/102770.js&quot; id=&quot;asciicast-102770&quot; async=&quot;&quot; data-autoplay=&quot;true&quot; data-loop=&quot;true&quot; data-theme=&quot;solarized-dark&quot;&gt;&lt;/script&gt;

&lt;h4 id=&quot;traditional-mysql-database-dump-import&quot;&gt;Traditional MySQL database dump import&lt;/h4&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://asciinema.org/a/102769.js&quot; id=&quot;asciicast-102769&quot; async=&quot;&quot; data-autoplay=&quot;true&quot; data-loop=&quot;true&quot; data-theme=&quot;solarized-dark&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;use-mysql-volume-for-database-imports-with-docker&quot;&gt;Use MySQL volume for database imports with Docker&lt;/h2&gt;

&lt;p&gt;Here’s how the process works&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;. Suppose you have a Docker stack with a web container and a database container, and that the database container has data in it already (your site is up and running locally). Assuming a database container name of &lt;code class=&quot;highlighter-rouge&quot;&gt;drupal_database&lt;/code&gt;, to generate a volume for the MySQL &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/mysql&lt;/code&gt; contents of the database container, you’d run these commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Stop the database container to prevent read/writes to it during the database&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# export process.&lt;/span&gt;
docker stop drupal_database
&lt;span class=&quot;c&quot;&gt;# Now use the carinamarinab/backup image with the `backup` command to generate a&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# tar.gz file based on the `/var/lib/mysql` directory in the `drupal_database`&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# container.&lt;/span&gt;
docker run --rm --volumes-from drupal_database carinamarina/backup backup &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
--source /var/lib/mysql/ --stdout --zip &amp;gt; db-data-volume.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;With the 4.7 GB sample database above, this process takes 239 seconds and results in 702 MB compressed file.&lt;/p&gt;

&lt;p&gt;We’re making use of the &lt;a href=&quot;https://getcarina.com/docs/tutorials/backup-restore-data/&quot;&gt;carinamarina/backup&lt;/a&gt; image produced by Rackspace to create an archive of the database files.&lt;/p&gt;

&lt;p&gt;You can then distribute this file to your colleagues (at Savas Labs, we use &lt;a href=&quot;https://aws.amazon.com/s3/&quot;&gt;Amazon S3&lt;/a&gt;), or make use of it in continuous integration builds (more on that below), using these commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Copy the data volume tar.gz file from your team&#39;s AWS S3 bucket.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; ! -f db/db-data-volume.tar.gz &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;aws s3 cp &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
s3://&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;your-bucket&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/mysql-data-volume/db-data-volume.tar.gz db-data-volume.tar.gz; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Stop the database container to prevent read/writes during the database&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# restore process.&lt;/span&gt;
docker stop drupal_database
&lt;span class=&quot;c&quot;&gt;# Remove the /var/lib/mysql contents from the database container.&lt;/span&gt;
docker run --rm --volumes-from drupal_database alpine:3.3 rm -rf /var/lib/mysql/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Use the carinamarina/backup image with the `restore` command to extract&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# the tar.gz file contents into /var/lib/mysql in the database container.&lt;/span&gt;
docker run --rm --interactive --volumes-from drupal_database &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
carinamarina/backup restore --destination /var/lib/mysql/ --stdin &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
--zip &amp;lt; db-data-volume.tar.gz
&lt;span class=&quot;c&quot;&gt;# Start the database container again.&lt;/span&gt;
docker start drupal_database
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;So, not too complicated, but it will require a change in your processes for generating seed databases to distribute to your team for local development, or for CI builds. Instead of using &lt;code class=&quot;highlighter-rouge&quot;&gt;mysqldump&lt;/code&gt; to create the seed database file, you’ll need to use the &lt;code class=&quot;highlighter-rouge&quot;&gt;carinamarina/backup&lt;/code&gt; image to create the &lt;code class=&quot;highlighter-rouge&quot;&gt;.tar.gz&lt;/code&gt; file for distribution. And instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql {database} &amp;lt; database.sql&lt;/code&gt; you’ll use &lt;code class=&quot;highlighter-rouge&quot;&gt;carinamarina/backup&lt;/code&gt; to restore the data volume.&lt;/p&gt;

&lt;p&gt;In our team’s view this is a small cost for the enormous gains in database import time, which in turn boosts productivity to the tune of faster CI builds and refreshes of local development environments.&lt;/p&gt;

&lt;h2 id=&quot;further-efficiency-gains-integrate-this-process-with-your-continuous-integration-workflow&quot;&gt;Further efficiency gains: integrate this process with your continuous integration workflow&lt;/h2&gt;

&lt;p&gt;The above steps can be manually performed by a technical lead responsible for generating and distributing the MySQL data volume to team members and your testing infrastructure. But we can get further productivity gains by automating this process completely with &lt;a href=&quot;https://www.travis-ci.com&quot;&gt;Travis CI&lt;/a&gt; and GitHub hooks. In outline, here’s what this process looks like:&lt;/p&gt;

&lt;h3 id=&quot;generate-a-new-seed-database-sql-dump-after-production-deployments&quot;&gt;1. Generate a new seed database SQL dump after production deployments&lt;/h3&gt;

&lt;p&gt;At Savas Labs, we use &lt;a href=&quot;http://www.fabfile.org&quot;&gt;Fabric&lt;/a&gt; to automate our deployment process. When we deploy to production (not on a Docker stack), our post-deployment tasks generate a traditional MySQL database dump and copy it to Amazon S3:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update_seed_db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;drush -r &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s/www/web sql-dump &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\
&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;    --result-file=/tmp/$(date +&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Y-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;m-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d)--post-deployment.sql --gzip &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\
&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;    --structure-tables-list=cache,cache_*,history,search_*,sessions,watchdog&#39;&lt;/span&gt; \
    &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;/usr/local/bin/aws s3 cp /tmp/$(date +&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Y-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;m-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d)--post-deployment.sql.gz &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\
&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;    s3://{bucket-name}/seed-database/database.sql.gz --sse&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;rm /tmp/$(date +&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Y-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;m-&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d)--post-deployment.sql.gz&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;when-work-is-merged-into-develop-create-a-new-mysql-data-volume-archive&quot;&gt;2. When work is merged into develop, create a new MySQL data volume archive&lt;/h3&gt;

&lt;p&gt;We use &lt;a href=&quot;http://developers.savaslabs.com/en/latest/git.html#basic-git-workflow-git-flow&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;git flow&lt;/code&gt;&lt;/a&gt; as our collaboration and documentation standard for source code management on our Drupal projects. Whenever a developer merges a feature branch into &lt;code class=&quot;highlighter-rouge&quot;&gt;develop&lt;/code&gt;, we update the MySQL data volume archive dump for use in Travis CI tasks and local development. First, there is a specification in our &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; file that calls a deployment script:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;resources/scripts/travis-deploy.sh&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;develop&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And the &lt;code class=&quot;highlighter-rouge&quot;&gt;travis-deploy.sh&lt;/code&gt; script:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; -e

make import-seed-db
make &lt;span class=&quot;nb&quot;&gt;export&lt;/span&gt;-mysql-data
aws s3 cp db-data-volume.tar.gz &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
s3://&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bucket-name&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/mysql-data-volume/db-data-volume.tar.gz --sse
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This script: (1) imports the traditional MySQL seed database file from production, and then (2) creates a MySQL data volume archive. We use a &lt;a href=&quot;https://github.com/savaslabs/docker-drupal-template/blob/master/Makefile&quot;&gt;Makefile&lt;/a&gt; to standardize common site provisioning tasks for developers and our CI systems.&lt;/p&gt;

&lt;h3 id=&quot;pull-requests-and-local-development-make-use-of-the-mysql-data-volume-archive&quot;&gt;3. Pull requests and local development make use of the MySQL data volume archive&lt;/h3&gt;

&lt;p&gt;Now, whenever developers want to refresh their local environment by wiping the existing database and re-importing the seed database, or, when a Travis CI build is triggered by a GitHub pull request, these processes can make use of an up-to-date MySQL data volume archive file which is super fast to restore! This way, we ensure we’re always testing against the latest content and configuration, and avoid running into costly issues having to troubleshoot inconsistencies with production.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;We’ve invested heavily in Docker for our development stack, and this workflow update is a compelling addition to that toolkit since it has substantially sped up MySQL imports and boosted productivity. Try it out in your Docker workflow and we invite comments to field any questions and hear about your successes. Stay tuned for further &lt;a href=&quot;/blog/tag/docker/&quot;&gt;Docker&lt;/a&gt; updates!&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;It’s worth noting that there are &lt;a href=&quot;https://github.com/juampynr/syncdb&quot;&gt;cool projects out there&lt;/a&gt; for doing parallel imports of a SQL dump file which improve the import experience. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;Hat tip to Tim Stallmann for taking a proof of concept and incorporating it into a &lt;a href=&quot;/work/hptn-case-study/&quot;&gt;real-world project&lt;/a&gt;, from which many of the code samples here are drawn. &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Wed, 15 Feb 2017 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2017/02/15/docker-mysql-performance.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2017/02/15/docker-mysql-performance.html</guid>
        
        <category>drupal</category>
        
        <category>drupal-planet</category>
        
        <category>docker</category>
        
        <category>continuous-integration</category>
        
        <category>performance</category>
        
        <category>productivity</category>
        
        
      </item>
    
      <item>
        <title>Using MailChimp API v3.0 to subscribe users to email lists in Drupal custom modules</title>
        <description>&lt;p&gt;Our clients are often looking to reach their audiences via email campaigns, and &lt;a href=&quot;https://mailchimp.com/&quot;&gt;MailChimp&lt;/a&gt; is one of the solutions we frequently recommend for this. MailChimp makes it easy to create and manage email campaigns while also providing beneficial analytics on user behavior.&lt;/p&gt;

&lt;p&gt;Earlier this year I wrote &lt;a href=&quot;/2016/01/22/composer-mailchimp-subscriptions.html&quot;&gt;a blog post&lt;/a&gt; showing how to use &lt;a href=&quot;https://www.drupal.org/project/composer_manager&quot;&gt;Composer Manager&lt;/a&gt; along with the Mailchimp API v2.0 PHP package to subscribe users to mailing lists in a Drupal 6 or 7 custom module without the need for the Mailchimp contributed module.&lt;/p&gt;

&lt;p&gt;However, since then, MailChimp API v3.0 was released and Mailchimp announced that v2.0 (and all prior versions) will no longer be supported after 2016.&lt;/p&gt;

&lt;p&gt;So in this blog post, I’ll demonstrate how to accomplish the same objective using the new MailChimp API v3.0, and I’ll expand the tutorial to also include some Drupal 8 specifics.&lt;/p&gt;

&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;

&lt;p&gt;To quickly summarize the key takeaways from my previous blog posts &lt;a href=&quot;/2015/10/15/composing-with-composer-manager.html&quot;&gt;on Composer Manager&lt;/a&gt; and &lt;a href=&quot;/2016/01/22/composer-mailchimp-subscriptions.html&quot;&gt;subscribing users to MailChimp lists using the old API&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Composer is a tool for managing PHP libraries that your project depends on.&lt;/li&gt;
  &lt;li&gt;Challenges arise managing project-wide dependencies when custom and contributed modules specify their own unique dependencies.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.drupal.org/project/composer_manager&quot;&gt;Composer Manager&lt;/a&gt; is a contributed module for Drupal 7 (and formerly Drupal 6) that addresses these challenges and allows contributed and custom modules to depend on PHP libraries managed via Composer.&lt;/li&gt;
  &lt;li&gt;Using a Composer managed PHP package for the MailChimp API, we can easily subscribe users to MailChimp lists in a Drupal custom module without relying on the Mailchimp module.&lt;/li&gt;
  &lt;li&gt;While the &lt;a href=&quot;https://www.drupal.org/project/mailchimp&quot;&gt;Mailchimp contributed module&lt;/a&gt; is great, sometimes all you need is a simple, lightweight method for subscribing users to mailing lists.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One important development since my previous posts is that Composer Manager has been deprecated for Drupal 8. &lt;a href=&quot;https://www.drupal.org/project/drupal/releases/8.1.0&quot;&gt;Improvements introduced in Drupal 8.1.0&lt;/a&gt; allow modules to rely on Composer managed dependencies without the need for the Composer Manager module.&lt;/p&gt;

&lt;h2 id=&quot;implementation&quot;&gt;Implementation&lt;/h2&gt;

&lt;p&gt;There are a few steps we must take so that we can subscribe users to mailing lists in our custom module. We’ll review each of these steps in detail:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Add the MailChimp API v3.0 PHP library as a dependency of our custom module.&lt;/li&gt;
  &lt;li&gt;Ensure that the library is installed for our project.&lt;/li&gt;
  &lt;li&gt;Properly use the library in our custom module to subscribe users to mailing lists.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;specify-the-dependency&quot;&gt;Specify the dependency&lt;/h3&gt;

&lt;p&gt;ThinkShout maintains the &lt;a href=&quot;https://www.drupal.org/project/mailchimp&quot;&gt;Mailchimp contributed module&lt;/a&gt; and we were very excited to see that as part of the effort to &lt;a href=&quot;http://www.garfieldtech.com/blog/off-the-island-2013&quot;&gt;“get Drupal off the island”&lt;/a&gt; they also released &lt;a href=&quot;https://packagist.org/packages/thinkshout/mailchimp-api-php&quot;&gt;a PHP library for MailChimp API v3.0&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To use this new library, we must specify it as a dependency of our custom module. We do that in a &lt;code class=&quot;highlighter-rouge&quot;&gt;composer.json&lt;/code&gt; file that sits in our custom module’s root directory and requires that library via the following code:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;require&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;thinkshout/mailchimp-api-php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt;=1.0.3&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;install-the-library&quot;&gt;Install the library&lt;/h3&gt;

&lt;p&gt;Composer is intended for projects and therefore requires a Drupal site to have a single &lt;code class=&quot;highlighter-rouge&quot;&gt;composer.json&lt;/code&gt;, so things get complicated when individual modules specify their own dependencies.&lt;/p&gt;

&lt;p&gt;For Drupal 7 sites (or still active Drupal 6 sites), the &lt;a href=&quot;https://www.drupal.org/project/composer_manager&quot;&gt;Composer Manager&lt;/a&gt; contributed module handles this by merging the requirements specified by each custom and contributed module’s &lt;code class=&quot;highlighter-rouge&quot;&gt;composer.json&lt;/code&gt; files into a single, consolidated, site-wide &lt;code class=&quot;highlighter-rouge&quot;&gt;composer.json&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;So for Drupal 6/7 projects we’ll need Composer Manager installed and enabled.&lt;/p&gt;

&lt;p&gt;Once enabled, we can generate the consolidated &lt;code class=&quot;highlighter-rouge&quot;&gt;composer.json&lt;/code&gt; and then install all of the site’s dependencies that file specifies (including the MailChimp API v3.0 PHP library specified by our custom module) in one of two ways:&lt;/p&gt;

&lt;p&gt;From the command line, we can run the following drush commands:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;drush composer-json-rebuild
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;drush composer-manager install
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Alternatively, we could include the following lines in an update hook:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// Re-build Composer Manager composer.json and run composer update.
drush_composer_manager_composer_json_rebuild&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;;
drush_composer_manager&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;update&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For Drupal 8 sites, the process is slightly different. As mentioned previously, as of release 8.1.0, Drupal core directly uses Composer to manage dependencies and the Composer Manager module is no longer necessary. For Drupal 8 sites, we should follow the &lt;a href=&quot;https://www.drupal.org/node/2822349&quot;&gt;Drupal.org instructions for managing dependencies for a custom project&lt;/a&gt;. Following those instructions ensures that all of the site’s dependencies, including the MailChimp library specified by our custom module, are installed.&lt;/p&gt;

&lt;h3 id=&quot;use-the-library&quot;&gt;Use the library&lt;/h3&gt;

&lt;p&gt;Once we have the MailChimp API v3.0 PHP library installed, we can use it in our custom module to subscribe users to mailing lists.&lt;/p&gt;

&lt;p&gt;We suggest creating a dedicated function for subscribing users to email lists which can then be called throughout the custom module. For our purposes, we modeled that function off of the Mailchimp module (version 7.x-4.6) &lt;code class=&quot;highlighter-rouge&quot;&gt;mailchimp_subscribe_process()&lt;/code&gt; function.&lt;/p&gt;

&lt;p&gt;We implemented the following function, which can be reviewed and modified for your specific purposes:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;/**
 * Add an email to a MailChimp list.
 *
 * This code is based on the 7.x-4.6 version of the Mailchimp module,
 * specifically the mailchimp_subscribe_process() function. That version of
 * the Mailchimp contrib module makes use of the ThinkShout PHP library for
 * version 3.0 of the MailChimp API. See the following for more detail:
 * https://www.drupal.org/project/mailchimp
 * https://github.com/thinkshout/mailchimp-api-php.
 *
 * @see Mailchimp_Lists::subscribe()
 *
 * @param string $api_key
 *   The MailChimp API key.
 * @param string $list_id
 *   The MailChimp list id that the user should be subscribed to.
 * @param string $email
 *   The email address for the user being subscribed to the mailing list.
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mymodule_subscribe_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$api_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$list_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Set the timeout to something that won&#39;t take down the Drupal site:
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Get an instance of the MailchimpLists class.
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$mailchimp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\Mailchimp\MailchimpLists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$api_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;apikey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Use MEMBER_STATUS_PENDING to require double opt-in for the subscriber. Otherwise, use MEMBER_STATUS_SUBSCRIBED.
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$parameters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;status&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\Mailchimp\MailchimpLists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MEMBER_STATUS_PENDING&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;email_type&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;html&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Subscribe user to the list.
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mailchimp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addOrUpdateMember&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$list_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$parameters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;watchdog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mymodule&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;@email was subscribed to list @list.&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;@email&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;@list&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$list_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;WATCHDOG_NOTICE&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;watchdog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mymodule&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;A problem occurred subscribing @email to list @list.&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;&#39;@email&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;&#39;@list&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$list_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;WATCHDOG_WARNING&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// The user was not subscribed so log to watchdog.
&lt;/span&gt;    &lt;span class=&quot;nx&quot;&gt;watchdog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;mymodule&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;An error occurred subscribing @email to list @list. Status code @code. &quot;%message&quot;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;@email&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;@list&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$list_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;%message&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
      &lt;span class=&quot;s1&quot;&gt;&#39;@code&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;WATCHDOG_ERROR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;With that function defined, we can then subscribe an email address to a specific Mailchimp mailing list through the following function call in our custom module:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mymodule_subscribe_user($api_key, $list_id, $email);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;By taking advantage of the modern PHP ecosystem built on reusable Composer managed packages, we can easily build or adapt a custom module to subscribe users to mailing lists without the MailChimp contributed module.&lt;/p&gt;

&lt;p&gt;Lastly, a special thanks to &lt;a href=&quot;https://thinkshout.com/&quot;&gt;ThinkShout&lt;/a&gt; for their hard work maintaining the MailChimp module and creating the library, on which this approach depends!&lt;/p&gt;
</description>
        <pubDate>Tue, 15 Nov 2016 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2016/11/15/composer-mailchimp-subscriptions-v3-api.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2016/11/15/composer-mailchimp-subscriptions-v3-api.html</guid>
        
        <category>drupal</category>
        
        <category>drupal-planet</category>
        
        <category>composer</category>
        
        <category>module-development</category>
        
        <category>mailchimp</category>
        
        
      </item>
    
      <item>
        <title>Deploying Jekyll to Github Pages with Travis and Gulp</title>
        <description>&lt;p&gt;Since our company’s inception, we at Savas Labs have used &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; to build our company website and &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&quot;&gt;specifically named branch&lt;/a&gt; and a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#enabling-github-pages-to-publish-your-site-from-master-or-gh-pages&quot;&gt;single settings update&lt;/a&gt; to get your site live for free. Although we often use &lt;a href=&quot;/blog/tag/drupal/&quot;&gt;Drupal&lt;/a&gt; to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end.&lt;/p&gt;

&lt;p&gt;One well-known limitation of this workflow: any Jekyll plugins not &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;whitelisted by GitHub Pages&lt;/a&gt; will be disabled when GitHub Pages builds the site, since &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; is run with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--safe&lt;/code&gt; tag. We recently wanted to start using the &lt;a href=&quot;https://github.com/robwierzbowski/jekyll-picture-tag&quot;&gt;Jekyll Picture Tag&lt;/a&gt; plugin (&lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html#jekyll-picture-tag-plugin&quot;&gt;read about why&lt;/a&gt;), and the incredibly crucial &lt;a href=&quot;https://github.com/jekyll/jemoji&quot;&gt;Jemoji&lt;/a&gt; plugin &lt;img class=&quot;emoji&quot; title=&quot;:joy_cat:&quot; alt=&quot;:joy_cat:&quot; src=&quot;https://assets.github.com/images/icons/emoji/unicode/1f639.png&quot; height=&quot;20&quot; width=&quot;20&quot; align=&quot;absmiddle&quot; /&gt;, so we needed to find a way to build our site before pushing it to GitHub Pages for deployment. To complicate matters a bit more, we recently starting &lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html&quot;&gt;building our site with gulp&lt;/a&gt;, which introduced another layer of dependencies to the mix.&lt;/p&gt;

&lt;p&gt;Many solutions exist for building the site before pushing to GitHub Pages. We chose to use Travis CI to run our gulp command to build the site, then commit the changes to our &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch so GitHub Pages will deploy the updated site.&lt;/p&gt;

&lt;h2 id=&quot;basic-workflow&quot;&gt;Basic workflow&lt;/h2&gt;

&lt;p&gt;Our site was already using Travis CI to run our
&lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/70420c8afcf59b8d91fba3b57d2ca8241c71f211/_scripts/run-tests.sh&quot;&gt;test script&lt;/a&gt;
on pull requests and merges to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch. You can learn about setting
up Travis in their &lt;a href=&quot;https://docs.travis-ci.com/&quot;&gt;docs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Previously, Travis would build the site and run our tests, then we would merge
branches into &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt;, triggering GitHub Pages to rebuild and deploy our site.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/original-deployment-workflow.jpg&quot; alt=&quot;Diagram of original deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Original deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Now, we want to build our site before it gets to GitHub Pages to ensure our
Jekyll Plugins are included. In our new workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;We created a new default branch so the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch can be cleared
out and used by Travis.&lt;/li&gt;
  &lt;li&gt;When this new branch is updated (i.e. a pull request is merged), Travis
builds the site.&lt;/li&gt;
  &lt;li&gt;Using a GitHub token for authorization, Travis commits the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;
directory to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then pushes the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch.&lt;/li&gt;
  &lt;li&gt;This triggers GitHub Pages to deploy our pre-built site.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/new-deployment-workflow.jpg&quot; alt=&quot;Diagram of new deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;New deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-default-branch&quot;&gt;Create a new default branch&lt;/h3&gt;

&lt;p&gt;We created a new branch off &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; called &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; and set it to the default
branch on GitHub. &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; contains what the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch used to — the
Jekyll config file(s), HTML files and partials, data files, styles and JS, etc.
Each time the deploy process is run, Travis deletes all the files on the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then commits the entire compiled &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory. So, the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch only contains the compiled site, which is deployed by
GitHub Pages.&lt;/p&gt;

&lt;p&gt;Why delete all files on &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; before committing the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory? This
ensures that all changes (including deletions) are captured in each deployment.&lt;/p&gt;

&lt;h3 id=&quot;set-up-a-github-token-for-travis&quot;&gt;Set up a GitHub token for Travis&lt;/h3&gt;

&lt;p&gt;To give Travis the authority to commit and push to our repository, we generated
a personal access token by visiting the
&lt;a href=&quot;https://github.com/settings/tokens&quot;&gt;settings page&lt;/a&gt; on GitHub and generating a
new token. We used a bot account that has access to our repository to avoid
needing to use one of our personal accounts.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/github-token.jpg&quot; alt=&quot;Generating a personal access token in GitHub&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’ll need to use the access token and the account’s email address in our
deployment script, so to keep those items out of version control we used
&lt;code class=&quot;highlighter-rouge&quot;&gt;travis encrypt&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;token&amp;gt; --add env.global
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;email&amp;gt; --add env.global
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This adds encrypted versions of these sensitive items to &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;big long encrypted string...&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;...and another&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;With that, we can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_TOKEN&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_EMAIL&lt;/code&gt; variables in our
deployment script. See &lt;a href=&quot;https://docs.travis-ci.com/user/encryption-keys/&quot;&gt;Travis’ docs for more inforamtion.&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;configure-deployment&quot;&gt;Configure deployment&lt;/h3&gt;

&lt;p&gt;Next we added the following to our &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Keep Travis from testing `master` branch&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Deployment config&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We don’t want Travis running the test script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch anymore since it
only contains the compiled site, and we only want Travis to run the
deployment script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch. We’re also telling Travis which script
to run on deployment, and to destroy the site after the test script is run with our
&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.test.yml&lt;/code&gt; file so the deployment script can rebuild the site with our
default &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file. Check out &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/95bb1d70790acf4c33b7c121e2ff462af5096d73/.travis.yml&quot;&gt;this revision of the full .travis.yml file here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That revision of &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; worked for us when we were using &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; to
compile the site, but things got trickier when we started using gulp. We had to
set the proper versions of npm and node.js and ensure that our ruby gems were
installed properly. Here’s the full Travis config we needed to get things
running with gulp:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# .travis.yml&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;node_js&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;required&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./_scripts/run-tests.sh&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;6.1&#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;before_install&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm install 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm use 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;. $HOME/.nvm/nvm.sh &amp;amp;&amp;amp; nvm install 6.1 &amp;amp;&amp;amp; nvm use 6.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gem install bundler&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle check || bundle install&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;NOKOGIRI_USE_SYSTEM_LIBRARIES=true&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;more stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or view it &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/9434cee6fe1cce54de4bc0294da1c6e9f52476e0/.travis.yml&quot;&gt;on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;the-deployment-script&quot;&gt;The deployment script&lt;/h3&gt;

&lt;p&gt;When the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch is updated and our tests pass, the deployment script
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt; is executed.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Enable error reporting to the console.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; -e

&lt;span class=&quot;c&quot;&gt;# Install bundles if needed.&lt;/span&gt;
bundle check &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; bundle install

&lt;span class=&quot;c&quot;&gt;# NPM install if needed.&lt;/span&gt;
. &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.nvm/nvm.sh &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm install 6.1 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm use 6.1
npm install

&lt;span class=&quot;c&quot;&gt;# Build the site.&lt;/span&gt;
gulp

&lt;span class=&quot;c&quot;&gt;# Checkout `master` and remove everything.&lt;/span&gt;
git clone https://&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;@github.com/savaslabs/savaslabs.github.io.git ../savaslabs.github.io.master
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../savaslabs.github.io.master
git checkout master
rm -rf &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Copy generated HTML site from source branch in original repository.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Now the `master` branch will contain only the contents of the _site directory.&lt;/span&gt;
cp -R ../savaslabs.github.io/_site/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; .

&lt;span class=&quot;c&quot;&gt;# Make sure we have the updated .travis.yml file so tests won&#39;t run on master.&lt;/span&gt;
cp ../savaslabs.github.io/.travis.yml .
git config user.email &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
git config user.name &lt;span class=&quot;s2&quot;&gt;&quot;savas-bot&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Commit and push generated content to `master` branch.&lt;/span&gt;
git status
git add -A .
git status
git commit -a -m &lt;span class=&quot;s2&quot;&gt;&quot;Travis #&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRAVIS_BUILD_NUMBER&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git push --quiet origin &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;master&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Some important notes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Make sure the script file is executable!&lt;/li&gt;
  &lt;li&gt;The last line ensures that our encrypted token won’t end up in git logs.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;deployment-and-debugging&quot;&gt;Deployment and debugging&lt;/h2&gt;

&lt;p&gt;Merging this code into &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; was the easiest way for us to test if our new process worked
— scary, right? Fortunately, if the build script failed (and it did several
times until we could get the npm and node versions correct and the ruby gems
installing properly) nothing got pushed to &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; so nothing was deployed,
meaning no downtime on our site.&lt;/p&gt;

&lt;p&gt;We also used
&lt;a href=&quot;https://www.teleconsole.com/&quot;&gt;Teleconsole&lt;/a&gt; to debug from inside the Travis
environment. To do this, we commented out the &lt;code class=&quot;highlighter-rouge&quot;&gt;git push&lt;/code&gt; line and added the following to
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl https://www.teleconsole.com/get.sh | sh
teleconsole
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This printed a session ID in the Travis CI output. With a couple of commands, we
could enter the session from our local machines:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install teleconsole&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;curl https://www.teleconsole.com/get.sh | sh

&lt;span class=&quot;c&quot;&gt;# Join session&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;teleconsole join &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;session ID]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Being able to look around and run commands within the Travis environment was
hugely helpful!&lt;/p&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;p&gt;We’d like to implement some improvements on this process in the future:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;With our current setup, we can’t deploy when our tests are failing.&lt;/li&gt;
  &lt;li&gt;Providing consistency with Ruby and Node dependencies across different
operating systems and environments has proven difficult. We’ve considered
Dockerizing our site but that’s a subject for another post!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;p&gt;We’d like to give credit to these helpful posts, which we adapted for our site:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html&quot;&gt;Automate GitHub Pages publishing with Jekyll and Travis CI&lt;/a&gt; by Evgeny Shepelyuk&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mlota.github.io/2015/11/23/automating-deployment-github-pages-jekyll-travis.html&quot;&gt;Automating deployment of a GitHub Pages hosted site with Jekyll and Travis CI&lt;/a&gt; by Mel Lota&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 25 Oct 2016 00:00:00 +0000</pubDate>
        <link>https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html</link>
        <guid isPermaLink="true">https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html</guid>
        
        <category>jekyll</category>
        
        <category>continuous-integration</category>
        
        
      </item>
    
  </channel>
</rss>
