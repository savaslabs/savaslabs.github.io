<!DOCTYPE html>
<html lang="en-US">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="cache-control" content="public">
  <meta http-equiv="expires" content="86400">
  
  <title>Deploying Jekyll to Github Pages with Travis and Gulp | Savas Labs</title>
  
  <meta name="description" content="Since our company’s inception, we at Savas Labs have used Jekyll to build our company website and GitHub Pages to host it with great success. Jekyll is a pow...">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="canonical" href="https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html">
  <link rel="alternate" type="application/rss+xml" title="Savas Labs" href="https://savaslabs.com/feed.xml" />

  <!-- Structured data. -->
  
  
  
  




  
  
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "about": "A step-by-step guide to how we deploy our gulpified Jekyll site to GitHub
Pages using Travis, opening the door for us to use Jekyll Plugins.
",
      "articleBody": "&lt;p&gt;Since our company’s inception, we at Savas Labs have used &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; to build our company website and &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&quot;&gt;specifically named branch&lt;/a&gt; and a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#enabling-github-pages-to-publish-your-site-from-master-or-gh-pages&quot;&gt;single settings update&lt;/a&gt; to get your site live for free. Although we often use &lt;a href=&quot;/blog/tag/drupal/&quot;&gt;Drupal&lt;/a&gt; to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end.&lt;/p&gt;

&lt;p&gt;One well-known limitation of this workflow: any Jekyll plugins not &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;whitelisted by GitHub Pages&lt;/a&gt; will be disabled when GitHub Pages builds the site, since &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; is run with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--safe&lt;/code&gt; tag. We recently wanted to start using the &lt;a href=&quot;https://github.com/robwierzbowski/jekyll-picture-tag&quot;&gt;Jekyll Picture Tag&lt;/a&gt; plugin (&lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html#jekyll-picture-tag-plugin&quot;&gt;read about why&lt;/a&gt;), and the incredibly crucial &lt;a href=&quot;https://github.com/jekyll/jemoji&quot;&gt;Jemoji&lt;/a&gt; plugin :joy_cat:, so we needed to find a way to build our site before pushing it to GitHub Pages for deployment. To complicate matters a bit more, we recently starting &lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html&quot;&gt;building our site with gulp&lt;/a&gt;, which introduced another layer of dependencies to the mix.&lt;/p&gt;

&lt;p&gt;Many solutions exist for building the site before pushing to GitHub Pages. We chose to use Travis CI to run our gulp command to build the site, then commit the changes to our &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch so GitHub Pages will deploy the updated site.&lt;/p&gt;

&lt;h2 id=&quot;basic-workflow&quot;&gt;Basic workflow&lt;/h2&gt;

&lt;p&gt;Our site was already using Travis CI to run our
&lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/70420c8afcf59b8d91fba3b57d2ca8241c71f211/_scripts/run-tests.sh&quot;&gt;test script&lt;/a&gt;
on pull requests and merges to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch. You can learn about setting
up Travis in their &lt;a href=&quot;https://docs.travis-ci.com/&quot;&gt;docs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Previously, Travis would build the site and run our tests, then we would merge
branches into &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt;, triggering GitHub Pages to rebuild and deploy our site.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/original-deployment-workflow.jpg&quot; alt=&quot;Diagram of original deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Original deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Now, we want to build our site before it gets to GitHub Pages to ensure our
Jekyll Plugins are included. In our new workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;We created a new default branch so the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch can be cleared
out and used by Travis.&lt;/li&gt;
  &lt;li&gt;When this new branch is updated (i.e. a pull request is merged), Travis
builds the site.&lt;/li&gt;
  &lt;li&gt;Using a GitHub token for authorization, Travis commits the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;
directory to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then pushes the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch.&lt;/li&gt;
  &lt;li&gt;This triggers GitHub Pages to deploy our pre-built site.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/new-deployment-workflow.jpg&quot; alt=&quot;Diagram of new deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;New deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-default-branch&quot;&gt;Create a new default branch&lt;/h3&gt;

&lt;p&gt;We created a new branch off &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; called &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; and set it to the default
branch on GitHub. &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; contains what the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch used to — the
Jekyll config file(s), HTML files and partials, data files, styles and JS, etc.
Each time the deploy process is run, Travis deletes all the files on the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then commits the entire compiled &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory. So, the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch only contains the compiled site, which is deployed by
GitHub Pages.&lt;/p&gt;

&lt;p&gt;Why delete all files on &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; before committing the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory? This
ensures that all changes (including deletions) are captured in each deployment.&lt;/p&gt;

&lt;h3 id=&quot;set-up-a-github-token-for-travis&quot;&gt;Set up a GitHub token for Travis&lt;/h3&gt;

&lt;p&gt;To give Travis the authority to commit and push to our repository, we generated
a personal access token by visiting the
&lt;a href=&quot;https://github.com/settings/tokens&quot;&gt;settings page&lt;/a&gt; on GitHub and generating a
new token. We used a bot account that has access to our repository to avoid
needing to use one of our personal accounts.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/github-token.jpg&quot; alt=&quot;Generating a personal access token in GitHub&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’ll need to use the access token and the account’s email address in our
deployment script, so to keep those items out of version control we used
&lt;code class=&quot;highlighter-rouge&quot;&gt;travis encrypt&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;token&amp;gt; &lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; env.global
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;email&amp;gt; &lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; env.global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This adds encrypted versions of these sensitive items to &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;big long encrypted string...&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;...and another&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With that, we can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_TOKEN&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_EMAIL&lt;/code&gt; variables in our
deployment script. See &lt;a href=&quot;https://docs.travis-ci.com/user/encryption-keys/&quot;&gt;Travis’ docs for more inforamtion.&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;configure-deployment&quot;&gt;Configure deployment&lt;/h3&gt;

&lt;p&gt;Next we added the following to our &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Keep Travis from testing `master` branch&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Deployment config&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We don’t want Travis running the test script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch anymore since it
only contains the compiled site, and we only want Travis to run the
deployment script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch. We’re also telling Travis which script
to run on deployment, and to destroy the site after the test script is run with our
&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.test.yml&lt;/code&gt; file so the deployment script can rebuild the site with our
default &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file. Check out &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/95bb1d70790acf4c33b7c121e2ff462af5096d73/.travis.yml&quot;&gt;this revision of the full .travis.yml file here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That revision of &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; worked for us when we were using &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; to
compile the site, but things got trickier when we started using gulp. We had to
set the proper versions of npm and node.js and ensure that our ruby gems were
installed properly. Here’s the full Travis config we needed to get things
running with gulp:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# .travis.yml&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;node_js&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;required&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./_scripts/run-tests.sh&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;6.1&#39;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;before_install&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm install 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm use 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;. $HOME/.nvm/nvm.sh &amp;amp;&amp;amp; nvm install 6.1 &amp;amp;&amp;amp; nvm use 6.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gem install bundler&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle check || bundle install&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;NOKOGIRI_USE_SYSTEM_LIBRARIES=true&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;more stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or view it &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/9434cee6fe1cce54de4bc0294da1c6e9f52476e0/.travis.yml&quot;&gt;on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;the-deployment-script&quot;&gt;The deployment script&lt;/h3&gt;

&lt;p&gt;When the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch is updated and our tests pass, the deployment script
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt; is executed.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Enable error reporting to the console.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Install bundles if needed.&lt;/span&gt;
bundle check &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; bundle install

&lt;span class=&quot;c&quot;&gt;# NPM install if needed.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.nvm/nvm.sh &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm install 6.1 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm use 6.1
npm install

&lt;span class=&quot;c&quot;&gt;# Build the site.&lt;/span&gt;
gulp

&lt;span class=&quot;c&quot;&gt;# Checkout `master` and remove everything.&lt;/span&gt;
git clone https://&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;@github.com/savaslabs/savaslabs.github.io.git ../savaslabs.github.io.master
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../savaslabs.github.io.master
git checkout master
rm &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Copy generated HTML site from source branch in original repository.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Now the `master` branch will contain only the contents of the _site directory.&lt;/span&gt;
cp &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; ../savaslabs.github.io/_site/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make sure we have the updated .travis.yml file so tests won&#39;t run on master.&lt;/span&gt;
cp ../savaslabs.github.io/.travis.yml &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
git config user.email &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
git config user.name &lt;span class=&quot;s2&quot;&gt;&quot;savas-bot&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Commit and push generated content to `master` branch.&lt;/span&gt;
git status
git add &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
git status
git commit &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Travis #&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRAVIS_BUILD_NUMBER&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git push &lt;span class=&quot;nt&quot;&gt;--quiet&lt;/span&gt; origin &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;master&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some important notes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Make sure the script file is executable!&lt;/li&gt;
  &lt;li&gt;The last line ensures that our encrypted token won’t end up in git logs.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;deployment-and-debugging&quot;&gt;Deployment and debugging&lt;/h2&gt;

&lt;p&gt;Merging this code into &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; was the easiest way for us to test if our new process worked
— scary, right? Fortunately, if the build script failed (and it did several
times until we could get the npm and node versions correct and the ruby gems
installing properly) nothing got pushed to &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; so nothing was deployed,
meaning no downtime on our site.&lt;/p&gt;

&lt;p&gt;We also used
&lt;a href=&quot;https://www.teleconsole.com/&quot;&gt;Teleconsole&lt;/a&gt; to debug from inside the Travis
environment. To do this, we commented out the &lt;code class=&quot;highlighter-rouge&quot;&gt;git push&lt;/code&gt; line and added the following to
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl https://www.teleconsole.com/get.sh | sh
teleconsole
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This printed a session ID in the Travis CI output. With a couple of commands, we
could enter the session from our local machines:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install teleconsole&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl https://www.teleconsole.com/get.sh | sh

&lt;span class=&quot;c&quot;&gt;# Join session&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;teleconsole join &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;session ID]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Being able to look around and run commands within the Travis environment was
hugely helpful!&lt;/p&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;p&gt;We’d like to implement some improvements on this process in the future:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;With our current setup, we can’t deploy when our tests are failing.&lt;/li&gt;
  &lt;li&gt;Providing consistency with Ruby and Node dependencies across different
operating systems and environments has proven difficult. We’ve considered
Dockerizing our site but that’s a subject for another post!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;p&gt;We’d like to give credit to these helpful posts, which we adapted for our site:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html&quot;&gt;Automate GitHub Pages publishing with Jekyll and Travis CI&lt;/a&gt; by Evgeny Shepelyuk&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mlota.github.io/2015/11/23/automating-deployment-github-pages-jekyll-travis.html&quot;&gt;Automating deployment of a GitHub Pages hosted site with Jekyll and Travis CI&lt;/a&gt; by Mel Lota&lt;/li&gt;
&lt;/ul&gt;
",
      "author": {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Anne Tomasevich",
        "affiliation": "Savas Labs",
        "worksFor": "Savas Labs"
      },
      "dateCreated": "2016-10-25 00:00:00 +0000",
      "dateModified": "2016-10-25 00:00:00 +0000",
      "datePublished": "2016-10-25 00:00:00 +0000",
      "headline": "Deploying Jekyll to Github Pages with Travis and Gulp",
      "image": {
        "@context": "http://schema.org",
        "@type": "ImageObject",
        "author": "Anne Tomasevich",
        "datePublished": "2016-10-25 00:00:00 +0000",
        "description": "Jekyll, Gulp, Travis, and GitHub logos",
        "height": "739px",
        "url": "https://savaslabs.com/assets/img/blog/travis-hero.png",
        "width": "1474px"
      },
      "inLanguage": "en-US",
      "keywords": "jekyll, continuous-integration",
      "mainEntityOfPage": "https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html",
      "publisher": {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Durham",
          "addressRegion": "NC",
          "postalCode": "27701",
          "streetAddress": "201 W Main St."
        },
        "description": "We design digital products that users love
",
        "email": "info@savaslabs.com",
        "logo": {
          "@context": "http://schema.org",
          "@type": "ImageObject",
          "description": "Savas Labs logo",
          "height": "50px",
          "url": "https://savaslabs.com/assets/img/logo.png",
          "width": "114px"
        },
        "name": "Savas Labs",
        "telephone": "(919) 432-4660",
        "url": "https://savaslabs.com"
      },
      "sourceOrganization": "Savas Labs",
      "text": "&lt;p&gt;Since our company’s inception, we at Savas Labs have used &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; to build our company website and &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&quot;&gt;specifically named branch&lt;/a&gt; and a &lt;a href=&quot;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#enabling-github-pages-to-publish-your-site-from-master-or-gh-pages&quot;&gt;single settings update&lt;/a&gt; to get your site live for free. Although we often use &lt;a href=&quot;/blog/tag/drupal/&quot;&gt;Drupal&lt;/a&gt; to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end.&lt;/p&gt;

&lt;p&gt;One well-known limitation of this workflow: any Jekyll plugins not &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;whitelisted by GitHub Pages&lt;/a&gt; will be disabled when GitHub Pages builds the site, since &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; is run with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--safe&lt;/code&gt; tag. We recently wanted to start using the &lt;a href=&quot;https://github.com/robwierzbowski/jekyll-picture-tag&quot;&gt;Jekyll Picture Tag&lt;/a&gt; plugin (&lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html#jekyll-picture-tag-plugin&quot;&gt;read about why&lt;/a&gt;), and the incredibly crucial &lt;a href=&quot;https://github.com/jekyll/jemoji&quot;&gt;Jemoji&lt;/a&gt; plugin :joy_cat:, so we needed to find a way to build our site before pushing it to GitHub Pages for deployment. To complicate matters a bit more, we recently starting &lt;a href=&quot;/2016/10/19/optimizing-jekyll-with-gulp.html&quot;&gt;building our site with gulp&lt;/a&gt;, which introduced another layer of dependencies to the mix.&lt;/p&gt;

&lt;p&gt;Many solutions exist for building the site before pushing to GitHub Pages. We chose to use Travis CI to run our gulp command to build the site, then commit the changes to our &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch so GitHub Pages will deploy the updated site.&lt;/p&gt;

&lt;h2 id=&quot;basic-workflow&quot;&gt;Basic workflow&lt;/h2&gt;

&lt;p&gt;Our site was already using Travis CI to run our
&lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/70420c8afcf59b8d91fba3b57d2ca8241c71f211/_scripts/run-tests.sh&quot;&gt;test script&lt;/a&gt;
on pull requests and merges to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch. You can learn about setting
up Travis in their &lt;a href=&quot;https://docs.travis-ci.com/&quot;&gt;docs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Previously, Travis would build the site and run our tests, then we would merge
branches into &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt;, triggering GitHub Pages to rebuild and deploy our site.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/original-deployment-workflow.jpg&quot; alt=&quot;Diagram of original deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;Original deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Now, we want to build our site before it gets to GitHub Pages to ensure our
Jekyll Plugins are included. In our new workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;We created a new default branch so the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch can be cleared
out and used by Travis.&lt;/li&gt;
  &lt;li&gt;When this new branch is updated (i.e. a pull request is merged), Travis
builds the site.&lt;/li&gt;
  &lt;li&gt;Using a GitHub token for authorization, Travis commits the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;
directory to the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then pushes the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch.&lt;/li&gt;
  &lt;li&gt;This triggers GitHub Pages to deploy our pre-built site.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/new-deployment-workflow.jpg&quot; alt=&quot;Diagram of new deployment workflow&quot; class=&quot;blog-image-full-width&quot; /&gt;
&lt;span class=&quot;caption&quot;&gt;New deployment workflow&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-default-branch&quot;&gt;Create a new default branch&lt;/h3&gt;

&lt;p&gt;We created a new branch off &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; called &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; and set it to the default
branch on GitHub. &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; contains what the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch used to — the
Jekyll config file(s), HTML files and partials, data files, styles and JS, etc.
Each time the deploy process is run, Travis deletes all the files on the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch, then commits the entire compiled &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory. So, the
&lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch only contains the compiled site, which is deployed by
GitHub Pages.&lt;/p&gt;

&lt;p&gt;Why delete all files on &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; before committing the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; directory? This
ensures that all changes (including deletions) are captured in each deployment.&lt;/p&gt;

&lt;h3 id=&quot;set-up-a-github-token-for-travis&quot;&gt;Set up a GitHub token for Travis&lt;/h3&gt;

&lt;p&gt;To give Travis the authority to commit and push to our repository, we generated
a personal access token by visiting the
&lt;a href=&quot;https://github.com/settings/tokens&quot;&gt;settings page&lt;/a&gt; on GitHub and generating a
new token. We used a bot account that has access to our repository to avoid
needing to use one of our personal accounts.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://savaslabs.com/assets/img/blog/github-token.jpg&quot; alt=&quot;Generating a personal access token in GitHub&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’ll need to use the access token and the account’s email address in our
deployment script, so to keep those items out of version control we used
&lt;code class=&quot;highlighter-rouge&quot;&gt;travis encrypt&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;token&amp;gt; &lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; env.global
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;travis encrypt &lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;email&amp;gt; &lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; env.global
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This adds encrypted versions of these sensitive items to &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;big long encrypted string...&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;...and another&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With that, we can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_TOKEN&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_EMAIL&lt;/code&gt; variables in our
deployment script. See &lt;a href=&quot;https://docs.travis-ci.com/user/encryption-keys/&quot;&gt;Travis’ docs for more inforamtion.&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;configure-deployment&quot;&gt;Configure deployment&lt;/h3&gt;

&lt;p&gt;Next we added the following to our &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Keep Travis from testing `master` branch&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Deployment config&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We don’t want Travis running the test script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch anymore since it
only contains the compiled site, and we only want Travis to run the
deployment script on the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch. We’re also telling Travis which script
to run on deployment, and to destroy the site after the test script is run with our
&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.test.yml&lt;/code&gt; file so the deployment script can rebuild the site with our
default &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file. Check out &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/95bb1d70790acf4c33b7c121e2ff462af5096d73/.travis.yml&quot;&gt;this revision of the full .travis.yml file here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That revision of &lt;code class=&quot;highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; worked for us when we were using &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt; to
compile the site, but things got trickier when we started using gulp. We had to
set the proper versions of npm and node.js and ensure that our ruby gems were
installed properly. Here’s the full Travis config we needed to get things
running with gulp:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# .travis.yml&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;node_js&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;required&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./_scripts/run-tests.sh&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;6.1&#39;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;before_install&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm install 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rvm use 2.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;. $HOME/.nvm/nvm.sh &amp;amp;&amp;amp; nvm install 6.1 &amp;amp;&amp;amp; nvm use 6.1&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gem install bundler&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle check || bundle install&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;NOKOGIRI_USE_SYSTEM_LIBRARIES=true&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;more stuff&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;script&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./_scripts/build.sh&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;source&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or view it &lt;a href=&quot;https://github.com/savaslabs/savaslabs.github.io/blob/9434cee6fe1cce54de4bc0294da1c6e9f52476e0/.travis.yml&quot;&gt;on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;the-deployment-script&quot;&gt;The deployment script&lt;/h3&gt;

&lt;p&gt;When the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch is updated and our tests pass, the deployment script
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt; is executed.&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Enable error reporting to the console.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Install bundles if needed.&lt;/span&gt;
bundle check &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; bundle install

&lt;span class=&quot;c&quot;&gt;# NPM install if needed.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.nvm/nvm.sh &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm install 6.1 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nvm use 6.1
npm install

&lt;span class=&quot;c&quot;&gt;# Build the site.&lt;/span&gt;
gulp

&lt;span class=&quot;c&quot;&gt;# Checkout `master` and remove everything.&lt;/span&gt;
git clone https://&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;@github.com/savaslabs/savaslabs.github.io.git ../savaslabs.github.io.master
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../savaslabs.github.io.master
git checkout master
rm &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Copy generated HTML site from source branch in original repository.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Now the `master` branch will contain only the contents of the _site directory.&lt;/span&gt;
cp &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; ../savaslabs.github.io/_site/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Make sure we have the updated .travis.yml file so tests won&#39;t run on master.&lt;/span&gt;
cp ../savaslabs.github.io/.travis.yml &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
git config user.email &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_EMAIL&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
git config user.name &lt;span class=&quot;s2&quot;&gt;&quot;savas-bot&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Commit and push generated content to `master` branch.&lt;/span&gt;
git status
git add &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
git status
git commit &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Travis #&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TRAVIS_BUILD_NUMBER&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git push &lt;span class=&quot;nt&quot;&gt;--quiet&lt;/span&gt; origin &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;master&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some important notes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Make sure the script file is executable!&lt;/li&gt;
  &lt;li&gt;The last line ensures that our encrypted token won’t end up in git logs.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;deployment-and-debugging&quot;&gt;Deployment and debugging&lt;/h2&gt;

&lt;p&gt;Merging this code into &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; was the easiest way for us to test if our new process worked
— scary, right? Fortunately, if the build script failed (and it did several
times until we could get the npm and node versions correct and the ruby gems
installing properly) nothing got pushed to &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; so nothing was deployed,
meaning no downtime on our site.&lt;/p&gt;

&lt;p&gt;We also used
&lt;a href=&quot;https://www.teleconsole.com/&quot;&gt;Teleconsole&lt;/a&gt; to debug from inside the Travis
environment. To do this, we commented out the &lt;code class=&quot;highlighter-rouge&quot;&gt;git push&lt;/code&gt; line and added the following to
&lt;code class=&quot;highlighter-rouge&quot;&gt;build.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl https://www.teleconsole.com/get.sh | sh
teleconsole
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This printed a session ID in the Travis CI output. With a couple of commands, we
could enter the session from our local machines:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Install teleconsole&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl https://www.teleconsole.com/get.sh | sh

&lt;span class=&quot;c&quot;&gt;# Join session&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;teleconsole join &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;session ID]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Being able to look around and run commands within the Travis environment was
hugely helpful!&lt;/p&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;p&gt;We’d like to implement some improvements on this process in the future:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;With our current setup, we can’t deploy when our tests are failing.&lt;/li&gt;
  &lt;li&gt;Providing consistency with Ruby and Node dependencies across different
operating systems and environments has proven difficult. We’ve considered
Dockerizing our site but that’s a subject for another post!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;p&gt;We’d like to give credit to these helpful posts, which we adapted for our site:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html&quot;&gt;Automate GitHub Pages publishing with Jekyll and Travis CI&lt;/a&gt; by Evgeny Shepelyuk&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mlota.github.io/2015/11/23/automating-deployment-github-pages-jekyll-travis.html&quot;&gt;Automating deployment of a GitHub Pages hosted site with Jekyll and Travis CI&lt;/a&gt; by Mel Lota&lt;/li&gt;
&lt;/ul&gt;
",
      "url": "https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html"
    }
  </script>

  

  <!-- Google Analytics. -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61514316-1', 'auto');
  ga('send', 'pageview');

</script>



  <!-- Load main CSS file asynchronously via loadCSS. -->
  <script>
    !function(e){"use strict";var t=function(t,n,r){function o(e){return i.body?e():void setTimeout(function(){o(e)})}function l(){d.addEventListener&&d.removeEventListener("load",l),d.media=r||"all"}var a,i=e.document,d=i.createElement("link");if(n)a=n;else{var s=(i.body||i.getElementsByTagName("head")[0]).childNodes;a=s[s.length-1]}var u=i.styleSheets;d.rel="stylesheet",d.href=t,d.media="only x",o(function(){a.parentNode.insertBefore(d,n?a:a.nextSibling)});var f=function(e){for(var t=d.href,n=u.length;n--;)if(u[n].href===t)return e();setTimeout(function(){f(e)})};return d.addEventListener&&d.addEventListener("load",l),d.onloadcssdefined=f,f(l),d};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}("undefined"!=typeof global?global:this),function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(t){}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n];"preload"===r.rel&&"style"===r.getAttribute("as")&&(e.loadCSS(r.href,r),r.rel=null)}},!t.support()){t.poly();var n=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){e.clearInterval(n)})}}}(this);
    loadCSS('/assets/styles/main.css');
    loadCSS('https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto+Slab:300,400|Roboto:400,400i,700,700i');
  </script>

  <!-- Inline critical CSS. -->
  <style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.bg-magenta{background-color:#9e023b}.bg-orange{background-color:#d3281b}.bg-eggshell{background-color:#fff8f3}.bg-teal{background-color:#0a5365}.bg-dark-teal{background-color:#06282d}.bg-grey{background-color:#565d5e}.bg-light-grey{background-color:#bdc2c3}.bg-light-teal{background-color:#f3f6f7}.bg-light-orange{background-color:#f29c96}.bg-purple{background-color:#501888}.bg-pink{background-color:#d33682}.bg-yellow{background-color:#f2a324}.bg-green{background-color:#055c2b}.c-magenta{color:#9e023b}.c-orange{color:#d3281b}.c-eggshell{color:#fff8f3}.c-teal{color:#0a5365}.c-dark-teal{color:#06282d}.c-grey{color:#565d5e}.c-light-grey{color:#bdc2c3}.c-light-teal{color:#f3f6f7}.c-light-orange{color:#f29c96}.c-purple{color:#501888}.c-pink{color:#d33682}.c-yellow{color:#f2a324}.c-green{color:#055c2b}button,[type='button'],[type='reset'],[type='submit']{appearance:none;background-color:#0a5365;border:0;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em;-webkit-font-smoothing:antialiased;font-weight:600;line-height:1;padding:.75em 1em;text-align:center;text-decoration:none;transition:background-color 150ms ease;user-select:none;vertical-align:middle;white-space:nowrap}button:hover,button:focus,[type='button']:hover,[type='button']:focus,[type='reset']:hover,[type='reset']:focus,[type='submit']:hover,[type='submit']:focus{background-color:#084251;color:#fff}button:disabled,[type='button']:disabled,[type='reset']:disabled,[type='submit']:disabled{cursor:not-allowed;opacity:0.5}button:disabled:hover,[type='button']:disabled:hover,[type='reset']:disabled:hover,[type='submit']:disabled:hover{background-color:#0a5365}fieldset{background-color:transparent;border:0;margin:0;padding:0}legend{font-weight:600;margin-bottom:.375em;padding:0}label{display:block;font-weight:600;margin-bottom:.375em}input,select,textarea{display:block;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em}[type='color'],[type='date'],[type='datetime'],[type='datetime-local'],[type='email'],[type='month'],[type='number'],[type='password'],[type='search'],[type='tel'],[type='text'],[type='time'],[type='url'],[type='week'],input:not([type]),textarea{appearance:none;background-color:#fff;border:1px solid #ddd;border-radius:3px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.06);box-sizing:border-box;margin-bottom:.75em;padding:.3333333333em;transition:border-color 150ms ease;width:100%}[type='color']:hover,[type='date']:hover,[type='datetime']:hover,[type='datetime-local']:hover,[type='email']:hover,[type='month']:hover,[type='number']:hover,[type='password']:hover,[type='search']:hover,[type='tel']:hover,[type='text']:hover,[type='time']:hover,[type='url']:hover,[type='week']:hover,input:not([type]):hover,textarea:hover{border-color:#b1b1b1}[type='color']:focus,[type='date']:focus,[type='datetime']:focus,[type='datetime-local']:focus,[type='email']:focus,[type='month']:focus,[type='number']:focus,[type='password']:focus,[type='search']:focus,[type='tel']:focus,[type='text']:focus,[type='time']:focus,[type='url']:focus,[type='week']:focus,input:not([type]):focus,textarea:focus{border-color:#0a5365;box-shadow:inset 0 1px 3px rgba(0,0,0,0.06),0 0 5px rgba(18,89,169,0.7);outline:none}[type='color']:disabled,[type='date']:disabled,[type='datetime']:disabled,[type='datetime-local']:disabled,[type='email']:disabled,[type='month']:disabled,[type='number']:disabled,[type='password']:disabled,[type='search']:disabled,[type='tel']:disabled,[type='text']:disabled,[type='time']:disabled,[type='url']:disabled,[type='week']:disabled,input:not([type]):disabled,textarea:disabled{background-color:#f2f2f2;cursor:not-allowed}[type='color']:disabled:hover,[type='date']:disabled:hover,[type='datetime']:disabled:hover,[type='datetime-local']:disabled:hover,[type='email']:disabled:hover,[type='month']:disabled:hover,[type='number']:disabled:hover,[type='password']:disabled:hover,[type='search']:disabled:hover,[type='tel']:disabled:hover,[type='text']:disabled:hover,[type='time']:disabled:hover,[type='url']:disabled:hover,[type='week']:disabled:hover,input:not([type]):disabled:hover,textarea:disabled:hover{border:1px solid #ddd}[type='color']::placeholder,[type='date']::placeholder,[type='datetime']::placeholder,[type='datetime-local']::placeholder,[type='email']::placeholder,[type='month']::placeholder,[type='number']::placeholder,[type='password']::placeholder,[type='search']::placeholder,[type='tel']::placeholder,[type='text']::placeholder,[type='time']::placeholder,[type='url']::placeholder,[type='week']::placeholder,input:not([type])::placeholder,textarea::placeholder{color:#858585}textarea{resize:vertical}[type="checkbox"],[type="radio"]{display:inline;margin-right:.375em}[type="file"]{margin-bottom:.75em;width:100%}select{margin-bottom:.75em;width:100%}html{box-sizing:border-box}*,*::before,*::after{box-sizing:inherit}html,body{height:100%}ul,ol{list-style-type:none;margin:0;padding:0}dl{margin:0}dt{font-weight:600;margin:0}dd{margin:0}figure{margin:0}img,picture{margin:0;max-width:100%}table{border-collapse:collapse;margin:.75em 0;table-layout:fixed;width:100%}th{border-bottom:1px solid #a6a6a6;font-weight:600;padding:.75em 0;text-align:left}td{border-bottom:1px solid #ddd;padding:.75em 0}tr,td,th{vertical-align:middle}body{color:#333;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1.25em;line-height:1.2;margin:0 0 .75em}p{margin:0 0 .75em}a{color:#0a5365;text-decoration:none;transition:color 150ms ease}a:active,a:focus,a:hover{color:#083e4c}hr{border-bottom:1px solid #ddd;border-left:0;border-right:0;border-top:0;margin:1em 0}.nowrap{white-space:nowrap}.region{max-width:1440px;margin-left:auto;margin-right:auto;clear:both;max-width:1400px;padding:1.5em 1em;vertical-align:baseline}.region::after{clear:both;content:"";display:block}@media only screen and (min-width: 640px){.region{padding:3em 1em}}@media only screen and (min-width: 1440px){.region{padding:3em 0}}.region--full-width{clear:both;margin:1.5em 0}@media only screen and (min-width: 640px){.region--full-width{margin:3em 0}}.region--full-width .region--full-width__wrapper{max-width:1440px;margin-left:auto;margin-right:auto;margin:0 auto;max-width:1400px;vertical-align:baseline}.region--full-width .region--full-width__wrapper::after{clear:both;content:"";display:block}.outer-container{max-width:1440px;margin-left:auto;margin-right:auto;width:100%}.outer-container::after{clear:both;content:"";display:block}.flex-center{align-items:center;display:flex;justify-content:center}.hide-for-small{display:none}@media only screen and (min-width: 450px){.hide-for-small{display:block}}.hide-for-medium{display:block}@media only screen and (min-width: 640px){.hide-for-medium{display:none}}@media only screen and (min-width: 860px){.hide-for-medium{display:block}}.hide-for-large{display:block}@media only screen and (min-width: 860px){.hide-for-large{display:none}}.sr-only{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.m0{margin:0}.breadcrumbs{font-size:1em;margin-top:-1.5em}.breadcrumbs i{margin-left:.5em}h1,h2,h3,h4,h5,h6{color:#0a5365;font-family:"Roboto Slab",Verdana,sans-serif;font-weight:300}h1,.h1{font-size:2.074em}@media only screen and (min-width: 640px){h1,.h1{font-size:2.441em}}h2,.h2{font-size:1.728em}@media only screen and (min-width: 640px){h2,.h2{font-size:1.953em}}h3,.h3{font-size:1.44em}@media only screen and (min-width: 640px){h3,.h3{font-size:1.563em}}h4,.h4{font-size:1.2em}@media only screen and (min-width: 640px){h4,.h4{font-size:1.25em}}h5,.h5{font-size:1.1em}h6,.h6{font-size:1em}.heading--bold{font-weight:700}.heading--sans-serif{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif}article h2,article h3,article h4,article h5,article h6{color:#9e023b;font-weight:400;margin-top:1.5em}article h2::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.page--post__main h1{color:#9e023b}.heading--underline::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--orange::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--magenta::after{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--eggshell::after{background:#fff8f3;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--right{position:relative;text-align:right}.heading--underline--right::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--orange{position:relative;text-align:right}.heading--underline--right--orange::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--magenta{position:relative;text-align:right}.heading--underline--right--magenta::after{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--eggshell{position:relative;text-align:right}.heading--underline--right--eggshell::after{background:#fff8f3;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}a{color:#0a5365;transition:all .1s linear}a:hover,a:focus{color:#0f7993}.link--light{color:#fff8f3}.link--light:hover,.link--light:focus{color:#d3281b}.link--light--no-hover{color:#fff8f3}.link--light--no-hover:hover,.link--light--no-hover:focus{color:#fff8f3}.link--arrow{text-transform:uppercase}.link--arrow::after{content:'\f105';font-family:FontAwesome;font-size:1.25em;margin-left:.75em}p a,article ul a,article ol a,.link--inline{border-bottom:0.1em solid rgba(211,40,27,0.1);color:#d3281b}p a:hover,p a:focus,article ul a:hover,article ul a:focus,article ol a:hover,article ol a:focus,.link--inline:hover,.link--inline:focus{border-bottom:0.1em solid #9e023b;color:#9e023b}ul{list-style-type:square}ol{list-style-type:decimal}ul,ol{margin-bottom:1em;margin-left:2em}ul ul,ul ol,ol ul,ol ol{margin-bottom:0}ul ul,ul ul li,ul ol,ul ol li,ol ul,ol ul li,ol ol,ol ol li,ul p,ol p{font-size:1em !important}article ol,article ul{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.125em;line-height:1.625}article li{margin-bottom:.325em}article li li{margin-top:.325em}.list--bordered{display:flex;flex-wrap:wrap}@media only screen and (min-width: 640px){.list--bordered{flex-wrap:nowrap}}.list--bordered ul{border-left:solid 2px #f29c96;flex-basis:100%;margin:0;padding-left:1em}@media only screen and (min-width: 640px){.list--bordered ul{flex-basis:50%}}.list--bordered ul li{color:#0a5365;font-size:1.25em;padding:.25em 0}.list--bordered ul,.list--bordered li{list-style-type:none}body{color:#565d5e;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif}article{color:#06282d;word-wrap:break-word}article p{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.125em;line-height:1.625;margin-bottom:1em}article blockquote p{font-size:1.4em}.paragraph--small{font-size:1em}.paragraph--loud{font-size:1.25em}.paragraph--louder{font-size:1.563em}.paragraph--loud--responsive{font-size:1.25em}@media only screen and (min-width: 860px){.paragraph--loud--responsive{font-size:1.563em}}.button--arrow{background-color:transparent;border:solid 2px #0a5365;border-radius:0;color:#0a5365;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #0a5365;border-radius:0;color:#0a5365;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow:hover,.button--arrow:focus{background-color:#0f7993;border-color:#0f7993;color:#fff}@media only screen and (min-width: 640px){.button--arrow{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow::after{background-color:#0a5365;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow:hover::after,.button--arrow:focus::after{background-color:#0f7993;color:#fff}.button--arrow--magenta{background-color:transparent;border:solid 2px #9e023b;border-radius:0;color:#9e023b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #9e023b;border-radius:0;color:#9e023b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--magenta:hover,.button--arrow--magenta:focus{background-color:#d0034e;border-color:#d0034e;color:#fff}@media only screen and (min-width: 640px){.button--arrow--magenta{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--magenta::after{background-color:#9e023b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--magenta:hover::after,.button--arrow--magenta:focus::after{background-color:#d0034e;color:#fff}.button--arrow--orange{background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--orange:hover,.button--arrow--orange:focus{background-color:#e6473b;border-color:#e6473b;color:#fff}@media only screen and (min-width: 640px){.button--arrow--orange{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--orange::after{background-color:#d3281b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--orange:hover::after,.button--arrow--orange:focus::after{background-color:#e6473b;color:#fff}.button--arrow--white-teal{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-teal:hover,.button--arrow--white-teal:focus{background-color:#fff;border-color:#fff;color:#0f7993}@media only screen and (min-width: 640px){.button--arrow--white-teal{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-teal::after{background-color:#fff;color:#0a5365;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-teal:hover::after,.button--arrow--white-teal:focus::after{background-color:#fff;color:#0f7993}.button--arrow--white-magenta{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-magenta:hover,.button--arrow--white-magenta:focus{background-color:#fff;border-color:#fff;color:#d0034e}@media only screen and (min-width: 640px){.button--arrow--white-magenta{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-magenta::after{background-color:#fff;color:#9e023b;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-magenta:hover::after,.button--arrow--white-magenta:focus::after{background-color:#fff;color:#d0034e}.button--arrow--white-orange{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-orange:hover,.button--arrow--white-orange:focus{background-color:#fff;border-color:#fff;color:#e6473b}@media only screen and (min-width: 640px){.button--arrow--white-orange{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-orange::after{background-color:#fff;color:#d3281b;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-orange:hover::after,.button--arrow--white-orange:focus::after{background-color:#fff;color:#e6473b}[type="submit"]{background-color:transparent;border:solid 2px #fff8f3;border-radius:0;color:#fff8f3;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:#0a5365;border-color:#0a5365;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;padding:1em 3em;text-transform:none}[type="submit"]:hover,[type="submit"]:focus{background-color:#fff;border-color:#fff;color:#0f7993}[type="submit"]:hover,[type="submit"]:focus{background-color:#0f7993;border-color:#0f7993;color:#fff}.case-study-block h3{transition:all .2s ease-in-out;margin-bottom:0}.case-study-block .case-study-block__image{transition:all .2s ease-in-out;background-position:center;background-repeat:no-repeat;background-size:70%;margin-bottom:.75em}@media only screen and (min-width: 640px){.case-study-block .case-study-block__image{background-size:50%}}@media only screen and (min-width: 860px){.case-study-block .case-study-block__image{background-size:70%}}@media only screen and (min-width: 1120px){.case-study-block .case-study-block__image{background-size:50%}}.case-study-block .case-study-block__image img{transition:all .2s ease-in-out;display:block}.case-study-block .case-study-block__tags p{font-size:1.25em;color:#565d5e;display:inline;text-transform:capitalize}.case-study-block .case-study-block__link:hover h3,.case-study-block .case-study-block__link:focus h3{color:#d3281b}.case-study-block .case-study-block__link:hover .case-study-block__image,.case-study-block .case-study-block__link:focus .case-study-block__image{background-color:#d3281b}.case-study-block .case-study-block__link:hover .case-study-block__image img,.case-study-block .case-study-block__link:focus .case-study-block__image img{opacity:.15}.case-study-block .case-study-block__link:hover .case-study-block__tags p,.case-study-block .case-study-block__link:focus .case-study-block__tags p{color:#06282d}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-angle-double-down:before{content:""}.fa-angle-right:before{content:""}.fa-building-o:before{content:""}.fa-circle:before{content:""}.fa-comment:before{content:""}.fa-comment-o:before{content:""}.fa-drupal:before{content:""}.fa-envelope-o:before{content:""}.fa-file-text:before{content:""}.fa-github:before{content:""}.fa-globe:before{content:""}.fa-linkedin:before{content:""}.fa-long-arrow-right:before{content:""}.fa-phone:before{content:""}.fa-stack-exchange:before{content:""}.fa-tags:before{content:""}.fa-twitter:before{content:""}label{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:bold}[type='color'],[type='date'],[type='datetime'],[type='datetime-local'],[type='email'],[type='month'],[type='number'],[type='password'],[type='search'],[type='tel'],[type='text'],[type='time'],[type='url'],[type='week'],input:not([type]),textarea{border-radius:0;color:#565d5e;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;padding:1.25em .75em}[type='color']:focus,[type='date']:focus,[type='datetime']:focus,[type='datetime-local']:focus,[type='email']:focus,[type='month']:focus,[type='number']:focus,[type='password']:focus,[type='search']:focus,[type='tel']:focus,[type='text']:focus,[type='time']:focus,[type='url']:focus,[type='week']:focus,input:not([type]):focus,textarea:focus{border-color:#b1b1b1;box-shadow:none}.header-navigation{float:none;z-index:9999999}@media only screen and (min-width: 640px){.header-navigation{clear:none;float:right;padding-bottom:0;padding-right:.75em}}.header-navigation__menu{clear:both;display:none;margin:0 auto;overflow:visible;padding:0;-webkit-transform-style:preserve-3d;width:100%;z-index:9999}@media only screen and (min-width: 640px){.header-navigation__menu{display:inline;margin:0;padding:0}}.header-navigation__menu.show{display:block}.header-navigation__mobile-menu-link{color:#06282d;display:block;float:right;font-weight:700;line-height:5.25em;margin:0;padding-right:1em;text-transform:uppercase}@media only screen and (min-width: 640px){.header-navigation__mobile-menu-link{display:none}}.header-navigation__mobile-menu-link:focus,.header-navigation__mobile-menu-link:hover{color:#9e023b}.header-navigation__menu-link{display:block;line-height:2.625em;overflow:hidden;padding-right:.8em;text-align:right;width:100%;z-index:9999}@media only screen and (min-width: 640px){.header-navigation__menu-link{display:inline;line-height:5.25em;margin-right:-5px;padding-right:0;width:auto}.header-navigation__menu-link:last-child{margin-right:0}}.header-navigation__menu-link:last-child:not(.header-navigation__active-nav-item):not(:hover):not(:focus) a{color:#9e023b}.header-navigation__menu-link:last-child a{font-weight:bold}.header-navigation__menu-link a{color:#06282d;display:inline-block;font-weight:400;text-transform:uppercase;transition:background-color ease .2s}.header-navigation__menu-link a:focus,.header-navigation__menu-link a:hover{color:#9e023b}@media only screen and (min-width: 640px){.header-navigation__menu-link a{padding-left:.75em;padding-right:.75em}.header-navigation__menu-link a:focus,.header-navigation__menu-link a:hover{background-color:rgba(158,2,59,0.9);color:#fff}}.header-navigation__active-nav-item{background-color:rgba(158,2,59,0.9)}@media only screen and (min-width: 640px){.header-navigation__active-nav-item{background-color:rgba(255,255,255,0.9);color:#06282d}}.header-navigation__active-nav-item a{color:#fff}@media only screen and (min-width: 640px){.header-navigation__active-nav-item a{background-color:rgba(158,2,59,0.9)}}.icon--job{align-items:center;background-color:#f3f6f7;border-radius:50%;display:flex;height:230px;justify-content:center;margin:2em auto 0;padding:1em;width:230px}.icon--job img{max-width:150px}.icon--service .icon--service__link{padding:0 .25em;width:100%}.icon--service .icon--service__image{transition:all .2s ease-in-out;border-radius:50%;height:4em;margin:0 auto;margin-bottom:.5em;padding:.75em;width:4em}.icon--service .icon--service__image img{transition:all .2s ease-in-out;display:block}.icon--service .icon--service__title{transition:all .2s ease-in-out;font-size:1.1em;max-width:100%;text-align:center}@media only screen and (min-width: 860px){.icon--service .icon--service__title{font-size:1.25em}}.icon--service--bold .icon--service__link:hover .icon--service__image,.icon--service--bold .icon--service__link:focus .icon--service__image{background-color:#d3281b}.icon--service--bold .icon--service__link:hover .icon--service__image img,.icon--service--bold .icon--service__link:focus .icon--service__image img{filter:brightness(0) invert(1)}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active){.icon--service--bold .icon--service__link:hover .icon--service__image,.icon--service--bold .icon--service__link:focus .icon--service__image{background:transparent}.icon--service--bold .icon--service__link:hover .icon--service__image img,.icon--service--bold .icon--service__link:focus .icon--service__image img{-moz-transform:scale(1.3);-webkit-transform:scale(1.3);transform:scale(1.3)}}.icon--service--bold .icon--service__link:hover .icon--service__title,.icon--service--bold .icon--service__link:focus .icon--service__title{color:#d3281b}.icon--service--subtle .icon--service__link{transition:all .2s ease-in-out;border-bottom:solid 3px transparent}.icon--service--subtle .icon--service__link:hover,.icon--service--subtle .icon--service__link:focus{border-color:#d3281b}.icon--service--subtle .icon--service__image{margin-bottom:0}.icon--service--subtle .icon--service__title{font-size:1em}.region--hero--company{background:url("/assets/img/bg/blue-bg-glow.jpg") #06282d center center no-repeat;background-size:cover;display:flex;justify-content:flex-start;margin:0;position:relative;width:100%}@media only screen and (min-width: 640px){.region--hero--company{height:calc(90vh - 84px);min-height:660px}}.region--hero--company.region--full-width{margin:0}.region--hero--company .region--hero--company__wrapper{display:block;left:0;margin:auto;padding:0;right:0;width:100%}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper{bottom:0;padding:0 1em;position:absolute}}@media only screen and (min-width: 1440px){.region--hero--company .region--hero--company__wrapper{padding:0}}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width{align-items:center;display:flex;flex-direction:column;padding:2em}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width h1,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a{color:#fff8f3}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width h1{font-family:"Roboto Slab",Verdana,sans-serif;text-align:center;text-shadow:#06282d 2px 2px 2px}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a::after{transition:all .2s ease-in-out}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:hover::after,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:focus::after,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:active::after{color:#d3281b}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col{align-items:center;display:flex}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text,.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{display:block;position:relative;width:100%}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text,.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{flex-basis:50%;height:50vh;min-height:440px}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text{background:#06282d;color:#fff8f3;display:flex;flex-direction:column;justify-content:center;padding:2em 1.5em}@media only screen and (min-width: 1120px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text{padding:2em 3em}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text h2{color:#fff8f3;font-size:1.25em}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text h2{font-size:1.75em}}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text p{font-size:1.25em}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{background:url("/assets/img/bg/company-hero.jpg") #06282d 10% center no-repeat;background-size:cover}.home__cover{align-items:center;background:url("/assets/img/bg/home-cover.jpg") #fff 50% center no-repeat;background-size:cover;display:flex;flex-direction:column;height:auto;justify-content:flex-start;position:relative;text-align:center;width:100%}@media only screen and (min-width: 640px){.home__cover{height:80vh;min-height:580px}}@media only screen and (min-width: 860px){.home__cover{height:75vh}}@media only screen and (min-width: 1120px){.home__cover{height:100vh;min-height:600px}}.home__cover .home__cover__heading,.home__cover .home__cover__cta{display:flex;flex-basis:100%;justify-content:center;margin:0 auto;max-width:100%;position:relative}.home__cover .home__cover__heading{clear:both;color:#06282d;display:block;font-size:1.5em;font-weight:400;margin-top:100px;max-width:400px;padding:1em 1em 3em;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__heading{font-size:3em;max-width:780px;padding:1em}}@media only screen and (min-width: 1120px){.home__cover .home__cover__heading{font-size:4em}}@media only screen and (min-width: 1440px){.home__cover .home__cover__heading{font-size:4.75em;max-width:800px}}.home__cover .home__cover__heading span{font-size:1.3em}.home__cover .home__cover__cta{margin-top:2em;padding-bottom:3em}@media only screen and (min-width: 640px){.home__cover .home__cover__cta{bottom:24%;left:0;margin-top:4em;position:absolute;text-align:center;width:100%}}.home__cover .home__cover__cta a{background-color:rgba(255,248,243,0.2);font-size:1em}@media only screen and (min-width: 640px){.home__cover .home__cover__cta a{font-size:1.25em}}.home__cover .home__cover__cta a:hover,.home__cover .home__cover__cta a:focus,.home__cover .home__cover__cta a:active{background-color:#0f7993}.home__cover .home__cover__content{display:block;margin-top:3em;position:relative;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__content{bottom:0;display:flex;height:20%;justify-content:flex-start;left:0;margin-top:0;position:absolute}}.home__cover .home__cover__content h2,.home__cover .home__cover__content h3{color:#fff8f3;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:normal;margin:0;padding:0}.home__cover .home__cover__content .home__cover__content__col-left,.home__cover .home__cover__content .home__cover__content__col-right{background-color:rgba(6,40,45,0.8);bottom:0;padding:0;text-align:center}.home__cover .home__cover__content .home__cover__content__col-left{background-color:#9e023b;background-image:url("assets/img/hp-arrow.svg");background-position:right center;background-repeat:no-repeat;background-size:cover;display:block;position:relative;width:100%;z-index:2}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left{background-color:rgba(6,40,45,0.8);display:flex;flex-basis:40%;justify-content:flex-end}}.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text{display:block;padding:.5em 1em;position:relative}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text{align-items:center;display:flex;max-width:446px;padding:0 4em 0 1em;position:relative;z-index:1}}.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:.85em;text-align:center}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:1em;max-width:240px}}@media only screen and (min-width: 1120px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:1.25em}}.home__cover .home__cover__content .home__cover__content__col-right{display:block;position:relative;width:100%;z-index:1}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right{display:flex;flex-basis:60%;justify-content:flex-start}}.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text{display:block;padding:.5em 1em;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text{align-items:center;display:flex;justify-content:flex-start;max-width:890px;padding:0 2em}}.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1em;font-weight:300;text-align:center;text-transform:uppercase}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1.5em;text-align:left;text-transform:none}}@media only screen and (min-width: 1120px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1.75em}}.region--hero--careers{background-color:#06282d;background-image:url("/assets/img/bg/careers-hero.jpg");background-position:center center;background-size:cover;height:60vh;margin:0}@media only screen and (min-width: 860px){.region--hero--careers{height:70vh}}.region--hero--careers.position{background-image:url("/assets/img/bg/careers-hero-mktn-dir.jpg");height:30vh}.region--hero--mission-values{background-color:#06282d;background-image:url("/assets/img/bg/mission-values-hero.jpg");background-position:center center;background-size:cover;margin:0}.region--hero--mission-values .region--hero__text{color:#fff8f3}.region--hero--mission-values .region--hero__text h1{color:#fff8f3;text-shadow:#06282d 2px 2px 2px}@media only screen and (min-width: 640px){.region--hero--mission-values .region--hero__text p{font-size:1.25em}}.region--hero--open-source{background-color:#fff;background-image:url("/assets/img/bg/os-bg.png");background-repeat:repeat-x;background-size:contain}.region--hero--open-source .region--hero__wrapper{padding:2em 1em}@media only screen and (min-width: 640px){.region--hero--open-source .region--hero__wrapper{padding:0}}.region--hero--open-source .region--hero__image img{max-width:90%}.region--hero--open-source .region--hero__text h1{color:#d3281b;font-size:2.074em;margin-bottom:0}@media only screen and (min-width: 860px){.region--hero--open-source .region--hero__text h1{font-size:2.441em}}.region--hero--open-source .region--hero__badges{align-items:flex-end}.region--hero--open-source .region--hero__badges img{height:auto;margin-bottom:2em;max-width:80%;width:140px}.region--hero--three-col.region--hero--open-source .region--hero__image{flex-basis:70%;order:2}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__image{flex-basis:40%}}.region--hero--three-col.region--hero--open-source .region--hero__text{order:1;width:100%}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__text{flex-basis:40%;order:2}}@media only screen and (min-width: 1120px){.region--hero--three-col.region--hero--open-source .region--hero__text{padding-left:2em}}.region--hero--three-col.region--hero--open-source .region--hero__badges{display:flex;flex-basis:30%;flex-direction:column;justify-content:center;order:3}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__badges{display:flex;flex-basis:20%;order:3}}@media only screen and (min-width: 1120px){.region--hero--three-col.region--hero--open-source .region--hero__badges{flex-basis:20%}}.region--hero--results{background-color:#06282d;color:#fff8f3}.region--hero--results .region--hero__text h1{color:#fff8f3}.region--hero--results .region--hero__image{background-image:url("/assets/img/bg/results-hero.jpg")}.region--hero--services{background-color:#9e023b;margin:0}.region--hero--services .region--hero__text{color:#fff8f3;display:flex;flex-direction:column;justify-content:center}.region--hero--services .region--hero__text h1{color:#fff8f3}.region--hero--services .region--hero__text a,.region--hero--services .region--hero__text a:hover,.region--hero--services .region--hero__text a:focus{color:#fff8f3 !important}@media only screen and (min-width: 640px){.region--hero--services .region--hero__text p{font-size:1.25em}}.region--hero--services .region--hero__image{background-image:url("/assets/img/bg/services-hero.jpg");background-position:10% center}.region--hero--services .region--hero__image.durham{background-image:url("/assets/img/bg/durham-deck.jpg")}.region--hero{margin:0 0 2em}.region--hero .region--hero__wrapper{display:flex;flex-wrap:wrap;justify-content:flex-start;width:100%}@media only screen and (min-width: 640px){.region--hero .region--hero__wrapper{flex-wrap:nowrap}}.region--hero h1{width:100%}@media only screen and (min-width: 640px){.region--hero--half-height .region--hero__wrapper{min-height:calc(50vh - 84px)}}.region--hero--full-width .region--hero__text{align-content:center;display:flex;flex-basis:100%;flex-direction:column;flex-grow:0;flex-shrink:0;justify-content:flex-end;margin:0 auto;max-width:600px;min-height:200px;padding:3em 2em;text-align:center}.region--hero--half-width .region--hero__text,.region--hero--half-width .region--hero__image{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text,.region--hero--half-width .region--hero__image{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}}.region--hero--half-width .region--hero__text{color:#fff8f3;padding:3em 1em}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text{order:1;padding:4em 2em 4em 1em}}.region--hero--half-width .region--hero__text h1{font-size:1.25em}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text h1{font-size:1.953em}}.region--hero--half-width .region--hero__image{background-color:#06282d;background-position:center center;background-repeat:no-repeat;background-size:cover;order:1}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__image{order:2}}.region--hero--two-thirds-width .region--hero__wrapper{flex-wrap:wrap}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__wrapper{flex-wrap:nowrap}}.region--hero--two-thirds-width .region--hero__text,.region--hero--two-thirds-width .region--hero__image{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text,.region--hero--two-thirds-width .region--hero__image{display:flex;flex-direction:column;justify-content:center}}.region--hero--two-thirds-width .region--hero__text{margin:3em 0}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text{flex-basis:35%;padding:4em 0}}.region--hero--two-thirds-width .region--hero__text h1{padding:0 20px}.region--hero--two-thirds-width .region--hero__text p,.region--hero--two-thirds-width .region--hero__text a{padding:0 2em 0 20px}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text p{font-size:1.25em}}.region--hero--two-thirds-width .region--hero__text a{font-size:1em}.region--hero--two-thirds-width .region--hero__text a:hover,.region--hero--two-thirds-width .region--hero__text a:focus,.region--hero--two-thirds-width .region--hero__text aactive{color:#d3281b}.region--hero--two-thirds-width .region--hero__image{background-color:#06282d;background-position:center center;background-repeat:no-repeat;background-size:cover}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__image{flex-basis:65%}}.region--hero--three-col .region--hero__wrapper{flex-wrap:wrap;justify-content:space-around}@media only screen and (min-width: 860px){.region--hero--three-col .region--hero__wrapper{flex-wrap:nowrap}}.region--hero--three-col .region--hero__col{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 640px){.region--hero--three-col .region--hero__col{display:flex;flex-basis:33.33%;flex-direction:column;justify-content:center;padding:1em}}.key-value-list__item{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 640px){.key-value-list__item{flex-wrap:nowrap}}.key-value-list__item:first-child{padding-top:0}.key-value-list__item>div{width:100%}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__key{padding:3em 3em 3em 1em;width:35%}}.key-value-list__item .key-value-list__item__key h3::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__key h3{position:relative;text-align:right}.key-value-list__item .key-value-list__item__key h3::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}}.key-value-list__item .key-value-list__item__value{padding-bottom:2em}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__value{border-left:solid 1px #d3281b;padding:3em 1em 3em 3em;width:65%}}.savas-logo{display:block;height:5.25em;padding:1.5em 0}.savas-logo--main{display:block;height:2.25em;margin:1.5em 0;padding:0;width:5.125em}.table--minimal,article table{border-collapse:separate;border-spacing:0;width:100%}.table--minimal th,article table th{text-align:left}.table--minimal td,article table td{line-height:1.5}.table--minimal thead th,article table thead th{background-color:#fff;border-bottom:0;padding:0.75em 1em}.table--minimal tbody,article table tbody{background-color:#fff}.table--minimal tbody td,article table tbody td{border-bottom:0;border-top:1px solid #ddd;padding:0.75em 1em}.table--minimal tbody td button,article table tbody td button{display:inline-block;font-size:.7em;line-height:1.5;margin-bottom:.3em;margin-right:.5em;outline:none;padding:.3em 1em;width:100%}@media only screen and (min-width: 640px){.table--minimal tbody td button,article table tbody td button{margin-bottom:0;width:auto}}.table--minimal tbody tr:hover>td,.table--minimal tbody tr:hover>th,article table tbody tr:hover>td,article table tbody tr:hover>th{background-color:#fafafa}.table--minimal tbody tr:first-child td,article table tbody tr:first-child td{border-top:2px solid #ddd}.table--minimal tbody tr:first-child td,.table--minimal tbody tr td,article table tbody tr:first-child td,article table tbody tr td{border-color:#565d5e}.table--minimal tbody tr:hover>td,.table--minimal tbody tr:hover>th,.table--minimal tbody tr:focus>td,.table--minimal tbody tr:focus>th,article table tbody tr:hover>td,article table tbody tr:hover>th,article table tbody tr:focus>td,article table tbody tr:focus>th{transition:all .2s ease-in-out;background-color:#f3f6f7;color:#06282d}.table--minimal tbody ul,article table tbody ul{margin:0}.table--minimal tbody ul,.table--minimal tbody li,article table tbody ul,article table tbody li{list-style-type:none}article table{margin-bottom:3em;margin-top:3em}.tile{position:relative}.tile .tile__hover{align-items:center;color:#fff8f3;display:flex;flex-direction:column;justify-content:center;left:0;opacity:0;padding:1em;position:absolute;text-align:center;top:0;transition:all .3s ease;width:100%;z-index:1}.tile .tile__hover p:first-child{margin-bottom:1.5em;max-width:15em}.tile .tile__hover .link--cta{margin-bottom:0;transition:all .2s ease-in-out}.tile:hover .tile__hover,.tile:focus .tile__hover{opacity:1}.tile:hover .tile--blog--detailed__primary-tag,.tile:focus .tile--blog--detailed__primary-tag{margin-left:1em}.tile:hover .tile--blog__post-title .tile--blog--detailed__author-bg,.tile:focus .tile--blog__post-title .tile--blog--detailed__author-bg{bottom:0;right:0}@media only screen and (min-width: 1120px){.tile p{font-size:1.1em}}.tile--title--blog{padding:2em}.tile--blog .tile--blog__content{align-items:center;display:flex;flex-direction:column;justify-content:center;position:relative;z-index:0}.tile--blog .tile--blog__content>div{height:150px}@media only screen and (min-width: 450px){.tile--blog .tile--blog__content>div{height:200px}}@media only screen and (min-width: 640px){.tile--blog .tile--blog__content>div{height:150px}}@media only screen and (min-width: 1120px){.tile--blog .tile--blog__content>div{height:175px}}@media only screen and (min-width: 1440px){.tile--blog .tile--blog__content>div{height:200px}}.tile--blog .tile--blog__content .tile--blog__image{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%}.tile--blog .tile--blog__content .tile--blog__post-title{align-items:center;color:#06282d;display:flex;padding:1em;width:100%}.tile--blog .tile--blog__content .tile--blog__post-title p::before{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.tile--blog .tile--blog__hover{height:300px}@media only screen and (min-width: 450px){.tile--blog .tile--blog__hover{height:400px}}@media only screen and (min-width: 640px){.tile--blog .tile--blog__hover{height:300px}}@media only screen and (min-width: 1120px){.tile--blog .tile--blog__hover{height:350px}}@media only screen and (min-width: 1440px){.tile--blog .tile--blog__hover{height:400px}}.tile--blog--detailed{flex-basis:auto;flex-grow:0}.tile--blog--detailed .tile--blog__image{position:relative}.tile--blog--detailed .tile--blog__image .tile--blog--detailed__primary-tag{background-color:#0a5365;bottom:1em;color:#fff8f3;font-size:.9em;font-style:italic;left:-1em;margin-bottom:0;padding:.25em 1em;position:absolute;text-transform:uppercase;transition:all .3s ease-in-out}.tile--blog--detailed .tile--blog__post-title{position:relative;z-index:99}.tile--blog--detailed .tile--blog__post-title p{padding-right:44px}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author{bottom:0;position:absolute;right:0;z-index:999}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author img{display:block;filter:grayscale(100%);height:60px;width:60px}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author-bg{background-color:rgba(10,83,101,0.2);bottom:-8px;height:60px;position:absolute;right:-8px;transition:all .3s ease-in-out;width:60px}.tile--blog--detailed.tile--blog .tile--blog__hover{margin:1em;width:calc(100% - 2em)}.tile--blog--latest{background-position:center center;background-repeat:no-repeat;background-size:cover}.tile--blog--latest .tile--blog--latest__link{position:relative;display:flex;flex-direction:column;justify-content:flex-end}.tile--blog--latest .tile--blog--latest__link::after{background-color:transparent;bottom:0;content:'';height:5px;left:0;position:absolute;transition:all .5s ease;width:0;z-index:1}.tile--blog--latest .tile--blog--latest__link:hover::after,.tile--blog--latest .tile--blog--latest__link:focus::after{background-color:#d3281b;width:100%}.tile--blog--latest .tile--blog--latest__link:hover .tile--blog--latest__text,.tile--blog--latest .tile--blog--latest__link:focus .tile--blog--latest__text{background-color:rgba(255,248,243,0.9);color:#06282d}.tile--blog--latest .tile--blog--latest__link:hover .tile--blog--latest__text h2,.tile--blog--latest .tile--blog--latest__link:focus .tile--blog--latest__text h2{color:#06282d}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text{transition:all .2s ease-in-out;background-color:rgba(6,40,45,0.9);color:#fff8f3;padding:1em}@media only screen and (min-width: 860px){.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text{padding:1em 2em}}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text h2{transition:all .2s ease-in-out;color:#fff8f3}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__author,.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__date{display:inline;font-style:italic;margin-bottom:0}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__date{float:right}.tile--service .tile--service__link{position:relative;background-color:#f3f6f7;display:block}.tile--service .tile--service__link::after{background-color:transparent;bottom:0;content:'';height:5px;left:0;position:absolute;transition:all .5s ease;width:0;z-index:1}.tile--service .tile--service__link:hover,.tile--service .tile--service__link:focus{background-color:#0a5365;color:#fff8f3}.tile--service .tile--service__link:hover::after,.tile--service .tile--service__link:focus::after{background-color:#d3281b;width:100%}.tile--service .tile--service__link:hover .tile--service__image,.tile--service .tile--service__link:focus .tile--service__image{filter:brightness(0) invert(1)}.tile--service .tile--service__link:hover h2,.tile--service .tile--service__link:focus h2{color:#fff8f3}.tile--service .tile--service__content{max-width:668px;padding:1em}@media only screen and (min-width: 450px){.tile--service .tile--service__content{align-items:flex-start;display:flex}}@media only screen and (min-width: 640px){.tile--service .tile--service__content{display:block;padding:2em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content{display:flex;justify-content:flex-start;padding:3em 2em}}.tile--service .tile--service__content h2,.tile--service .tile--service__content p{transition:all .2s ease-in-out}.tile--service .tile--service__content .tile--service__image{transition:all .2s ease-in-out;display:block;float:left;height:60px;margin-right:1em;min-height:60px;min-width:60px;width:60px}@media only screen and (min-width: 450px){.tile--service .tile--service__content .tile--service__image{float:none;margin-right:2em}}@media only screen and (min-width: 640px){.tile--service .tile--service__content .tile--service__image{float:left;margin-right:1em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content .tile--service__image{float:none;margin-right:2em}}.tile--service .tile--service__content .tile--service__title{font-weight:normal;margin-bottom:1em;margin-top:.5em}@media only screen and (min-width: 640px){.tile--service .tile--service__content .tile--service__title{font-size:1.44em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content .tile--service__title{font-size:1.953em}}@media only screen and (min-width: 1120px){.tile--service .tile--service__content .tile--service__summary{font-size:1.25em}}.tile--service .tile--service__content .tile--service__cta{margin-bottom:0}.region--banner--heading{background:url("/assets/img/bg/diamond-texture.svg") #0a5365 repeat;margin:0 0 .75em}.region--banner--heading .region--banner--heading__text{padding:1em}@media only screen and (min-width: 640px){.region--banner--heading .region--banner--heading__text{align-items:center;display:flex;justify-content:space-between;padding:2em 1em}}@media only screen and (min-width: 1440px){.region--banner--heading .region--banner--heading__text{padding:2em 3em 2em 0}}.region--banner--heading .region--banner--heading__text h1,.region--banner--heading .region--banner--heading__text h1::after{margin-bottom:0}.region--banner--heading .region--banner--heading__text p{font-style:italic;margin-bottom:0;margin-top:1em;text-transform:uppercase}@media only screen and (min-width: 640px){.region--banner--heading .region--banner--heading__text p{margin-top:0}}.region--blog-tiles__wrapper{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 860px){.region--blog-tiles__wrapper{flex-wrap:nowrap}}.region--blog-tiles__wrapper>div{border-bottom:6px solid #fff;display:flex;flex-basis:100%}@media only screen and (min-width: 640px){.region--blog-tiles__wrapper>div{flex-basis:50%}.region--blog-tiles__wrapper>div:not(:nth-child(even)){border-right:6px solid #fff}}@media only screen and (min-width: 860px){.region--blog-tiles__wrapper>div{flex-basis:25%}.region--blog-tiles__wrapper>div:not(:last-child){border-right:6px solid #fff}}.region--blog-tiles__wrapper>div a{display:block;width:100%}.region--blog-tiles__view-all-link{padding:1em;text-align:center}.region--blog-tiles--all .region--blog-tiles--all__tiles{display:flex;flex-wrap:wrap;justify-content:flex-start}.region--blog-tiles--all .region--blog-tiles--all__tiles>div{padding:1em;width:100%}@media only screen and (min-width: 640px){.region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:50%}}@media only screen and (min-width: 860px){.region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:33.333%}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper{display:flex;flex-wrap:wrap;justify-content:space-between}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper{flex-direction:column;height:700px}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest{margin-bottom:.5em;width:100%}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest{align-self:flex-end;margin:0;width:50%}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child{align-self:flex-start}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{height:300px}@media only screen and (min-width: 640px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{border:0;height:450px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{height:350px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child a{height:700px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child a{border-right:6px solid #fff}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:nth-child(2) a{border-bottom:6px solid #fff}}.region--case-study-blocks .region--case-study-blocks__title{color:#06282d;margin-bottom:1.5em}.region--case-study-blocks .region--case-study-blocks__case-studies{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies{justify-content:space-between}}.region--case-study-blocks .region--case-study-blocks__case-studies>div{width:100%}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies>div{width:49%}}.region--case-study-blocks .region--case-study-blocks__case-studies .case-study-block{margin-bottom:3em}.region--case-study-blocks .region--case-study-blocks__case-studies .case-study-block__title{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700;margin-bottom:0}.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta{margin-top:0}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta{margin-top:0}}.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{font-size:1em}@media only screen and (min-width: 450px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{font-size:1.25em}}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{margin-bottom:134px}}@media only screen and (min-width: 640px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies{justify-content:flex-start}}.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{padding:1em}@media only screen and (min-width: 640px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{width:50%}}@media only screen and (min-width: 860px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{width:33.333%}}.region--centered-paragraph .region--centered-paragraph__text{color:#06282d;margin:0 auto;max-width:500px;padding:2em;text-align:center}.region--centered-paragraph--white{background-color:#fff}.region--header{background-color:rgba(255,255,255,0.9);min-height:5.25em;width:100%;z-index:999}.region--header a{text-decoration:none}.region--header .region--header__wrapper{max-width:1440px;margin-left:auto;margin-right:auto;position:relative;z-index:9999}.region--header .region--header__wrapper::after{clear:both;content:"";display:block}.region--header .region--header__logo{display:inline-block;float:left;height:5.25em;margin:0;padding-left:1em}@media only screen and (min-width: 640px){.region--header .region--header__logo{padding-left:1.5em;padding-right:1em}}.region--post-aside{margin-top:3em}@media only screen and (min-width: 860px){.region--post-aside{float:left;margin-top:0;width:33.333%}}.region--post-aside .region--post-aside__section{padding:3em 1em}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section{padding:3em 1.5em}}@media only screen and (min-width: 1120px){.region--post-aside .region--post-aside__section{padding:3em 2em}}.region--post-aside .region--post-aside__section__wrapper--posts{border-bottom:solid 1px #bdc2c3}.region--post-aside .region--post-aside__section__wrapper--posts .tile--blog__hover{margin:0;width:100%}@media only screen and (min-width: 640px){.region--post-aside .region--post-aside__section__items{display:flex;justify-content:space-between}}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section__items{display:block}}.region--post-aside .region--post-aside__section__items>div{margin-bottom:1em}@media only screen and (min-width: 640px){.region--post-aside .region--post-aside__section__items>div{flex-grow:0;margin-bottom:0;width:48.5%}}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section__items>div{margin-bottom:1em;width:100%}}.region--post-aside h2{font-weight:400}.region--post-aside .region--post-aside__section--case-studies .case-study-block__title{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:400}.region--post-aside .region--post-aside__section--case-studies__cta{margin-top:3em}.region.region--service-icons{align-content:flex-start;display:flex;flex-wrap:wrap;justify-content:space-between;padding-bottom:1.5em;padding-top:1.5em;width:100%}.region.region--service-icons>div{align-content:center;display:flex;flex:1;flex-basis:50%;justify-content:flex-start;margin:.5em 0;width:50%}@media only screen and (min-width: 640px){.region.region--service-icons>div{flex-basis:25%;margin:0;width:25%}}.region--service-tiles{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:.25em}.region--service-tiles>div{border-bottom:6px solid #fff;display:flex;flex-basis:100%;width:100%}@media only screen and (min-width: 640px){.region--service-tiles>div{flex-basis:50%;width:50%}.region--service-tiles>div:first-child .tile--service__link,.region--service-tiles>div:nth-child(3) .tile--service__link{border-right:6px solid #fff}}.region--service-tiles>div .tile--service__link{width:100%}@media only screen and (min-width: 1440px){.region--service-tiles>div:first-child .tile--service__link,.region--service-tiles>div:nth-child(3) .tile--service__link{display:flex;justify-content:flex-end}}.page--blog .region--banner--heading{margin-bottom:6px}.page--blog .region--banner--heading h1::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper{display:flex}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-tiles--all{flex-basis:75%}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:50%}}@media only screen and (min-width: 1120px){.page--blog .page--blog__wrapper .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:33.333%}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-topics{flex-basis:25%}}.page--blog .region--blog-tiles--latest,.page--blog .region--footer{margin-top:0}.page--blog .pagination{margin-top:3em}.page--blog .region--banner--open-source{margin-bottom:0}.page--case-study{color:#06282d}.page--case-study header{position:absolute}.page--case-study .case-study__header{background-color:#fff;background-position:right bottom;background-repeat:no-repeat;background-size:160%;display:flex;flex-direction:column;justify-content:center;padding-bottom:60%;padding-top:84px}@media only screen and (min-width: 640px){.page--case-study .case-study__header{background-position:65% center;background-size:cover;min-height:calc(50vh - 84px);padding-bottom:0}}@media only screen and (min-width: 1120px){.page--case-study .case-study__header{background-position:right center}}.page--case-study .case-study__header .case-study__header__wrapper{display:flex;justify-content:flex-start;max-width:1440px;padding:2em 1em}.page--case-study .case-study__header .case-study__header__text{color:#06282d;flex-basis:100%}@media only screen and (min-width: 640px){.page--case-study .case-study__header .case-study__header__text{flex-basis:44%}}.page--case-study .case-study__header .case-study__header__text h1{color:#06282d;font-size:1.75em}@media only screen and (min-width: 640px){.page--case-study .case-study__header .case-study__header__text h1{font-size:2.074em}}@media only screen and (min-width: 860px){.page--case-study .case-study__header .case-study__header__text p{font-size:1.25em}}.page--case-study .case-study__client-highlights,.page--case-study .case-study__objective-approach,.page--case-study .case-study__results{display:flex;margin:3em auto;max-width:1440px}.page--case-study .case-study__client-highlights>div,.page--case-study .case-study__objective-approach>div,.page--case-study .case-study__results>div{padding:1em}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights div:first-child,.page--case-study .case-study__objective-approach div:first-child,.page--case-study .case-study__results div:first-child{padding-right:3em}}.page--case-study .case-study__client-highlights h2,.page--case-study .case-study__objective-approach h2,.page--case-study .case-study__results h2{color:#06282d;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700}.page--case-study .case-study__client-highlights{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights{flex-wrap:nowrap}}.page--case-study .case-study__client-highlights .case-study__client-highlights__client{color:#565d5e;flex-basis:100%}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client{flex-basis:50%;flex-wrap:nowrap;padding-right:6em}}@media only screen and (min-width: 1120px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client{flex-basis:66.66%}}.page--case-study .case-study__client-highlights .case-study__client-highlights__client img{display:block;height:auto;margin:0 1em 1em 0;max-width:200px}@media only screen and (min-width: 860px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client img{display:inline-block;float:left;margin:0 2em 1em 0}}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{flex-basis:50%;flex-wrap:nowrap}}@media only screen and (min-width: 1120px){.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{flex-basis:33.33%}}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights h2{border-bottom:solid 1px #06282d}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights ul{margin:0}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights ul li{color:#06282d;list-style:none}.page--case-study .case-study__objective-approach{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__objective-approach{flex-wrap:nowrap}}.page--case-study .case-study__objective-approach .case-study__objective-approach__objective,.page--case-study .case-study__objective-approach .case-study__objective-approach__approach{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__objective-approach .case-study__objective-approach__objective,.page--case-study .case-study__objective-approach .case-study__objective-approach__approach{flex-basis:50%;flex-wrap:nowrap}}.page--case-study .case-study__results{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__results{flex-wrap:nowrap}}.page--case-study .case-study__results .case-study__results__results,.page--case-study .case-study__results .case-study__results__details{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__results .case-study__results__results,.page--case-study .case-study__results .case-study__results__details{flex-basis:50%;flex-wrap:nowrap}}.page--case-study .region--client-quote--last{margin-bottom:0}.page--case-study .pagination{margin-bottom:3em;margin-top:0}@media only screen and (min-width: 640px){.page--contact__content{max-width:80%}}@media only screen and (min-width: 860px){.page--contact__content{max-width:1400px}}@media only screen and (min-width: 860px){.page--contact__content .page--contact__content-wrapper{display:flex;justify-content:space-between}}@media only screen and (min-width: 860px){.page--contact__copy{margin-right:1.5em;max-width:350px}}.page--contact__copy .table--minimal--contact{margin-top:1.5em}.page--contact__copy .table--minimal__first-column{width:33.333%}.page--contact__copy .table--minimal--contact__label{font-weight:bold}.page--contact__image{text-align:center}@media only screen and (min-width: 860px){.page--contact__image{flex-basis:50%;text-align:right}}.page--contact__image img{display:block;margin-bottom:3em}.page--contact__image h2{font-weight:400;margin-bottom:0}.page--contact__image a{color:#d3281b}.page--contact__image a:hover,.page--contact__image a:focus{color:#9e023b}.page--home header{position:absolute;top:0}.page--home .region--case-study-tiles{margin-top:0}.page--home .tile--title--blog,.page--home .tile--blog{flex-basis:300px;flex-grow:1}@media only screen and (min-width: 860px){.page--home .tile--title--blog,.page--home .tile--blog{width:25%}}.page--basic .page--basic__content{padding:1.5em 1em 3em}@media only screen and (min-width: 860px){.page--basic .page--basic__content{width:calc(66.6666666667% - 33.3333333333px);float:left;margin-left:20px;left:calc(16.6666666667% - 23.3333333333px + 20px);position:relative}}.page--basic .page--basic__title{margin:1.25em 0 .25em;text-align:center}.page--basic .region--banner--heading__text h1{margin:0 auto}.page--basic .region--cta{border-top:solid 1px #bdc2c3}@media only screen and (min-width: 860px){.page--basic .region--cta{width:calc(66.6666666667% - 33.3333333333px);float:left;margin-left:20px;left:calc(16.6666666667% - 23.3333333333px + 20px);position:relative}}.region--footer{clear:both}.page--post .region--header{border-bottom:solid 1px #bdc2c3}@media only screen and (min-width: 860px){.page--post .page--post__main{border-right:solid 1px #bdc2c3;float:left;padding-bottom:3em;width:66.666%}}.page--post .page--post__main .region--post-header,.page--post .page--post__main .region--post-content{padding:0 1em}@media only screen and (min-width: 640px){.page--post .page--post__main .region--post-header,.page--post .page--post__main .region--post-content{padding:0 1.5em}}.page--post .page--post__main .region--post-header{margin:3em 0}@media only screen and (min-width: 1120px){.page--post .page--post__main .region--post-header{padding-right:2em}}.page--post .page--post__main .region--post-header .region--post-header__title{font-weight:400;margin-bottom:1.5em}@media only screen and (min-width: 1120px){.page--post .page--post__main .region--post-content{padding:0 4em}}@media only screen and (min-width: 1280px){.page--post .page--post__main .region--post-content{padding:0 5em}}@media only screen and (min-width: 1360px){.page--post .page--post__main .region--post-content{padding:0 7em}}@media only screen and (min-width: 1440px){.page--post .page--post__main .region--post-content{padding:0 8em}}.page--post .page--post__aside{border-bottom:solid 1px #bdc2c3;margin-top:0}@media only screen and (min-width: 860px){.page--post .page--post__aside{border-bottom:0;border-top:0}}.page--post .region--prev-next-links--post{clear:both;display:none}@media only screen and (min-width: 860px){.page--post .region--prev-next-links--post{display:flex}}.page--post .region--prev-next-links--mobile{display:flex;margin-top:3em}@media only screen and (min-width: 860px){.page--post .region--prev-next-links--mobile{display:none}}.page--post .region--footer{margin-top:0}@media only screen and (min-width: 640px){.region--post-header__post-info{display:flex}.region--post-header__post-info>div{width:50%}}.region--post-header__post-info p{font-style:italic;margin-bottom:.25em}.region--post-header__post-info i{margin-right:.5em}.region--post-header__post-info .post-author:not(:first-child){clear:left;margin-top:1em}.region--post-header__post-info .post-author picture{float:left;margin-right:1em}.region--post-header__post-info .post-author picture img{display:block;height:60px;width:60px}.region--post-header__post-info .region--post-header__post-info__stats{clear:both;margin-top:1.5em}@media only screen and (min-width: 640px){.region--post-header__post-info .region--post-header__post-info__stats{clear:none;margin-top:0}}.region--post-header__post-info .region--post-header__post-info__stats p{display:inline-block;margin-right:1em}@media only screen and (min-width: 640px){.region--post-header__post-info .region--post-header__post-info__stats p{display:block;margin-right:0}}.page--service .region--header{border-bottom:solid 1px #0f7993}.page--service .region.region--service-icons{border-bottom:solid 1px #0f7993;padding:.25em 0 0}.page--service .page--service__content{background-position:calc(100% + 80px) center;background-repeat:no-repeat;background-size:contain;margin:0 auto;max-width:1400px}@media only screen and (min-width: 860px){.page--service .page--service__content{background-position:right center}}.page--service .page--service__content .page--service__content__main{background-color:#fff;width:100%}@media only screen and (min-width: 640px){.page--service .page--service__content .page--service__content__main{padding-bottom:3em;width:66.666%}}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main{width:66.666%}}.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:3em 1em}@media only screen and (min-width: 860px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:1.5em 1em 1em}}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:3em}}@media only screen and (min-width: 1440px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:4.5em 3em 1.5em}}@media only screen and (min-width: 860px){.page--service .page--service__content .page--service__content__main .page--service__content__text h1{margin:.67em 0}}.page--service .page--service__content .page--service__content__main .page--service__content__text .page--service__content__services{padding:1.5em 0 3em}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main .page--service__content__text .page--service__content__services{padding:3em 0}}.page--service .region--client-quote{margin-top:0}.page--service .region--blog-tiles{margin:0}.page--service .case-study-block__title{font-size:1.44em}@media only screen and (min-width: 640px){.page--service .case-study-block__title{font-size:1.563em}}.page--service .region--footer{margin-top:0}.page--services .region--hero,.page--durham .region--hero{margin-bottom:0}.page--services .region--client-quote,.page--durham .region--client-quote{margin:0;padding:0}.page--tag .tag__related-case-studies{padding-bottom:0}.page--tag .view-more-link a{text-transform:uppercase;margin-bottom:3em}.page--tag .view-more-link a::after{content:'\f105';font-family:FontAwesome;font-size:1.25em;margin-left:.75em}@media only screen and (min-width: 640px){.page--tag .view-more-link a{background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.page--tag .view-more-link a:hover,.page--tag .view-more-link a:focus{background-color:#e6473b;border-color:#e6473b;color:#fff}}@media only screen and (min-width: 640px) and (min-width: 640px){.page--tag .view-more-link a{font-size:1.25em;padding:0 90px 0 30px}}@media only screen and (min-width: 640px){.page--tag .view-more-link a::after{background-color:#d3281b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.page--tag .view-more-link a:hover::after,.page--tag .view-more-link a:focus::after{background-color:#e6473b;color:#fff}}.page--tag .tag__related-posts{padding-bottom:0}.page--tag .region--blog-tiles--all__tiles{margin-bottom:1.5em}.region--team-member-top__wrapper{background-position:center center;background-repeat:no-repeat;background-size:cover}.region--team-member-top{margin:0 auto;max-width:1440px}@media only screen and (min-width: 450px){.region--team-member-top{padding-bottom:3em}}.region--team-member-top__image_name{display:flex;flex-wrap:wrap}.region--team-member-top__image{flex-basis:100%;padding:0}@media only screen and (min-width: 450px){.region--team-member-top__image{flex-basis:35%}}@media only screen and (min-width: 1120px){.region--team-member-top__image{flex-basis:30%}}.region--team-member-top__image img{margin-top:0}@media only screen and (min-width: 450px){.region--team-member-top__image img{margin-top:2em}}@media only screen and (min-width: 1120px){.region--team-member-top__image img{padding-right:1em}}.region--team-member-top__name{flex-basis:100%;padding:1em}@media only screen and (min-width: 450px){.region--team-member-top__name{display:flex;flex-basis:65%;flex-direction:column;justify-content:flex-end;padding:0 1em}}@media only screen and (min-width: 1120px){.region--team-member-top__name{flex-basis:70%;padding:1em}}.region--team-member-top__name h1{color:#06282d;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700;line-height:100%;margin-bottom:0}.region--team-member-top__name h1::after{margin:10px 0 .2em}.region--team-member-top__name p{font-weight:300;margin-bottom:0;text-transform:uppercase}@media only screen and (min-width: 1120px){.region--team-member-top__name p{margin-bottom:.75em}}.region--team-member-top__bio_links{display:flex;flex-wrap:wrap}.region--team-member-top__bio_links>div{padding:0 1em}@media only screen and (min-width: 450px){.region--team-member-top__bio_links>div{padding:2em 1em 0}}.region--team-member-top__links{flex-basis:100%}@media only screen and (min-width: 640px){.region--team-member-top__links{flex-basis:35%}}@media only screen and (min-width: 1120px){.region--team-member-top__links{flex-basis:30%}}.region--team-member-top__links ul{align-content:space-around;display:flex;flex-wrap:wrap;justify-content:center;margin:0}@media only screen and (min-width: 640px){.region--team-member-top__links ul{align-content:space-between}}.region--team-member-top__links ul li{display:block;list-style:none;margin-bottom:.5em;padding:.5em 1em}@media only screen and (min-width: 640px){.region--team-member-top__links ul li{display:flex;flex-basis:100%;padding:.5em}}.region--team-member-top__links ul li a{color:#06282d}.region--team-member-top__links ul li a:hover,.region--team-member-top__links ul li a:focus,.region--team-member-top__links ul li aactive{color:#d3281b}.region--team-member-top__bio{flex-basis:100%;font-size:1.1em}@media only screen and (min-width: 640px){.region--team-member-top__bio{flex-basis:65%}}@media only screen and (min-width: 1120px){.region--team-member-top__bio{flex-basis:40%}}.region--team-member-top__badges{align-items:center;display:flex;flex-basis:100%;flex-direction:row;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 640px){.region--team-member-top__badges{margin-left:35%;width:65%}}@media only screen and (min-width: 1120px){.region--team-member-top__badges{align-items:center;flex-basis:30%;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;margin:0}}.region--team-member-top__badges a{text-align:center}.region--team-member-top__badges img{height:auto;max-width:80%;width:180px}.region--team-member-gallery{display:flex;flex-wrap:wrap;margin:.25em auto;margin-bottom:3em;max-width:1440px}.region--team-member-gallery img{display:block;width:100%}.region--team-member-gallery .region--team-member-gallery__left{flex-basis:100%}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__left{border-right:0.25em solid #fff;flex-basis:50%}}.region--team-member-gallery .region--team-member-gallery__right{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__right{flex-basis:50%}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta{align-items:center;display:flex;flex:1;flex-direction:column;justify-content:center;margin:3em auto}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta{margin:0}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta h2{color:#06282d;font-size:1.25em;font-weight:400;margin-bottom:0;padding:.5em 1em;text-transform:uppercase}@media only screen and (min-width: 860px){.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta h2{font-size:1.953em}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a{color:#d3281b}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a:hover,.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a:focus,.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta aactive{color:#06282d}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__landscape{flex:1}.page--team .region--blog-tiles--all{max-width:1440px}.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div{padding:.25em}@media only screen and (min-width: 860px){.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:25%}}.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div .tile--blog__hover{margin:.25em;width:calc(100% - .5em)}
</style>

  
  

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0,
              t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ],
              t.factory = function(e) {
                return function() {
                  var n;
                  return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
                };
              }, t.methods.forEach(function(e) {
        t[e] = t.factory(e);
      }), t.load = function(t) {
        var e, n, o, i;
        e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"),
                o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js",
                n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
      });
    }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('iggktw4km6ha');
    drift.config({
      welcomeMessageDelay: 25000
    });
  </script>
  <!-- End of Async Drift Code -->

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Deploying Jekyll to Github Pages with Travis and Gulp | Savas Labs</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Deploying Jekyll to Github Pages with Travis and Gulp" />
<meta name="author" content="Anne Tomasevich" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Since our company’s inception, we at Savas Labs have used Jekyll to build our company website and GitHub Pages to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a specifically named branch and a single settings update to get your site live for free. Although we often use Drupal to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end." />
<meta property="og:description" content="Since our company’s inception, we at Savas Labs have used Jekyll to build our company website and GitHub Pages to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a specifically named branch and a single settings update to get your site live for free. Although we often use Drupal to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end." />
<link rel="canonical" href="https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html" />
<meta property="og:url" content="https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html" />
<meta property="og:site_name" content="Savas Labs" />
<meta property="og:image" content="https://savaslabs.com/assets/img/blog/travis-hero.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-10-25T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@savaslabs" />
<meta name="twitter:creator" content="@Anne Tomasevich" />
<script type="application/ld+json">
{"description":"Since our company’s inception, we at Savas Labs have used Jekyll to build our company website and GitHub Pages to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a specifically named branch and a single settings update to get your site live for free. Although we often use Drupal to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end.","author":{"@type":"Person","name":"Anne Tomasevich"},"@type":"BlogPosting","url":"https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html","image":"https://savaslabs.com/assets/img/blog/travis-hero.png","headline":"Deploying Jekyll to Github Pages with Travis and Gulp","dateModified":"2016-10-25T00:00:00+00:00","datePublished":"2016-10-25T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://savaslabs.com/2016/10/25/deploy-jekyll-with-travis.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


</head>


  <body class="page--post">

    <header class="region--header" role="banner">
  <div class="region--header__wrapper">

    <a href="/" class="region--header__logo">
      <img src="https://savaslabs.com/assets/img/logo.svg" alt="Savas Labs logo" class="savas-logo savas-logo--main">
    </a>

    <!-- Mobile menu button. -->
<a href="/" id="js-mobile-menu" class="header-navigation__mobile-menu-link">MENU</a>

<!-- Main menu. -->
<nav role="navigation" class="header-navigation">
  <ul id="js-navigation-menu" class="header-navigation__menu show">
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/careers">We're hiring!</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/company">Company</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/results">Results</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/services">Services</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link header-navigation__active-nav-item">
        <a href="/blog">Blog</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/contact">Contact</a>
      </li>
    
  </ul>
</nav>

  </div>
</header>

    <div class="page-content">
      







<div class="outer-container">
  <div class="page--post__main">
    <div class="region--featured-image">
      
      <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-1474by739-d50036.png" media="(min-width: 1120px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 1120px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-1000by501-d50036.png" media="(min-width: 1120px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-1474by739-d50036.png" media="(min-width: 860px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 860px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-746by374-d50036.png" media="(min-width: 860px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-1474by739-d50036.png" media="(min-width: 640px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 640px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-860by431-d50036.png" media="(min-width: 640px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-1280by642-d50036.png" media="(min-width: 400px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 400px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-640by321-d50036.png" media="(min-width: 400px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-800by401-d50036.png" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/travis-hero-400by201-d50036.png">
    <img src="https://savaslabs.com/assets/processed-img/blog/travis-hero-400by201-d50036.png" class="image--post-featured-image" itemprop="image" alt="Jekyll, Gulp, Travis, and GitHub logos">
  </source></source></source></source></source></source></source></source></source></source></picture>

      
      
    </div>
    <div class="region--post-header">
      <h1 class="region--post-header__title">Deploying Jekyll to Github Pages with Travis and Gulp</h1>
      <div class="region--post-header__post-info">
        <div class="region--post-header__post-info__authors">
          
<div class="post-author">
  <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/anne/anne-square-outside-120by122-bebfe8.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/anne/anne-square-outside-60by61-bebfe8.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/team-former/anne/anne-square-outside-60by61-bebfe8.jpg" class="image--team-blog-tile" itemprop="image" alt="Anne Tomasevich">
  </source></source></picture>

  <p class="post-author__name">Anne Tomasevich</p>
</div>

        </div>
        <div class="region--post-header__post-info__stats">
          <p><i class="fa fa-calendar"></i>Oct 25, 2016 </p>
          <p><i class="fa fa-tags"></i><a href="/blog/tag/jekyll/">Jekyll</a>, <a href="/blog/tag/continuous-integration/">Continuous Integration</a></p>
          
          <p><span id="js-comment-count"></span></p>
          
        </div>
      </div>
      
    </div>
    <article class="region--post-content">
      <p>Since our company’s inception, we at Savas Labs have used <a href="https://jekyllrb.com/">Jekyll</a> to build our company website and <a href="https://pages.github.com/">GitHub Pages</a> to host it with great success. Jekyll is a powerful tool out of the box, and it’s hard to imagine a simpler hosting strategy than GitHub Pages, which only requires a <a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/">specifically named branch</a> and a <a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#enabling-github-pages-to-publish-your-site-from-master-or-gh-pages">single settings update</a> to get your site live for free. Although we often use <a href="/blog/tag/drupal/">Drupal</a> to build complex, data-heavy systems that need to have a simple workflow for site admins, for our own site we recognized that Jekyll was a better tool for our workflow that would mitigate security risks, eliminate site hosting costs, and reduce complexity since there’s no need for a database back-end.</p>

<p>One well-known limitation of this workflow: any Jekyll plugins not <a href="https://pages.github.com/versions/">whitelisted by GitHub Pages</a> will be disabled when GitHub Pages builds the site, since <code class="highlighter-rouge">jekyll build</code> is run with the <code class="highlighter-rouge">--safe</code> tag. We recently wanted to start using the <a href="https://github.com/robwierzbowski/jekyll-picture-tag">Jekyll Picture Tag</a> plugin (<a href="/2016/10/19/optimizing-jekyll-with-gulp.html#jekyll-picture-tag-plugin">read about why</a>), and the incredibly crucial <a href="https://github.com/jekyll/jemoji">Jemoji</a> plugin <img class="emoji" title=":joy_cat:" alt=":joy_cat:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f639.png" height="20" width="20">, so we needed to find a way to build our site before pushing it to GitHub Pages for deployment. To complicate matters a bit more, we recently starting <a href="/2016/10/19/optimizing-jekyll-with-gulp.html">building our site with gulp</a>, which introduced another layer of dependencies to the mix.</p>

<p>Many solutions exist for building the site before pushing to GitHub Pages. We chose to use Travis CI to run our gulp command to build the site, then commit the changes to our <code class="highlighter-rouge">master</code> branch so GitHub Pages will deploy the updated site.</p>

<h2 id="basic-workflow">Basic workflow</h2>

<p>Our site was already using Travis CI to run our
<a href="https://github.com/savaslabs/savaslabs.github.io/blob/70420c8afcf59b8d91fba3b57d2ca8241c71f211/_scripts/run-tests.sh">test script</a>
on pull requests and merges to the <code class="highlighter-rouge">master</code> branch. You can learn about setting
up Travis in their <a href="https://docs.travis-ci.com/">docs</a>.</p>

<p>Previously, Travis would build the site and run our tests, then we would merge
branches into <code class="highlighter-rouge">master</code>, triggering GitHub Pages to rebuild and deploy our site.</p>

<p><img src="https://savaslabs.com/assets/img/blog/original-deployment-workflow.jpg" alt="Diagram of original deployment workflow" class="blog-image-full-width">
<span class="caption">Original deployment workflow</span></p>

<p>Now, we want to build our site before it gets to GitHub Pages to ensure our
Jekyll Plugins are included. In our new workflow:</p>

<ol>
  <li>We created a new default branch so the <code class="highlighter-rouge">master</code> branch can be cleared
out and used by Travis.</li>
  <li>When this new branch is updated (i.e. a pull request is merged), Travis
builds the site.</li>
  <li>Using a GitHub token for authorization, Travis commits the <code class="highlighter-rouge">_site</code>
directory to the <code class="highlighter-rouge">master</code> branch, then pushes the <code class="highlighter-rouge">master</code> branch.</li>
  <li>This triggers GitHub Pages to deploy our pre-built site.</li>
</ol>

<p><img src="https://savaslabs.com/assets/img/blog/new-deployment-workflow.jpg" alt="Diagram of new deployment workflow" class="blog-image-full-width">
<span class="caption">New deployment workflow</span></p>

<h3 id="create-a-new-default-branch">Create a new default branch</h3>

<p>We created a new branch off <code class="highlighter-rouge">master</code> called <code class="highlighter-rouge">source</code> and set it to the default
branch on GitHub. <code class="highlighter-rouge">source</code> contains what the <code class="highlighter-rouge">master</code> branch used to — the
Jekyll config file(s), HTML files and partials, data files, styles and JS, etc.
Each time the deploy process is run, Travis deletes all the files on the
<code class="highlighter-rouge">master</code> branch, then commits the entire compiled <code class="highlighter-rouge">_site</code> directory. So, the
<code class="highlighter-rouge">master</code> branch only contains the compiled site, which is deployed by
GitHub Pages.</p>

<p>Why delete all files on <code class="highlighter-rouge">master</code> before committing the <code class="highlighter-rouge">_site</code> directory? This
ensures that all changes (including deletions) are captured in each deployment.</p>

<h3 id="set-up-a-github-token-for-travis">Set up a GitHub token for Travis</h3>

<p>To give Travis the authority to commit and push to our repository, we generated
a personal access token by visiting the
<a href="https://github.com/settings/tokens">settings page</a> on GitHub and generating a
new token. We used a bot account that has access to our repository to avoid
needing to use one of our personal accounts.</p>

<p><img src="https://savaslabs.com/assets/img/blog/github-token.jpg" alt="Generating a personal access token in GitHub" class="blog-image-full-width"></p>

<p>We’ll need to use the access token and the account’s email address in our
deployment script, so to keep those items out of version control we used
<code class="highlighter-rouge">travis encrypt</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>travis encrypt <span class="nv">GH_TOKEN</span><span class="o">=</span>&lt;token&gt; <span class="nt">--add</span> env.global
<span class="nv">$ </span>travis encrypt <span class="nv">GH_EMAIL</span><span class="o">=</span>&lt;email&gt; <span class="nt">--add</span> env.global
</code></pre></div></div>

<p>This adds encrypted versions of these sensitive items to <code class="highlighter-rouge">.travis.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">env</span><span class="pi">:</span>
  <span class="na">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">big long encrypted string...</span><span class="pi">]</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">...and another</span><span class="pi">]</span>
</code></pre></div></div>

<p>With that, we can use the <code class="highlighter-rouge">GH_TOKEN</code> and <code class="highlighter-rouge">GH_EMAIL</code> variables in our
deployment script. See <a href="https://docs.travis-ci.com/user/encryption-keys/">Travis’ docs for more inforamtion.</a></p>

<h3 id="configure-deployment">Configure deployment</h3>

<p>Next we added the following to our <code class="highlighter-rouge">.travis.yml</code> file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Keep Travis from testing `master` branch</span>
<span class="na">branches</span><span class="pi">:</span>
  <span class="na">except</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">master</span>

<span class="c1"># Deployment config</span>
<span class="na">deploy</span><span class="pi">:</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">script</span>
  <span class="na">script</span><span class="pi">:</span> <span class="s2">"</span><span class="s">./_scripts/build.sh"</span>
  <span class="na">skip_cleanup</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">on</span><span class="pi">:</span>
    <span class="na">branch</span><span class="pi">:</span> <span class="s">source</span>
</code></pre></div></div>

<p>We don’t want Travis running the test script on the <code class="highlighter-rouge">master</code> branch anymore since it
only contains the compiled site, and we only want Travis to run the
deployment script on the <code class="highlighter-rouge">source</code> branch. We’re also telling Travis which script
to run on deployment, and to destroy the site after the test script is run with our
<code class="highlighter-rouge">_config.test.yml</code> file so the deployment script can rebuild the site with our
default <code class="highlighter-rouge">_config.yml</code> file. Check out <a href="https://github.com/savaslabs/savaslabs.github.io/blob/95bb1d70790acf4c33b7c121e2ff462af5096d73/.travis.yml">this revision of the full .travis.yml file here</a>.</p>

<p>That revision of <code class="highlighter-rouge">.travis.yml</code> worked for us when we were using <code class="highlighter-rouge">jekyll build</code> to
compile the site, but things got trickier when we started using gulp. We had to
set the proper versions of npm and node.js and ensure that our ruby gems were
installed properly. Here’s the full Travis config we needed to get things
running with gulp:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .travis.yml</span>

<span class="na">language</span><span class="pi">:</span> <span class="s">node_js</span>
<span class="na">sudo</span><span class="pi">:</span> <span class="s">required</span>
<span class="na">script</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">./_scripts/run-tests.sh</span>
<span class="na">branches</span><span class="pi">:</span>
  <span class="na">except</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">master</span>
<span class="na">node_js</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s1">'</span><span class="s">6.1'</span>
<span class="na">before_install</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi</span>
  <span class="pi">-</span> <span class="s">rvm install 2.1</span>
  <span class="pi">-</span> <span class="s">rvm use 2.1</span>
  <span class="pi">-</span> <span class="s">. $HOME/.nvm/nvm.sh &amp;&amp; nvm install 6.1 &amp;&amp; nvm use 6.1</span>
  <span class="pi">-</span> <span class="s">gem install bundler</span>
  <span class="pi">-</span> <span class="s">bundle check || bundle install</span>
<span class="na">env</span><span class="pi">:</span>
  <span class="na">global</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">NOKOGIRI_USE_SYSTEM_LIBRARIES=true</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">stuff</span><span class="pi">]</span>
  <span class="pi">-</span> <span class="na">secure</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">more stuff</span><span class="pi">]</span>
<span class="na">deploy</span><span class="pi">:</span>
  <span class="na">provider</span><span class="pi">:</span> <span class="s">script</span>
  <span class="na">script</span><span class="pi">:</span> <span class="s2">"</span><span class="s">./_scripts/build.sh"</span>
  <span class="na">skip_cleanup</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">on</span><span class="pi">:</span>
    <span class="na">branch</span><span class="pi">:</span> <span class="s">source</span>
</code></pre></div></div>

<p>Or view it <a href="https://github.com/savaslabs/savaslabs.github.io/blob/9434cee6fe1cce54de4bc0294da1c6e9f52476e0/.travis.yml">on GitHub</a>.</p>

<h3 id="the-deployment-script">The deployment script</h3>

<p>When the <code class="highlighter-rouge">source</code> branch is updated and our tests pass, the deployment script
<code class="highlighter-rouge">build.sh</code> is executed.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Enable error reporting to the console.</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="c"># Install bundles if needed.</span>
bundle check <span class="o">||</span> bundle install

<span class="c"># NPM install if needed.</span>
<span class="nb">.</span> <span class="nv">$HOME</span>/.nvm/nvm.sh <span class="o">&amp;&amp;</span> nvm install 6.1 <span class="o">&amp;&amp;</span> nvm use 6.1
npm install

<span class="c"># Build the site.</span>
gulp

<span class="c"># Checkout `master` and remove everything.</span>
git clone https://<span class="k">${</span><span class="nv">GH_TOKEN</span><span class="k">}</span>@github.com/savaslabs/savaslabs.github.io.git ../savaslabs.github.io.master
<span class="nb">cd</span> ../savaslabs.github.io.master
git checkout master
rm <span class="nt">-rf</span> <span class="k">*</span>

<span class="c"># Copy generated HTML site from source branch in original repository.</span>
<span class="c"># Now the `master` branch will contain only the contents of the _site directory.</span>
cp <span class="nt">-R</span> ../savaslabs.github.io/_site/<span class="k">*</span> <span class="nb">.</span>

<span class="c"># Make sure we have the updated .travis.yml file so tests won't run on master.</span>
cp ../savaslabs.github.io/.travis.yml <span class="nb">.</span>
git config user.email <span class="k">${</span><span class="nv">GH_EMAIL</span><span class="k">}</span>
git config user.name <span class="s2">"savas-bot"</span>

<span class="c"># Commit and push generated content to `master` branch.</span>
git status
git add <span class="nt">-A</span> <span class="nb">.</span>
git status
git commit <span class="nt">-a</span> <span class="nt">-m</span> <span class="s2">"Travis #</span><span class="nv">$TRAVIS_BUILD_NUMBER</span><span class="s2">"</span>
git push <span class="nt">--quiet</span> origin <span class="sb">`</span>master<span class="sb">`</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
</code></pre></div></div>

<p>Some important notes:</p>

<ul>
  <li>Make sure the script file is executable!</li>
  <li>The last line ensures that our encrypted token won’t end up in git logs.</li>
</ul>

<h2 id="deployment-and-debugging">Deployment and debugging</h2>

<p>Merging this code into <code class="highlighter-rouge">source</code> was the easiest way for us to test if our new process worked
— scary, right? Fortunately, if the build script failed (and it did several
times until we could get the npm and node versions correct and the ruby gems
installing properly) nothing got pushed to <code class="highlighter-rouge">master</code> so nothing was deployed,
meaning no downtime on our site.</p>

<p>We also used
<a href="https://www.teleconsole.com/">Teleconsole</a> to debug from inside the Travis
environment. To do this, we commented out the <code class="highlighter-rouge">git push</code> line and added the following to
<code class="highlighter-rouge">build.sh</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://www.teleconsole.com/get.sh | sh
teleconsole
</code></pre></div></div>

<p>This printed a session ID in the Travis CI output. With a couple of commands, we
could enter the session from our local machines:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install teleconsole</span>
<span class="nv">$ </span>curl https://www.teleconsole.com/get.sh | sh

<span class="c"># Join session</span>
<span class="nv">$ </span>teleconsole join <span class="o">[</span>session ID]
</code></pre></div></div>

<p>Being able to look around and run commands within the Travis environment was
hugely helpful!</p>

<h2 id="future-work">Future work</h2>

<p>We’d like to implement some improvements on this process in the future:</p>

<ul>
  <li>With our current setup, we can’t deploy when our tests are failing.</li>
  <li>Providing consistency with Ruby and Node dependencies across different
operating systems and environments has proven difficult. We’ve considered
Dockerizing our site but that’s a subject for another post!</li>
</ul>

<h2 id="resources">Resources</h2>

<p>We’d like to give credit to these helpful posts, which we adapted for our site:</p>

<ul>
  <li>
<a href="http://eshepelyuk.github.io/2014/10/28/automate-github-pages-travisci.html">Automate GitHub Pages publishing with Jekyll and Travis CI</a> by Evgeny Shepelyuk</li>
  <li>
<a href="http://mlota.github.io/2015/11/23/automating-deployment-github-pages-jekyll-travis.html">Automating deployment of a GitHub Pages hosted site with Jekyll and Travis CI</a> by Mel Lota</li>
</ul>

    </article>
  </div>
  <div class="region--prev-next-links region--prev-next-links--mobile pagination">
    <div class="outer-container">
  
  <a href="/2016/10/19/optimizing-jekyll-with-gulp.html" class="pagination__previous"><i class="fa fa-angle-left "></i> Prev</a>
  
  <a href="/blog" class="pagination__view-all">View All Blog Posts</a>
  
  <a href="/2016/11/15/composer-mailchimp-subscriptions-v3-api.html" class="pagination__next"> Next <i class="fa fa-angle-right"></i></a>
  
</div>
  </div>
  <div class="page--post__aside region--post-aside">
    <div class="region--post-aside__section__wrapper--posts">
      <div class="region--post-aside__section region--post-aside__section--posts">
        <h2 class="heading--sans-serif c-grey h3">Related Blog Posts</h2>
        <div class="region--post-aside__section__items region--post-aside__section--posts__items">
          





























































































































<div class="tile--blog tile--blog--detailed tile">
  <a href="/2017/04/24/savas-labs-website-redesign.html" class="tile--blog__link">
    <div class="tile--blog__content tile__content bg-light-teal">
      
      <div class="tile--blog__image" style="background-image: url(/assets/img/blog/redesign-featured.jpg);">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <p class="tile--blog--detailed__primary-tag">Design</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </div>
      <div class="tile--blog__post-title">
        <p>Savaslabs.com Redesign</p>

        <div class="tile--blog--detailed__author">
          
          
          <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-120by120-925265.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg" class="image--team-blog-tile" itemprop="image" alt="Chris Russo">
  </source></source></picture>

          
          
        </div>
        <div class="tile--blog--detailed__author-bg"></div>
      </div>
    </div>
    <div class="tile--blog__hover tile__hover bg-orange">
      <p>The Spring 2017 Redesign of Savaslabs.com</p>

      <p class="link--cta link--cta--inverse">Read more</p>
    </div>
  </a>
</div>





































<div class="tile--blog tile--blog--detailed tile">
  <a href="/2017/02/15/docker-mysql-performance.html" class="tile--blog__link">
    <div class="tile--blog__content tile__content bg-light-teal">
      
      <div class="tile--blog__image" style="background-image: url(/assets/img/blog/sea-ocean-boats-port.jpg);">
        
        
        
        
        
        
        
        
        
        
        
        <p class="tile--blog--detailed__primary-tag">Drupal</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </div>
      <div class="tile--blog__post-title">
        <p>Dramatically Improve MySQL Import Performance with Docker</p>

        <div class="tile--blog--detailed__author">
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/kosta/kosta-square-outside-120by120-c7115d.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/kosta/kosta-square-outside-60by60-c7115d.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/team-former/kosta/kosta-square-outside-60by60-c7115d.jpg" class="image--team-blog-tile" itemprop="image" alt="Kosta Harlan">
  </source></source></picture>

          
          
        </div>
        <div class="tile--blog--detailed__author-bg"></div>
      </div>
    </div>
    <div class="tile--blog__hover tile__hover bg-orange">
      <p>How to dramatically improve MySQL database import performance on Drupal with Docker stacks</p>

      <p class="link--cta link--cta--inverse">Read more</p>
    </div>
  </a>
</div>




















































































































































































































































































        </div>
      </div>
    </div>
    <div class="region--post-aside__section__wrapper--case-studies">
      <div class="region--post-aside__section region--post-aside__section--case-studies">
        <h2 class="heading--sans-serif c-grey h3">Related Case Studies</h2>
        <div class="region--post-aside__section__items region--post-aside__section--posts__items">
          
































































        </div>
        <div class="region--post-aside__section--case-studies__cta flex-center">
          <a href="/results" class="button--arrow--orange">Our work</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="region--prev-next-links region--prev-next-links--post pagination">
  <div class="outer-container">
  
  <a href="/2016/10/19/optimizing-jekyll-with-gulp.html" class="pagination__previous"><i class="fa fa-angle-left "></i> Prev</a>
  
  <a href="/blog" class="pagination__view-all">View All Blog Posts</a>
  
  <a href="/2016/11/15/composer-mailchimp-subscriptions-v3-api.html" class="pagination__next"> Next <i class="fa fa-angle-right"></i></a>
  
</div>
</div>

<div class="region--comments">
  
  <div id="js-comments"></div>
  
</div>

    </div>

    <footer class="region--footer" role="contentinfo">
  <div class="region--footer__main">
    <div class="region--footer__main__menu">
      <a href="/" class="region--footer__logo">
        <img src="https://savaslabs.com/assets/img/logo-light.svg" alt="Savas Labs" class="savas-logo savas-logo--light">
      </a>
      <nav role="navigation" class="footer-navigation">
  <ul class="footer-navigation__menu">
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/careers">We're hiring!</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/company">Company</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/results">Results</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/services">Services</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/blog">Blog</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/contact">Contact</a>
      </li>
    
  </ul>
</nav>
    </div>
    <div class="region--footer__main__contact">
      <h3 class="region--footer__main__contact__title h5">Connect with us</h3>
      <a href="mailto:info@savaslabs.com">info@savaslabs.com</a>
      <p>(919) 432-4660</p>
      <address>
        Savas Labs<br>
        212 W Main Street, Suite 303<br>
        Durham, NC 27701
      </address>
    </div>
    <div class="region--footer__main__social">
      <div class="region--footer__main__social__icons">
        <ul>
          <li><a href="https://github.com/savaslabs"><i class="fa fa-github fa-lg fa-2x"></i><span class="sr-only">Savas Labs GitHub</span></a></li>
          <li><a href="https://www.drupal.org/savas-labs"><i class="fa fa-drupal fa-lg fa-2x"></i><span class="sr-only">Savas Labs Drupal.Org</span></a></li>
          <li><a href="https://twitter.com/SavasLabs"><i class="fa fa-twitter fa-lg fa-2x"></i><span class="sr-only">Savas Labs Twitter</span></a></li>
          <li><a href="https://www.linkedin.com/company/savas-labs"><i class="fa fa-linkedin fa-lg fa-2x"></i><span class="sr-only">Savas Labs LinkedIn</span></a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="region--footer__bottom">
    <div class="region--footer__bottom__wrapper">
      <p class="region--footer__bottom__copyright">
        Copyright © Savas Labs 2019
      </p>
    </div>
  </div>
</footer>

    <script type="text/javascript" src="https://savaslabs.com/assets/js/main.js" async></script>


<script type="text/javascript" src="/assets/js/comments.js" async></script>

<noscript>
  <link href="/assets/styles/main.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,400italic,700italic%7CPT+Serif%7CSource+Sans+Pro" rel="stylesheet" type="text/css">
</noscript>

  </body>

</html>
