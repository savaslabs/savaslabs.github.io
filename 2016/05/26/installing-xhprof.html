<!DOCTYPE html>
<html lang="en-US">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="cache-control" content="public">
  <meta http-equiv="expires" content="86400">
  
  <title>Installing XHProf to profile your Drupal module | Savas Labs</title>
  
  <meta name="description" content="XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in...">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="canonical" href="https://savaslabs.com/2016/05/26/installing-xhprof.html">
  <link rel="alternate" type="application/rss+xml" title="Savas Labs" href="https://savaslabs.com/feed.xml" />

  <!-- Structured data. -->
  
  
  
  




  
  
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "about": "Step-by-step, how to install and use XHProf to profile your Drupal module.",
      "articleBody": "&lt;p&gt;XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a &lt;a href=&quot;http://www.linuxjournal.com/article/7213&quot;&gt;number of PHP profilers over the years&lt;/a&gt;, and XDebug has &lt;a href=&quot;https://xdebug.org/docs/profiler&quot;&gt;a profiler as well&lt;/a&gt;, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of.&lt;/p&gt;

&lt;p&gt;I had run across a number of blog posts about using XHProf + Drupal, but never actually got it to work sucessfully for a project. Because so much of the documentation online is incomplete or out-of-date, I thought it would be useful to document my process using XHProf to profile a Drupal 8 custom module here. YMMV, but please post your thoughts/experiences in the comments!&lt;/p&gt;

&lt;h2 id=&quot;how-to-find-documentation&quot;&gt;How to find documentation&lt;/h2&gt;

&lt;p&gt;I find the &lt;a href=&quot;http://php.net/manual/en/book.xhprof.php&quot;&gt;php.net XHProf manual entry&lt;/a&gt; super-confusing and circular. Part of the problem is that Facebook’s original documentation for the library has since been removed from the internet and is only accessible via &lt;a href=&quot;http://web.archive.org&quot;&gt;the WayBack Machine&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If there’s only one thing you take away from this blog post, let it be: read and bookmark the WayBack machine view of the original XHProf documentation, which is at &lt;a href=&quot;http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html&quot;&gt;http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;install-xhprof-in-a-vm&quot;&gt;Install XHProf in a VM&lt;/h2&gt;

&lt;p&gt;If you’re not running DrupalVM, you’ll need to install XHProf manually via &lt;a href=&quot;https://pecl.php.net/&quot;&gt;PECL&lt;/a&gt;. On &lt;a href=&quot;http://docs.drupalvm.com/en/latest/&quot;&gt;DrupalVM&lt;/a&gt;, XHProf is already installed and you can skip to the next step.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo pecl install xhprof-beta&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note that all these commands are for Ubuntu flavors of linux. If you’re on Red Hat / CentOS you’ll want to use the &lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt; equivalents. I had to first install the &lt;code class=&quot;highlighter-rouge&quot;&gt;php5-dev&lt;/code&gt; package to get PECL working properly:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install php5-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, if you want to view nice callgraph trees like the one below you’ll need to install the graphviz package &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get install graphviz&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/xhprof-callgraph.jpg&quot; alt=&quot;Image of a sample XHProf callgraph&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;configure-php-to-run-xhprof&quot;&gt;Configure PHP to run XHProf&lt;/h2&gt;

&lt;p&gt;You need to tell PHP to enable the xhprof extension via your php.ini files. Usually these are in &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/php5/apache2/php.ini&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/php5/cli/php.ini&lt;/code&gt;. Add the following lines to the bottom of each file if they’re not there already. You will also need to create the &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/tmp/xhprof&lt;/code&gt; directory if it doesn’t already exist.&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[xhprof]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;xhprof.so&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;;
; directory used by default implementation of the iXHProfRuns
; interface (namely, the XHProfRuns_Default class) for storing
; XHProf runs.
;
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;xhprof.output_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/var/tmp/xhprof&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lastly, restart Apache so that the PHP config changes take effect.&lt;/p&gt;

&lt;h2 id=&quot;set-up-a-path-to-view-the-xhprof-gui&quot;&gt;Set up a path to view the XHProf GUI&lt;/h2&gt;

&lt;p&gt;The XHProf GUI runs off a set of HTML files in the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory. If you’ve been following the install steps above, you should be able to find that directory at &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/php/xhprof_html&lt;/code&gt;. Now you need to set up your virtual host configuration to serve the files in the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;I find the easiest way to do this is just to symlink the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory into the existing webroot of whatever site you’re working on locally, for example:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ln -s /usr/share/php/xhprof_html /var/www/my-website-dir/xhprof&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you’re using DrupalVM, a separate vhost configuration will already be set up for XHProf, and the default URL is &lt;code class=&quot;highlighter-rouge&quot;&gt;http://xhprof.drupalvm.dev/&lt;/code&gt; although it can be changed in your &lt;code class=&quot;highlighter-rouge&quot;&gt;config.yml&lt;/code&gt; file.&lt;/p&gt;

&lt;h2 id=&quot;hooking-xhprof-into-your-module-code&quot;&gt;Hooking XHProf into your module code&lt;/h2&gt;

&lt;p&gt;Generally, the process of profiling a chunk of code using XHProf goes as follows:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Call &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_enable()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Run the code you want profiled&lt;/li&gt;
  &lt;li&gt;Once the code has finished running, call &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_disable()&lt;/code&gt;. That function will return the profiler data, which you can either display to the screen (not recommended), or…&lt;/li&gt;
  &lt;li&gt;Store the profiler data to a file by creating a new &lt;code class=&quot;highlighter-rouge&quot;&gt;XHProfRuns_Default();&lt;/code&gt; object and calling its &lt;code class=&quot;highlighter-rouge&quot;&gt;save_run&lt;/code&gt; method.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In the case below, I’m profiling a module that implements a few Drush commands from the command line which I’d like to optimize. So I created &lt;code class=&quot;highlighter-rouge&quot;&gt;_modulename_xhprof_enable()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;_modulename_xhprof_disable()&lt;/code&gt; functions – the names don’t matter here – and then added a &lt;code class=&quot;highlighter-rouge&quot;&gt;--profile&lt;/code&gt; flag to my Drush command options which, when it is set to true, calls my custom enable/disable functions before and after the Drush command runs.&lt;/p&gt;

&lt;p&gt;Here’s what those look like in full:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;/**
 * Helper function to enable xhprof.
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_mymodule_enable_xhprof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;function_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;xhprof_enable&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Tell XHProf to track both CPU time and memory usage
&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;xhprof_enable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;XHPROF_FLAGS_CPU&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XHPROF_FLAGS_MEMORY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Don&#39;t treat these functions as separate function callss
&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;// in the results.
&lt;/span&gt;        &lt;span class=&quot;s1&quot;&gt;&#39;ignored_functions&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;call_user_func&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;s1&quot;&gt;&#39;call_user_func_array&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;/**
 * Helper function to disable xhprof and save logs.
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_mymodule_disable_xhprof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;function_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;xhprof_enable&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$xhprof_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;xhprof_disable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// Saving the XHProf run
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// using the default implementation of iXHProfRuns.
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/share/php/xhprof_lib/utils/xhprof_lib.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/share/php/xhprof_lib/utils/xhprof_runs.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$xhprof_runs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XHProfRuns_Default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Save the run under a namespace &quot;xhprof_foo&quot;.
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// **NOTE**:
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// By default save_run() will automatically generate a unique
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// run id for you. [You can override that behavior by passing
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// a run id (optional arg) to the save_run() method instead.]
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// .
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$run_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$xhprof_runs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;save_run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xhprof_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;xhprof_mymodule&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;---------------&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Assuming you have set up the http based UI for &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;XHProf at some address, you can view run at &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;http://mywebsiteurl.dev/xhprof/index.php?run=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$run_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;amp;source=xhprof_mymodule&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;---------------&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;echo&lt;/code&gt; command here works fine for a Drush command, but for other tasks you could log the run url using watchdog.&lt;/p&gt;

&lt;p&gt;Note: Another way to run XHProf on a Drupal site is using the &lt;a href=&quot;https://www.drupal.org/project/xhprof&quot;&gt;XHProf&lt;/a&gt; module, but I haven’t had great luck with that.&lt;/p&gt;

&lt;h2 id=&quot;viewing-profiler-results&quot;&gt;Viewing profiler results&lt;/h2&gt;

&lt;p&gt;If everything is configured correctly, when you run your module you should get a run ID output either to the screen (via &lt;code class=&quot;highlighter-rouge&quot;&gt;echo&lt;/code&gt;, as above, or however you’ve configured this logging). Visit the URL you configured above for xhprof, and you should see a list of all the stored runs. Clicking on a run will bring up the full profiler report.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/xhprof-screenshot.jpg&quot; alt=&quot;Sample screenshot of an XHProf profiler report&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;now-what&quot;&gt;Now what?&lt;/h2&gt;

&lt;p&gt;Now you’ve got all this data – how to make sense of it? What to do with it? Stay tuned for more discussion of how to interpret XHProf results and a real-world example of profiling a D8 module, next week!&lt;/p&gt;

",
      "author": {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Tim Stallmann",
        "affiliation": "Savas Labs",
        "worksFor": "Savas Labs"
      },
      "dateCreated": "2016-05-26 00:00:00 +0000",
      "dateModified": "2016-05-26 00:00:00 +0000",
      "datePublished": "2016-05-26 00:00:00 +0000",
      "headline": "Installing XHProf to profile your Drupal module",
      "image": {
        "@context": "http://schema.org",
        "@type": "ImageObject",
        "author": "Tim Stallmann",
        "datePublished": "2016-05-26 00:00:00 +0000",
        "description": "an XHProf callgraph",
        "height": "1000px",
        "url": "https://savaslabs.com/assets/img/blog/xhprof-callgraph.jpg",
        "width": "1000px"
      },
      "inLanguage": "en-US",
      "keywords": "php, performance, drupal, drupal-planet, module-development",
      "mainEntityOfPage": "https://savaslabs.com/2016/05/26/installing-xhprof.html",
      "publisher": {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Durham",
          "addressRegion": "NC",
          "postalCode": "27701",
          "streetAddress": "201 W Main St."
        },
        "description": "We design digital products that users love
",
        "email": "info@savaslabs.com",
        "logo": {
          "@context": "http://schema.org",
          "@type": "ImageObject",
          "description": "Savas Labs logo",
          "height": "50px",
          "url": "https://savaslabs.com/assets/img/logo.png",
          "width": "114px"
        },
        "name": "Savas Labs",
        "telephone": "(919) 432-4660",
        "url": "https://savaslabs.com"
      },
      "sourceOrganization": "Savas Labs",
      "text": "&lt;p&gt;XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a &lt;a href=&quot;http://www.linuxjournal.com/article/7213&quot;&gt;number of PHP profilers over the years&lt;/a&gt;, and XDebug has &lt;a href=&quot;https://xdebug.org/docs/profiler&quot;&gt;a profiler as well&lt;/a&gt;, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of.&lt;/p&gt;

&lt;p&gt;I had run across a number of blog posts about using XHProf + Drupal, but never actually got it to work sucessfully for a project. Because so much of the documentation online is incomplete or out-of-date, I thought it would be useful to document my process using XHProf to profile a Drupal 8 custom module here. YMMV, but please post your thoughts/experiences in the comments!&lt;/p&gt;

&lt;h2 id=&quot;how-to-find-documentation&quot;&gt;How to find documentation&lt;/h2&gt;

&lt;p&gt;I find the &lt;a href=&quot;http://php.net/manual/en/book.xhprof.php&quot;&gt;php.net XHProf manual entry&lt;/a&gt; super-confusing and circular. Part of the problem is that Facebook’s original documentation for the library has since been removed from the internet and is only accessible via &lt;a href=&quot;http://web.archive.org&quot;&gt;the WayBack Machine&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If there’s only one thing you take away from this blog post, let it be: read and bookmark the WayBack machine view of the original XHProf documentation, which is at &lt;a href=&quot;http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html&quot;&gt;http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;install-xhprof-in-a-vm&quot;&gt;Install XHProf in a VM&lt;/h2&gt;

&lt;p&gt;If you’re not running DrupalVM, you’ll need to install XHProf manually via &lt;a href=&quot;https://pecl.php.net/&quot;&gt;PECL&lt;/a&gt;. On &lt;a href=&quot;http://docs.drupalvm.com/en/latest/&quot;&gt;DrupalVM&lt;/a&gt;, XHProf is already installed and you can skip to the next step.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo pecl install xhprof-beta&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note that all these commands are for Ubuntu flavors of linux. If you’re on Red Hat / CentOS you’ll want to use the &lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt; equivalents. I had to first install the &lt;code class=&quot;highlighter-rouge&quot;&gt;php5-dev&lt;/code&gt; package to get PECL working properly:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install php5-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, if you want to view nice callgraph trees like the one below you’ll need to install the graphviz package &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get install graphviz&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/xhprof-callgraph.jpg&quot; alt=&quot;Image of a sample XHProf callgraph&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;configure-php-to-run-xhprof&quot;&gt;Configure PHP to run XHProf&lt;/h2&gt;

&lt;p&gt;You need to tell PHP to enable the xhprof extension via your php.ini files. Usually these are in &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/php5/apache2/php.ini&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/php5/cli/php.ini&lt;/code&gt;. Add the following lines to the bottom of each file if they’re not there already. You will also need to create the &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/tmp/xhprof&lt;/code&gt; directory if it doesn’t already exist.&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[xhprof]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;xhprof.so&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;;
; directory used by default implementation of the iXHProfRuns
; interface (namely, the XHProfRuns_Default class) for storing
; XHProf runs.
;
&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;xhprof.output_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/var/tmp/xhprof&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lastly, restart Apache so that the PHP config changes take effect.&lt;/p&gt;

&lt;h2 id=&quot;set-up-a-path-to-view-the-xhprof-gui&quot;&gt;Set up a path to view the XHProf GUI&lt;/h2&gt;

&lt;p&gt;The XHProf GUI runs off a set of HTML files in the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory. If you’ve been following the install steps above, you should be able to find that directory at &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/php/xhprof_html&lt;/code&gt;. Now you need to set up your virtual host configuration to serve the files in the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;I find the easiest way to do this is just to symlink the &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_html&lt;/code&gt; directory into the existing webroot of whatever site you’re working on locally, for example:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ln -s /usr/share/php/xhprof_html /var/www/my-website-dir/xhprof&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you’re using DrupalVM, a separate vhost configuration will already be set up for XHProf, and the default URL is &lt;code class=&quot;highlighter-rouge&quot;&gt;http://xhprof.drupalvm.dev/&lt;/code&gt; although it can be changed in your &lt;code class=&quot;highlighter-rouge&quot;&gt;config.yml&lt;/code&gt; file.&lt;/p&gt;

&lt;h2 id=&quot;hooking-xhprof-into-your-module-code&quot;&gt;Hooking XHProf into your module code&lt;/h2&gt;

&lt;p&gt;Generally, the process of profiling a chunk of code using XHProf goes as follows:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Call &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_enable()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Run the code you want profiled&lt;/li&gt;
  &lt;li&gt;Once the code has finished running, call &lt;code class=&quot;highlighter-rouge&quot;&gt;xhprof_disable()&lt;/code&gt;. That function will return the profiler data, which you can either display to the screen (not recommended), or…&lt;/li&gt;
  &lt;li&gt;Store the profiler data to a file by creating a new &lt;code class=&quot;highlighter-rouge&quot;&gt;XHProfRuns_Default();&lt;/code&gt; object and calling its &lt;code class=&quot;highlighter-rouge&quot;&gt;save_run&lt;/code&gt; method.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In the case below, I’m profiling a module that implements a few Drush commands from the command line which I’d like to optimize. So I created &lt;code class=&quot;highlighter-rouge&quot;&gt;_modulename_xhprof_enable()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;_modulename_xhprof_disable()&lt;/code&gt; functions – the names don’t matter here – and then added a &lt;code class=&quot;highlighter-rouge&quot;&gt;--profile&lt;/code&gt; flag to my Drush command options which, when it is set to true, calls my custom enable/disable functions before and after the Drush command runs.&lt;/p&gt;

&lt;p&gt;Here’s what those look like in full:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;/**
 * Helper function to enable xhprof.
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_mymodule_enable_xhprof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;function_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;xhprof_enable&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Tell XHProf to track both CPU time and memory usage
&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;xhprof_enable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;XHPROF_FLAGS_CPU&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XHPROF_FLAGS_MEMORY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Don&#39;t treat these functions as separate function callss
&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;// in the results.
&lt;/span&gt;        &lt;span class=&quot;s1&quot;&gt;&#39;ignored_functions&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;call_user_func&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;s1&quot;&gt;&#39;call_user_func_array&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;/**
 * Helper function to disable xhprof and save logs.
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_mymodule_disable_xhprof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;function_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;xhprof_enable&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$xhprof_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;xhprof_disable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// Saving the XHProf run
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// using the default implementation of iXHProfRuns.
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/share/php/xhprof_lib/utils/xhprof_lib.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/share/php/xhprof_lib/utils/xhprof_runs.php&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$xhprof_runs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;XHProfRuns_Default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// Save the run under a namespace &quot;xhprof_foo&quot;.
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// **NOTE**:
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// By default save_run() will automatically generate a unique
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// run id for you. [You can override that behavior by passing
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// a run id (optional arg) to the save_run() method instead.]
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// .
&lt;/span&gt;    &lt;span class=&quot;nv&quot;&gt;$run_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$xhprof_runs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;save_run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$xhprof_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;xhprof_mymodule&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;---------------&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Assuming you have set up the http based UI for &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;XHProf at some address, you can view run at &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;http://mywebsiteurl.dev/xhprof/index.php?run=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$run_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;amp;source=xhprof_mymodule&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;---------------&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;echo&lt;/code&gt; command here works fine for a Drush command, but for other tasks you could log the run url using watchdog.&lt;/p&gt;

&lt;p&gt;Note: Another way to run XHProf on a Drupal site is using the &lt;a href=&quot;https://www.drupal.org/project/xhprof&quot;&gt;XHProf&lt;/a&gt; module, but I haven’t had great luck with that.&lt;/p&gt;

&lt;h2 id=&quot;viewing-profiler-results&quot;&gt;Viewing profiler results&lt;/h2&gt;

&lt;p&gt;If everything is configured correctly, when you run your module you should get a run ID output either to the screen (via &lt;code class=&quot;highlighter-rouge&quot;&gt;echo&lt;/code&gt;, as above, or however you’ve configured this logging). Visit the URL you configured above for xhprof, and you should see a list of all the stored runs. Clicking on a run will bring up the full profiler report.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/blog/xhprof-screenshot.jpg&quot; alt=&quot;Sample screenshot of an XHProf profiler report&quot; class=&quot;blog-image-full-width&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;now-what&quot;&gt;Now what?&lt;/h2&gt;

&lt;p&gt;Now you’ve got all this data – how to make sense of it? What to do with it? Stay tuned for more discussion of how to interpret XHProf results and a real-world example of profiling a D8 module, next week!&lt;/p&gt;

",
      "url": "https://savaslabs.com/2016/05/26/installing-xhprof.html"
    }
  </script>

  

  <!-- Google Analytics. -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61514316-1', 'auto');
  ga('send', 'pageview');

</script>



  <!-- Load main CSS file asynchronously via loadCSS. -->
  <script>
    !function(e){"use strict";var t=function(t,n,r){function o(e){return i.body?e():void setTimeout(function(){o(e)})}function l(){d.addEventListener&&d.removeEventListener("load",l),d.media=r||"all"}var a,i=e.document,d=i.createElement("link");if(n)a=n;else{var s=(i.body||i.getElementsByTagName("head")[0]).childNodes;a=s[s.length-1]}var u=i.styleSheets;d.rel="stylesheet",d.href=t,d.media="only x",o(function(){a.parentNode.insertBefore(d,n?a:a.nextSibling)});var f=function(e){for(var t=d.href,n=u.length;n--;)if(u[n].href===t)return e();setTimeout(function(){f(e)})};return d.addEventListener&&d.addEventListener("load",l),d.onloadcssdefined=f,f(l),d};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}("undefined"!=typeof global?global:this),function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(t){}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n];"preload"===r.rel&&"style"===r.getAttribute("as")&&(e.loadCSS(r.href,r),r.rel=null)}},!t.support()){t.poly();var n=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){e.clearInterval(n)})}}}(this);
    loadCSS('/assets/styles/main.css');
    loadCSS('https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto+Slab:300,400|Roboto:400,400i,700,700i');
  </script>

  <!-- Inline critical CSS. -->
  <style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.bg-magenta{background-color:#9e023b}.bg-orange{background-color:#d3281b}.bg-eggshell{background-color:#fff8f3}.bg-teal{background-color:#0a5365}.bg-dark-teal{background-color:#06282d}.bg-grey{background-color:#565d5e}.bg-light-grey{background-color:#bdc2c3}.bg-light-teal{background-color:#f3f6f7}.bg-light-orange{background-color:#f29c96}.bg-purple{background-color:#501888}.bg-pink{background-color:#d33682}.bg-yellow{background-color:#f2a324}.bg-green{background-color:#055c2b}.c-magenta{color:#9e023b}.c-orange{color:#d3281b}.c-eggshell{color:#fff8f3}.c-teal{color:#0a5365}.c-dark-teal{color:#06282d}.c-grey{color:#565d5e}.c-light-grey{color:#bdc2c3}.c-light-teal{color:#f3f6f7}.c-light-orange{color:#f29c96}.c-purple{color:#501888}.c-pink{color:#d33682}.c-yellow{color:#f2a324}.c-green{color:#055c2b}button,[type='button'],[type='reset'],[type='submit']{appearance:none;background-color:#0a5365;border:0;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em;-webkit-font-smoothing:antialiased;font-weight:600;line-height:1;padding:.75em 1em;text-align:center;text-decoration:none;transition:background-color 150ms ease;user-select:none;vertical-align:middle;white-space:nowrap}button:hover,button:focus,[type='button']:hover,[type='button']:focus,[type='reset']:hover,[type='reset']:focus,[type='submit']:hover,[type='submit']:focus{background-color:#084251;color:#fff}button:disabled,[type='button']:disabled,[type='reset']:disabled,[type='submit']:disabled{cursor:not-allowed;opacity:0.5}button:disabled:hover,[type='button']:disabled:hover,[type='reset']:disabled:hover,[type='submit']:disabled:hover{background-color:#0a5365}fieldset{background-color:transparent;border:0;margin:0;padding:0}legend{font-weight:600;margin-bottom:.375em;padding:0}label{display:block;font-weight:600;margin-bottom:.375em}input,select,textarea{display:block;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em}[type='color'],[type='date'],[type='datetime'],[type='datetime-local'],[type='email'],[type='month'],[type='number'],[type='password'],[type='search'],[type='tel'],[type='text'],[type='time'],[type='url'],[type='week'],input:not([type]),textarea{appearance:none;background-color:#fff;border:1px solid #ddd;border-radius:3px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.06);box-sizing:border-box;margin-bottom:.75em;padding:.3333333333em;transition:border-color 150ms ease;width:100%}[type='color']:hover,[type='date']:hover,[type='datetime']:hover,[type='datetime-local']:hover,[type='email']:hover,[type='month']:hover,[type='number']:hover,[type='password']:hover,[type='search']:hover,[type='tel']:hover,[type='text']:hover,[type='time']:hover,[type='url']:hover,[type='week']:hover,input:not([type]):hover,textarea:hover{border-color:#b1b1b1}[type='color']:focus,[type='date']:focus,[type='datetime']:focus,[type='datetime-local']:focus,[type='email']:focus,[type='month']:focus,[type='number']:focus,[type='password']:focus,[type='search']:focus,[type='tel']:focus,[type='text']:focus,[type='time']:focus,[type='url']:focus,[type='week']:focus,input:not([type]):focus,textarea:focus{border-color:#0a5365;box-shadow:inset 0 1px 3px rgba(0,0,0,0.06),0 0 5px rgba(18,89,169,0.7);outline:none}[type='color']:disabled,[type='date']:disabled,[type='datetime']:disabled,[type='datetime-local']:disabled,[type='email']:disabled,[type='month']:disabled,[type='number']:disabled,[type='password']:disabled,[type='search']:disabled,[type='tel']:disabled,[type='text']:disabled,[type='time']:disabled,[type='url']:disabled,[type='week']:disabled,input:not([type]):disabled,textarea:disabled{background-color:#f2f2f2;cursor:not-allowed}[type='color']:disabled:hover,[type='date']:disabled:hover,[type='datetime']:disabled:hover,[type='datetime-local']:disabled:hover,[type='email']:disabled:hover,[type='month']:disabled:hover,[type='number']:disabled:hover,[type='password']:disabled:hover,[type='search']:disabled:hover,[type='tel']:disabled:hover,[type='text']:disabled:hover,[type='time']:disabled:hover,[type='url']:disabled:hover,[type='week']:disabled:hover,input:not([type]):disabled:hover,textarea:disabled:hover{border:1px solid #ddd}[type='color']::placeholder,[type='date']::placeholder,[type='datetime']::placeholder,[type='datetime-local']::placeholder,[type='email']::placeholder,[type='month']::placeholder,[type='number']::placeholder,[type='password']::placeholder,[type='search']::placeholder,[type='tel']::placeholder,[type='text']::placeholder,[type='time']::placeholder,[type='url']::placeholder,[type='week']::placeholder,input:not([type])::placeholder,textarea::placeholder{color:#858585}textarea{resize:vertical}[type="checkbox"],[type="radio"]{display:inline;margin-right:.375em}[type="file"]{margin-bottom:.75em;width:100%}select{margin-bottom:.75em;width:100%}html{box-sizing:border-box}*,*::before,*::after{box-sizing:inherit}html,body{height:100%}ul,ol{list-style-type:none;margin:0;padding:0}dl{margin:0}dt{font-weight:600;margin:0}dd{margin:0}figure{margin:0}img,picture{margin:0;max-width:100%}table{border-collapse:collapse;margin:.75em 0;table-layout:fixed;width:100%}th{border-bottom:1px solid #a6a6a6;font-weight:600;padding:.75em 0;text-align:left}td{border-bottom:1px solid #ddd;padding:.75em 0}tr,td,th{vertical-align:middle}body{color:#333;font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1em;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Avenir Next","Avenir","Segoe UI","Lucida Grande","Helvetica Neue","Helvetica","Fira Sans","Roboto","Noto","Droid Sans","Cantarell","Oxygen","Ubuntu","Franklin Gothic Medium","Century Gothic","Liberation Sans",sans-serif;font-size:1.25em;line-height:1.2;margin:0 0 .75em}p{margin:0 0 .75em}a{color:#0a5365;text-decoration:none;transition:color 150ms ease}a:active,a:focus,a:hover{color:#083e4c}hr{border-bottom:1px solid #ddd;border-left:0;border-right:0;border-top:0;margin:1em 0}.nowrap{white-space:nowrap}.region{max-width:1440px;margin-left:auto;margin-right:auto;clear:both;max-width:1400px;padding:1.5em 1em;vertical-align:baseline}.region::after{clear:both;content:"";display:block}@media only screen and (min-width: 640px){.region{padding:3em 1em}}@media only screen and (min-width: 1440px){.region{padding:3em 0}}.region--full-width{clear:both;margin:1.5em 0}@media only screen and (min-width: 640px){.region--full-width{margin:3em 0}}.region--full-width .region--full-width__wrapper{max-width:1440px;margin-left:auto;margin-right:auto;margin:0 auto;max-width:1400px;vertical-align:baseline}.region--full-width .region--full-width__wrapper::after{clear:both;content:"";display:block}.outer-container{max-width:1440px;margin-left:auto;margin-right:auto;width:100%}.outer-container::after{clear:both;content:"";display:block}.flex-center{align-items:center;display:flex;justify-content:center}.hide-for-small{display:none}@media only screen and (min-width: 450px){.hide-for-small{display:block}}.hide-for-medium{display:block}@media only screen and (min-width: 640px){.hide-for-medium{display:none}}@media only screen and (min-width: 860px){.hide-for-medium{display:block}}.hide-for-large{display:block}@media only screen and (min-width: 860px){.hide-for-large{display:none}}.sr-only{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.m0{margin:0}.breadcrumbs{font-size:1em;margin-top:-1.5em}.breadcrumbs i{margin-left:.5em}h1,h2,h3,h4,h5,h6{color:#0a5365;font-family:"Roboto Slab",Verdana,sans-serif;font-weight:300}h1,.h1{font-size:2.074em}@media only screen and (min-width: 640px){h1,.h1{font-size:2.441em}}h2,.h2{font-size:1.728em}@media only screen and (min-width: 640px){h2,.h2{font-size:1.953em}}h3,.h3{font-size:1.44em}@media only screen and (min-width: 640px){h3,.h3{font-size:1.563em}}h4,.h4{font-size:1.2em}@media only screen and (min-width: 640px){h4,.h4{font-size:1.25em}}h5,.h5{font-size:1.1em}h6,.h6{font-size:1em}.heading--bold{font-weight:700}.heading--sans-serif{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif}article h2,article h3,article h4,article h5,article h6{color:#9e023b;font-weight:400;margin-top:1.5em}article h2::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.page--post__main h1{color:#9e023b}.heading--underline::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--orange::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--magenta::after{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--eggshell::after{background:#fff8f3;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.heading--underline--right{position:relative;text-align:right}.heading--underline--right::after{background:#0a5365;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--orange{position:relative;text-align:right}.heading--underline--right--orange::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--magenta{position:relative;text-align:right}.heading--underline--right--magenta::after{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}.heading--underline--right--eggshell{position:relative;text-align:right}.heading--underline--right--eggshell::after{background:#fff8f3;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}a{color:#0a5365;transition:all .1s linear}a:hover,a:focus{color:#0f7993}.link--light{color:#fff8f3}.link--light:hover,.link--light:focus{color:#d3281b}.link--light--no-hover{color:#fff8f3}.link--light--no-hover:hover,.link--light--no-hover:focus{color:#fff8f3}.link--arrow{text-transform:uppercase}.link--arrow::after{content:'\f105';font-family:FontAwesome;font-size:1.25em;margin-left:.75em}p a,article ul a,article ol a,.link--inline{border-bottom:0.1em solid rgba(211,40,27,0.1);color:#d3281b}p a:hover,p a:focus,article ul a:hover,article ul a:focus,article ol a:hover,article ol a:focus,.link--inline:hover,.link--inline:focus{border-bottom:0.1em solid #9e023b;color:#9e023b}ul{list-style-type:square}ol{list-style-type:decimal}ul,ol{margin-bottom:1em;margin-left:2em}ul ul,ul ol,ol ul,ol ol{margin-bottom:0}ul ul,ul ul li,ul ol,ul ol li,ol ul,ol ul li,ol ol,ol ol li,ul p,ol p{font-size:1em !important}article ol,article ul{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.125em;line-height:1.625}article li{margin-bottom:.325em}article li li{margin-top:.325em}.list--bordered{display:flex;flex-wrap:wrap}@media only screen and (min-width: 640px){.list--bordered{flex-wrap:nowrap}}.list--bordered ul{border-left:solid 2px #f29c96;flex-basis:100%;margin:0;padding-left:1em}@media only screen and (min-width: 640px){.list--bordered ul{flex-basis:50%}}.list--bordered ul li{color:#0a5365;font-size:1.25em;padding:.25em 0}.list--bordered ul,.list--bordered li{list-style-type:none}body{color:#565d5e;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif}article{color:#06282d;word-wrap:break-word}article p{font-family:"Roboto",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.125em;line-height:1.625;margin-bottom:1em}article blockquote p{font-size:1.4em}.paragraph--small{font-size:1em}.paragraph--loud{font-size:1.25em}.paragraph--louder{font-size:1.563em}.paragraph--loud--responsive{font-size:1.25em}@media only screen and (min-width: 860px){.paragraph--loud--responsive{font-size:1.563em}}.button--arrow{background-color:transparent;border:solid 2px #0a5365;border-radius:0;color:#0a5365;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #0a5365;border-radius:0;color:#0a5365;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow:hover,.button--arrow:focus{background-color:#0f7993;border-color:#0f7993;color:#fff}@media only screen and (min-width: 640px){.button--arrow{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow::after{background-color:#0a5365;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow:hover::after,.button--arrow:focus::after{background-color:#0f7993;color:#fff}.button--arrow--magenta{background-color:transparent;border:solid 2px #9e023b;border-radius:0;color:#9e023b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #9e023b;border-radius:0;color:#9e023b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--magenta:hover,.button--arrow--magenta:focus{background-color:#d0034e;border-color:#d0034e;color:#fff}@media only screen and (min-width: 640px){.button--arrow--magenta{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--magenta::after{background-color:#9e023b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--magenta:hover::after,.button--arrow--magenta:focus::after{background-color:#d0034e;color:#fff}.button--arrow--orange{background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--orange:hover,.button--arrow--orange:focus{background-color:#e6473b;border-color:#e6473b;color:#fff}@media only screen and (min-width: 640px){.button--arrow--orange{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--orange::after{background-color:#d3281b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--orange:hover::after,.button--arrow--orange:focus::after{background-color:#e6473b;color:#fff}.button--arrow--white-teal{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-teal:hover,.button--arrow--white-teal:focus{background-color:#fff;border-color:#fff;color:#0f7993}@media only screen and (min-width: 640px){.button--arrow--white-teal{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-teal::after{background-color:#fff;color:#0a5365;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-teal:hover::after,.button--arrow--white-teal:focus::after{background-color:#fff;color:#0f7993}.button--arrow--white-magenta{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-magenta:hover,.button--arrow--white-magenta:focus{background-color:#fff;border-color:#fff;color:#d0034e}@media only screen and (min-width: 640px){.button--arrow--white-magenta{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-magenta::after{background-color:#fff;color:#9e023b;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-magenta:hover::after,.button--arrow--white-magenta:focus::after{background-color:#fff;color:#d0034e}.button--arrow--white-orange{background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #fff;border-radius:0;color:#fff;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.button--arrow--white-orange:hover,.button--arrow--white-orange:focus{background-color:#fff;border-color:#fff;color:#e6473b}@media only screen and (min-width: 640px){.button--arrow--white-orange{font-size:1.25em;padding:0 90px 0 30px}}.button--arrow--white-orange::after{background-color:#fff;color:#d3281b;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.button--arrow--white-orange:hover::after,.button--arrow--white-orange:focus::after{background-color:#fff;color:#e6473b}[type="submit"]{background-color:transparent;border:solid 2px #fff8f3;border-radius:0;color:#fff8f3;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:#0a5365;border-color:#0a5365;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;padding:1em 3em;text-transform:none}[type="submit"]:hover,[type="submit"]:focus{background-color:#fff;border-color:#fff;color:#0f7993}[type="submit"]:hover,[type="submit"]:focus{background-color:#0f7993;border-color:#0f7993;color:#fff}.case-study-block h3{transition:all .2s ease-in-out;margin-bottom:0}.case-study-block .case-study-block__image{transition:all .2s ease-in-out;background-position:center;background-repeat:no-repeat;background-size:70%;margin-bottom:.75em}@media only screen and (min-width: 640px){.case-study-block .case-study-block__image{background-size:50%}}@media only screen and (min-width: 860px){.case-study-block .case-study-block__image{background-size:70%}}@media only screen and (min-width: 1120px){.case-study-block .case-study-block__image{background-size:50%}}.case-study-block .case-study-block__image img{transition:all .2s ease-in-out;display:block}.case-study-block .case-study-block__tags p{font-size:1.25em;color:#565d5e;display:inline;text-transform:capitalize}.case-study-block .case-study-block__link:hover h3,.case-study-block .case-study-block__link:focus h3{color:#d3281b}.case-study-block .case-study-block__link:hover .case-study-block__image,.case-study-block .case-study-block__link:focus .case-study-block__image{background-color:#d3281b}.case-study-block .case-study-block__link:hover .case-study-block__image img,.case-study-block .case-study-block__link:focus .case-study-block__image img{opacity:.15}.case-study-block .case-study-block__link:hover .case-study-block__tags p,.case-study-block .case-study-block__link:focus .case-study-block__tags p{color:#06282d}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-angle-double-down:before{content:""}.fa-angle-right:before{content:""}.fa-building-o:before{content:""}.fa-circle:before{content:""}.fa-comment:before{content:""}.fa-comment-o:before{content:""}.fa-drupal:before{content:""}.fa-envelope-o:before{content:""}.fa-file-text:before{content:""}.fa-github:before{content:""}.fa-globe:before{content:""}.fa-linkedin:before{content:""}.fa-long-arrow-right:before{content:""}.fa-phone:before{content:""}.fa-stack-exchange:before{content:""}.fa-tags:before{content:""}.fa-twitter:before{content:""}label{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:bold}[type='color'],[type='date'],[type='datetime'],[type='datetime-local'],[type='email'],[type='month'],[type='number'],[type='password'],[type='search'],[type='tel'],[type='text'],[type='time'],[type='url'],[type='week'],input:not([type]),textarea{border-radius:0;color:#565d5e;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;padding:1.25em .75em}[type='color']:focus,[type='date']:focus,[type='datetime']:focus,[type='datetime-local']:focus,[type='email']:focus,[type='month']:focus,[type='number']:focus,[type='password']:focus,[type='search']:focus,[type='tel']:focus,[type='text']:focus,[type='time']:focus,[type='url']:focus,[type='week']:focus,input:not([type]):focus,textarea:focus{border-color:#b1b1b1;box-shadow:none}.header-navigation{float:none;z-index:9999999}@media only screen and (min-width: 640px){.header-navigation{clear:none;float:right;padding-bottom:0;padding-right:.75em}}.header-navigation__menu{clear:both;display:none;margin:0 auto;overflow:visible;padding:0;-webkit-transform-style:preserve-3d;width:100%;z-index:9999}@media only screen and (min-width: 640px){.header-navigation__menu{display:inline;margin:0;padding:0}}.header-navigation__menu.show{display:block}.header-navigation__mobile-menu-link{color:#06282d;display:block;float:right;font-weight:700;line-height:5.25em;margin:0;padding-right:1em;text-transform:uppercase}@media only screen and (min-width: 640px){.header-navigation__mobile-menu-link{display:none}}.header-navigation__mobile-menu-link:focus,.header-navigation__mobile-menu-link:hover{color:#9e023b}.header-navigation__menu-link{display:block;line-height:2.625em;overflow:hidden;padding-right:.8em;text-align:right;width:100%;z-index:9999}@media only screen and (min-width: 640px){.header-navigation__menu-link{display:inline;line-height:5.25em;margin-right:-5px;padding-right:0;width:auto}.header-navigation__menu-link:last-child{margin-right:0}}.header-navigation__menu-link:last-child:not(.header-navigation__active-nav-item):not(:hover):not(:focus) a{color:#9e023b}.header-navigation__menu-link:last-child a{font-weight:bold}.header-navigation__menu-link a{color:#06282d;display:inline-block;font-weight:400;text-transform:uppercase;transition:background-color ease .2s}.header-navigation__menu-link a:focus,.header-navigation__menu-link a:hover{color:#9e023b}@media only screen and (min-width: 640px){.header-navigation__menu-link a{padding-left:.75em;padding-right:.75em}.header-navigation__menu-link a:focus,.header-navigation__menu-link a:hover{background-color:rgba(158,2,59,0.9);color:#fff}}.header-navigation__active-nav-item{background-color:rgba(158,2,59,0.9)}@media only screen and (min-width: 640px){.header-navigation__active-nav-item{background-color:rgba(255,255,255,0.9);color:#06282d}}.header-navigation__active-nav-item a{color:#fff}@media only screen and (min-width: 640px){.header-navigation__active-nav-item a{background-color:rgba(158,2,59,0.9)}}.icon--job{align-items:center;background-color:#f3f6f7;border-radius:50%;display:flex;height:230px;justify-content:center;margin:2em auto 0;padding:1em;width:230px}.icon--job img{max-width:150px}.icon--service .icon--service__link{padding:0 .25em;width:100%}.icon--service .icon--service__image{transition:all .2s ease-in-out;border-radius:50%;height:4em;margin:0 auto;margin-bottom:.5em;padding:.75em;width:4em}.icon--service .icon--service__image img{transition:all .2s ease-in-out;display:block}.icon--service .icon--service__title{transition:all .2s ease-in-out;font-size:1.1em;max-width:100%;text-align:center}@media only screen and (min-width: 860px){.icon--service .icon--service__title{font-size:1.25em}}.icon--service--bold .icon--service__link:hover .icon--service__image,.icon--service--bold .icon--service__link:focus .icon--service__image{background-color:#d3281b}.icon--service--bold .icon--service__link:hover .icon--service__image img,.icon--service--bold .icon--service__link:focus .icon--service__image img{filter:brightness(0) invert(1)}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active){.icon--service--bold .icon--service__link:hover .icon--service__image,.icon--service--bold .icon--service__link:focus .icon--service__image{background:transparent}.icon--service--bold .icon--service__link:hover .icon--service__image img,.icon--service--bold .icon--service__link:focus .icon--service__image img{-moz-transform:scale(1.3);-webkit-transform:scale(1.3);transform:scale(1.3)}}.icon--service--bold .icon--service__link:hover .icon--service__title,.icon--service--bold .icon--service__link:focus .icon--service__title{color:#d3281b}.icon--service--subtle .icon--service__link{transition:all .2s ease-in-out;border-bottom:solid 3px transparent}.icon--service--subtle .icon--service__link:hover,.icon--service--subtle .icon--service__link:focus{border-color:#d3281b}.icon--service--subtle .icon--service__image{margin-bottom:0}.icon--service--subtle .icon--service__title{font-size:1em}.region--hero--company{background:url("/assets/img/bg/blue-bg-glow.jpg") #06282d center center no-repeat;background-size:cover;display:flex;justify-content:flex-start;margin:0;position:relative;width:100%}@media only screen and (min-width: 640px){.region--hero--company{height:calc(90vh - 84px);min-height:660px}}.region--hero--company.region--full-width{margin:0}.region--hero--company .region--hero--company__wrapper{display:block;left:0;margin:auto;padding:0;right:0;width:100%}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper{bottom:0;padding:0 1em;position:absolute}}@media only screen and (min-width: 1440px){.region--hero--company .region--hero--company__wrapper{padding:0}}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width{align-items:center;display:flex;flex-direction:column;padding:2em}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width h1,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a{color:#fff8f3}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width h1{font-family:"Roboto Slab",Verdana,sans-serif;text-align:center;text-shadow:#06282d 2px 2px 2px}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a::after{transition:all .2s ease-in-out}.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:hover::after,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:focus::after,.region--hero--company .region--hero--company__wrapper .region--hero--company__heading-full-width a:active::after{color:#d3281b}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col{align-items:center;display:flex}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text,.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{display:block;position:relative;width:100%}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text,.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{flex-basis:50%;height:50vh;min-height:440px}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text{background:#06282d;color:#fff8f3;display:flex;flex-direction:column;justify-content:center;padding:2em 1.5em}@media only screen and (min-width: 1120px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text{padding:2em 3em}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text h2{color:#fff8f3;font-size:1.25em}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text h2{font-size:1.75em}}@media only screen and (min-width: 640px){.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__text p{font-size:1.25em}}.region--hero--company .region--hero--company__wrapper .region--hero--company__two-col .region--hero--company__two-col__image{background:url("/assets/img/bg/company-hero.jpg") #06282d 10% center no-repeat;background-size:cover}.home__cover{align-items:center;background:url("/assets/img/bg/home-cover.jpg") #fff 50% center no-repeat;background-size:cover;display:flex;flex-direction:column;height:auto;justify-content:flex-start;position:relative;text-align:center;width:100%}@media only screen and (min-width: 640px){.home__cover{height:80vh;min-height:580px}}@media only screen and (min-width: 860px){.home__cover{height:75vh}}@media only screen and (min-width: 1120px){.home__cover{height:100vh;min-height:600px}}.home__cover .home__cover__heading,.home__cover .home__cover__cta{display:flex;flex-basis:100%;justify-content:center;margin:0 auto;max-width:100%;position:relative}.home__cover .home__cover__heading{clear:both;color:#06282d;display:block;font-size:1.5em;font-weight:400;margin-top:100px;max-width:400px;padding:1em 1em 3em;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__heading{font-size:3em;max-width:780px;padding:1em}}@media only screen and (min-width: 1120px){.home__cover .home__cover__heading{font-size:4em}}@media only screen and (min-width: 1440px){.home__cover .home__cover__heading{font-size:4.75em;max-width:800px}}.home__cover .home__cover__heading span{font-size:1.3em}.home__cover .home__cover__cta{margin-top:2em;padding-bottom:3em}@media only screen and (min-width: 640px){.home__cover .home__cover__cta{bottom:24%;left:0;margin-top:4em;position:absolute;text-align:center;width:100%}}.home__cover .home__cover__cta a{background-color:rgba(255,248,243,0.2);font-size:1em}@media only screen and (min-width: 640px){.home__cover .home__cover__cta a{font-size:1.25em}}.home__cover .home__cover__cta a:hover,.home__cover .home__cover__cta a:focus,.home__cover .home__cover__cta a:active{background-color:#0f7993}.home__cover .home__cover__content{display:block;margin-top:3em;position:relative;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__content{bottom:0;display:flex;height:20%;justify-content:flex-start;left:0;margin-top:0;position:absolute}}.home__cover .home__cover__content h2,.home__cover .home__cover__content h3{color:#fff8f3;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:normal;margin:0;padding:0}.home__cover .home__cover__content .home__cover__content__col-left,.home__cover .home__cover__content .home__cover__content__col-right{background-color:rgba(6,40,45,0.8);bottom:0;padding:0;text-align:center}.home__cover .home__cover__content .home__cover__content__col-left{background-color:#9e023b;background-image:url("assets/img/hp-arrow.svg");background-position:right center;background-repeat:no-repeat;background-size:cover;display:block;position:relative;width:100%;z-index:2}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left{background-color:rgba(6,40,45,0.8);display:flex;flex-basis:40%;justify-content:flex-end}}.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text{display:block;padding:.5em 1em;position:relative}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text{align-items:center;display:flex;max-width:446px;padding:0 4em 0 1em;position:relative;z-index:1}}.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:.85em;text-align:center}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:1em;max-width:240px}}@media only screen and (min-width: 1120px){.home__cover .home__cover__content .home__cover__content__col-left .home__cover__content__col-left__text h2{font-size:1.25em}}.home__cover .home__cover__content .home__cover__content__col-right{display:block;position:relative;width:100%;z-index:1}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right{display:flex;flex-basis:60%;justify-content:flex-start}}.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text{display:block;padding:.5em 1em;width:100%}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text{align-items:center;display:flex;justify-content:flex-start;max-width:890px;padding:0 2em}}.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1em;font-weight:300;text-align:center;text-transform:uppercase}@media only screen and (min-width: 640px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1.5em;text-align:left;text-transform:none}}@media only screen and (min-width: 1120px){.home__cover .home__cover__content .home__cover__content__col-right .home__cover__content__col-right__text h3{font-size:1.75em}}.region--hero--careers{background-color:#06282d;background-image:url("/assets/img/bg/careers-hero.jpg");background-position:center center;background-size:cover;height:60vh;margin:0}@media only screen and (min-width: 860px){.region--hero--careers{height:70vh}}.region--hero--careers.position{background-image:url("/assets/img/bg/careers-hero-mktn-dir.jpg");height:30vh}.region--hero--mission-values{background-color:#06282d;background-image:url("/assets/img/bg/mission-values-hero.jpg");background-position:center center;background-size:cover;margin:0}.region--hero--mission-values .region--hero__text{color:#fff8f3}.region--hero--mission-values .region--hero__text h1{color:#fff8f3;text-shadow:#06282d 2px 2px 2px}@media only screen and (min-width: 640px){.region--hero--mission-values .region--hero__text p{font-size:1.25em}}.region--hero--open-source{background-color:#fff;background-image:url("/assets/img/bg/os-bg.png");background-repeat:repeat-x;background-size:contain}.region--hero--open-source .region--hero__wrapper{padding:2em 1em}@media only screen and (min-width: 640px){.region--hero--open-source .region--hero__wrapper{padding:0}}.region--hero--open-source .region--hero__image img{max-width:90%}.region--hero--open-source .region--hero__text h1{color:#d3281b;font-size:2.074em;margin-bottom:0}@media only screen and (min-width: 860px){.region--hero--open-source .region--hero__text h1{font-size:2.441em}}.region--hero--open-source .region--hero__badges{align-items:flex-end}.region--hero--open-source .region--hero__badges img{height:auto;margin-bottom:2em;max-width:80%;width:140px}.region--hero--three-col.region--hero--open-source .region--hero__image{flex-basis:70%;order:2}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__image{flex-basis:40%}}.region--hero--three-col.region--hero--open-source .region--hero__text{order:1;width:100%}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__text{flex-basis:40%;order:2}}@media only screen and (min-width: 1120px){.region--hero--three-col.region--hero--open-source .region--hero__text{padding-left:2em}}.region--hero--three-col.region--hero--open-source .region--hero__badges{display:flex;flex-basis:30%;flex-direction:column;justify-content:center;order:3}@media only screen and (min-width: 640px){.region--hero--three-col.region--hero--open-source .region--hero__badges{display:flex;flex-basis:20%;order:3}}@media only screen and (min-width: 1120px){.region--hero--three-col.region--hero--open-source .region--hero__badges{flex-basis:20%}}.region--hero--results{background-color:#06282d;color:#fff8f3}.region--hero--results .region--hero__text h1{color:#fff8f3}.region--hero--results .region--hero__image{background-image:url("/assets/img/bg/results-hero.jpg")}.region--hero--services{background-color:#9e023b;margin:0}.region--hero--services .region--hero__text{color:#fff8f3;display:flex;flex-direction:column;justify-content:center}.region--hero--services .region--hero__text h1{color:#fff8f3}.region--hero--services .region--hero__text a,.region--hero--services .region--hero__text a:hover,.region--hero--services .region--hero__text a:focus{color:#fff8f3 !important}@media only screen and (min-width: 640px){.region--hero--services .region--hero__text p{font-size:1.25em}}.region--hero--services .region--hero__image{background-image:url("/assets/img/bg/services-hero.jpg");background-position:10% center}.region--hero--services .region--hero__image.durham{background-image:url("/assets/img/bg/durham-deck.jpg")}.region--hero{margin:0 0 2em}.region--hero .region--hero__wrapper{display:flex;flex-wrap:wrap;justify-content:flex-start;width:100%}@media only screen and (min-width: 640px){.region--hero .region--hero__wrapper{flex-wrap:nowrap}}.region--hero h1{width:100%}@media only screen and (min-width: 640px){.region--hero--half-height .region--hero__wrapper{min-height:calc(50vh - 84px)}}.region--hero--full-width .region--hero__text{align-content:center;display:flex;flex-basis:100%;flex-direction:column;flex-grow:0;flex-shrink:0;justify-content:flex-end;margin:0 auto;max-width:600px;min-height:200px;padding:3em 2em;text-align:center}.region--hero--half-width .region--hero__text,.region--hero--half-width .region--hero__image{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text,.region--hero--half-width .region--hero__image{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}}.region--hero--half-width .region--hero__text{color:#fff8f3;padding:3em 1em}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text{order:1;padding:4em 2em 4em 1em}}.region--hero--half-width .region--hero__text h1{font-size:1.25em}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__text h1{font-size:1.953em}}.region--hero--half-width .region--hero__image{background-color:#06282d;background-position:center center;background-repeat:no-repeat;background-size:cover;order:1}@media only screen and (min-width: 640px){.region--hero--half-width .region--hero__image{order:2}}.region--hero--two-thirds-width .region--hero__wrapper{flex-wrap:wrap}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__wrapper{flex-wrap:nowrap}}.region--hero--two-thirds-width .region--hero__text,.region--hero--two-thirds-width .region--hero__image{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text,.region--hero--two-thirds-width .region--hero__image{display:flex;flex-direction:column;justify-content:center}}.region--hero--two-thirds-width .region--hero__text{margin:3em 0}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text{flex-basis:35%;padding:4em 0}}.region--hero--two-thirds-width .region--hero__text h1{padding:0 20px}.region--hero--two-thirds-width .region--hero__text p,.region--hero--two-thirds-width .region--hero__text a{padding:0 2em 0 20px}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__text p{font-size:1.25em}}.region--hero--two-thirds-width .region--hero__text a{font-size:1em}.region--hero--two-thirds-width .region--hero__text a:hover,.region--hero--two-thirds-width .region--hero__text a:focus,.region--hero--two-thirds-width .region--hero__text aactive{color:#d3281b}.region--hero--two-thirds-width .region--hero__image{background-color:#06282d;background-position:center center;background-repeat:no-repeat;background-size:cover}@media only screen and (min-width: 860px){.region--hero--two-thirds-width .region--hero__image{flex-basis:65%}}.region--hero--three-col .region--hero__wrapper{flex-wrap:wrap;justify-content:space-around}@media only screen and (min-width: 860px){.region--hero--three-col .region--hero__wrapper{flex-wrap:nowrap}}.region--hero--three-col .region--hero__col{flex-basis:100%;flex-grow:0;flex-shrink:0;min-height:200px}@media only screen and (min-width: 640px){.region--hero--three-col .region--hero__col{display:flex;flex-basis:33.33%;flex-direction:column;justify-content:center;padding:1em}}.key-value-list__item{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 640px){.key-value-list__item{flex-wrap:nowrap}}.key-value-list__item:first-child{padding-top:0}.key-value-list__item>div{width:100%}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__key{padding:3em 3em 3em 1em;width:35%}}.key-value-list__item .key-value-list__item__key h3::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__key h3{position:relative;text-align:right}.key-value-list__item .key-value-list__item__key h3::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px;position:absolute;right:0}}.key-value-list__item .key-value-list__item__value{padding-bottom:2em}@media only screen and (min-width: 640px){.key-value-list__item .key-value-list__item__value{border-left:solid 1px #d3281b;padding:3em 1em 3em 3em;width:65%}}.savas-logo{display:block;height:5.25em;padding:1.5em 0}.savas-logo--main{display:block;height:2.25em;margin:1.5em 0;padding:0;width:5.125em}.table--minimal,article table{border-collapse:separate;border-spacing:0;width:100%}.table--minimal th,article table th{text-align:left}.table--minimal td,article table td{line-height:1.5}.table--minimal thead th,article table thead th{background-color:#fff;border-bottom:0;padding:0.75em 1em}.table--minimal tbody,article table tbody{background-color:#fff}.table--minimal tbody td,article table tbody td{border-bottom:0;border-top:1px solid #ddd;padding:0.75em 1em}.table--minimal tbody td button,article table tbody td button{display:inline-block;font-size:.7em;line-height:1.5;margin-bottom:.3em;margin-right:.5em;outline:none;padding:.3em 1em;width:100%}@media only screen and (min-width: 640px){.table--minimal tbody td button,article table tbody td button{margin-bottom:0;width:auto}}.table--minimal tbody tr:hover>td,.table--minimal tbody tr:hover>th,article table tbody tr:hover>td,article table tbody tr:hover>th{background-color:#fafafa}.table--minimal tbody tr:first-child td,article table tbody tr:first-child td{border-top:2px solid #ddd}.table--minimal tbody tr:first-child td,.table--minimal tbody tr td,article table tbody tr:first-child td,article table tbody tr td{border-color:#565d5e}.table--minimal tbody tr:hover>td,.table--minimal tbody tr:hover>th,.table--minimal tbody tr:focus>td,.table--minimal tbody tr:focus>th,article table tbody tr:hover>td,article table tbody tr:hover>th,article table tbody tr:focus>td,article table tbody tr:focus>th{transition:all .2s ease-in-out;background-color:#f3f6f7;color:#06282d}.table--minimal tbody ul,article table tbody ul{margin:0}.table--minimal tbody ul,.table--minimal tbody li,article table tbody ul,article table tbody li{list-style-type:none}article table{margin-bottom:3em;margin-top:3em}.tile{position:relative}.tile .tile__hover{align-items:center;color:#fff8f3;display:flex;flex-direction:column;justify-content:center;left:0;opacity:0;padding:1em;position:absolute;text-align:center;top:0;transition:all .3s ease;width:100%;z-index:1}.tile .tile__hover p:first-child{margin-bottom:1.5em;max-width:15em}.tile .tile__hover .link--cta{margin-bottom:0;transition:all .2s ease-in-out}.tile:hover .tile__hover,.tile:focus .tile__hover{opacity:1}.tile:hover .tile--blog--detailed__primary-tag,.tile:focus .tile--blog--detailed__primary-tag{margin-left:1em}.tile:hover .tile--blog__post-title .tile--blog--detailed__author-bg,.tile:focus .tile--blog__post-title .tile--blog--detailed__author-bg{bottom:0;right:0}@media only screen and (min-width: 1120px){.tile p{font-size:1.1em}}.tile--title--blog{padding:2em}.tile--blog .tile--blog__content{align-items:center;display:flex;flex-direction:column;justify-content:center;position:relative;z-index:0}.tile--blog .tile--blog__content>div{height:150px}@media only screen and (min-width: 450px){.tile--blog .tile--blog__content>div{height:200px}}@media only screen and (min-width: 640px){.tile--blog .tile--blog__content>div{height:150px}}@media only screen and (min-width: 1120px){.tile--blog .tile--blog__content>div{height:175px}}@media only screen and (min-width: 1440px){.tile--blog .tile--blog__content>div{height:200px}}.tile--blog .tile--blog__content .tile--blog__image{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%}.tile--blog .tile--blog__content .tile--blog__post-title{align-items:center;color:#06282d;display:flex;padding:1em;width:100%}.tile--blog .tile--blog__content .tile--blog__post-title p::before{background:#9e023b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}.tile--blog .tile--blog__hover{height:300px}@media only screen and (min-width: 450px){.tile--blog .tile--blog__hover{height:400px}}@media only screen and (min-width: 640px){.tile--blog .tile--blog__hover{height:300px}}@media only screen and (min-width: 1120px){.tile--blog .tile--blog__hover{height:350px}}@media only screen and (min-width: 1440px){.tile--blog .tile--blog__hover{height:400px}}.tile--blog--detailed{flex-basis:auto;flex-grow:0}.tile--blog--detailed .tile--blog__image{position:relative}.tile--blog--detailed .tile--blog__image .tile--blog--detailed__primary-tag{background-color:#0a5365;bottom:1em;color:#fff8f3;font-size:.9em;font-style:italic;left:-1em;margin-bottom:0;padding:.25em 1em;position:absolute;text-transform:uppercase;transition:all .3s ease-in-out}.tile--blog--detailed .tile--blog__post-title{position:relative;z-index:99}.tile--blog--detailed .tile--blog__post-title p{padding-right:44px}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author{bottom:0;position:absolute;right:0;z-index:999}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author img{display:block;filter:grayscale(100%);height:60px;width:60px}.tile--blog--detailed .tile--blog__post-title .tile--blog--detailed__author-bg{background-color:rgba(10,83,101,0.2);bottom:-8px;height:60px;position:absolute;right:-8px;transition:all .3s ease-in-out;width:60px}.tile--blog--detailed.tile--blog .tile--blog__hover{margin:1em;width:calc(100% - 2em)}.tile--blog--latest{background-position:center center;background-repeat:no-repeat;background-size:cover}.tile--blog--latest .tile--blog--latest__link{position:relative;display:flex;flex-direction:column;justify-content:flex-end}.tile--blog--latest .tile--blog--latest__link::after{background-color:transparent;bottom:0;content:'';height:5px;left:0;position:absolute;transition:all .5s ease;width:0;z-index:1}.tile--blog--latest .tile--blog--latest__link:hover::after,.tile--blog--latest .tile--blog--latest__link:focus::after{background-color:#d3281b;width:100%}.tile--blog--latest .tile--blog--latest__link:hover .tile--blog--latest__text,.tile--blog--latest .tile--blog--latest__link:focus .tile--blog--latest__text{background-color:rgba(255,248,243,0.9);color:#06282d}.tile--blog--latest .tile--blog--latest__link:hover .tile--blog--latest__text h2,.tile--blog--latest .tile--blog--latest__link:focus .tile--blog--latest__text h2{color:#06282d}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text{transition:all .2s ease-in-out;background-color:rgba(6,40,45,0.9);color:#fff8f3;padding:1em}@media only screen and (min-width: 860px){.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text{padding:1em 2em}}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text h2{transition:all .2s ease-in-out;color:#fff8f3}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__author,.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__date{display:inline;font-style:italic;margin-bottom:0}.tile--blog--latest .tile--blog--latest__link .tile--blog--latest__text .tile--blog--latest__text__date{float:right}.tile--service .tile--service__link{position:relative;background-color:#f3f6f7;display:block}.tile--service .tile--service__link::after{background-color:transparent;bottom:0;content:'';height:5px;left:0;position:absolute;transition:all .5s ease;width:0;z-index:1}.tile--service .tile--service__link:hover,.tile--service .tile--service__link:focus{background-color:#0a5365;color:#fff8f3}.tile--service .tile--service__link:hover::after,.tile--service .tile--service__link:focus::after{background-color:#d3281b;width:100%}.tile--service .tile--service__link:hover .tile--service__image,.tile--service .tile--service__link:focus .tile--service__image{filter:brightness(0) invert(1)}.tile--service .tile--service__link:hover h2,.tile--service .tile--service__link:focus h2{color:#fff8f3}.tile--service .tile--service__content{max-width:668px;padding:1em}@media only screen and (min-width: 450px){.tile--service .tile--service__content{align-items:flex-start;display:flex}}@media only screen and (min-width: 640px){.tile--service .tile--service__content{display:block;padding:2em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content{display:flex;justify-content:flex-start;padding:3em 2em}}.tile--service .tile--service__content h2,.tile--service .tile--service__content p{transition:all .2s ease-in-out}.tile--service .tile--service__content .tile--service__image{transition:all .2s ease-in-out;display:block;float:left;height:60px;margin-right:1em;min-height:60px;min-width:60px;width:60px}@media only screen and (min-width: 450px){.tile--service .tile--service__content .tile--service__image{float:none;margin-right:2em}}@media only screen and (min-width: 640px){.tile--service .tile--service__content .tile--service__image{float:left;margin-right:1em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content .tile--service__image{float:none;margin-right:2em}}.tile--service .tile--service__content .tile--service__title{font-weight:normal;margin-bottom:1em;margin-top:.5em}@media only screen and (min-width: 640px){.tile--service .tile--service__content .tile--service__title{font-size:1.44em}}@media only screen and (min-width: 860px){.tile--service .tile--service__content .tile--service__title{font-size:1.953em}}@media only screen and (min-width: 1120px){.tile--service .tile--service__content .tile--service__summary{font-size:1.25em}}.tile--service .tile--service__content .tile--service__cta{margin-bottom:0}.region--banner--heading{background:url("/assets/img/bg/diamond-texture.svg") #0a5365 repeat;margin:0 0 .75em}.region--banner--heading .region--banner--heading__text{padding:1em}@media only screen and (min-width: 640px){.region--banner--heading .region--banner--heading__text{align-items:center;display:flex;justify-content:space-between;padding:2em 1em}}@media only screen and (min-width: 1440px){.region--banner--heading .region--banner--heading__text{padding:2em 3em 2em 0}}.region--banner--heading .region--banner--heading__text h1,.region--banner--heading .region--banner--heading__text h1::after{margin-bottom:0}.region--banner--heading .region--banner--heading__text p{font-style:italic;margin-bottom:0;margin-top:1em;text-transform:uppercase}@media only screen and (min-width: 640px){.region--banner--heading .region--banner--heading__text p{margin-top:0}}.region--blog-tiles__wrapper{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 860px){.region--blog-tiles__wrapper{flex-wrap:nowrap}}.region--blog-tiles__wrapper>div{border-bottom:6px solid #fff;display:flex;flex-basis:100%}@media only screen and (min-width: 640px){.region--blog-tiles__wrapper>div{flex-basis:50%}.region--blog-tiles__wrapper>div:not(:nth-child(even)){border-right:6px solid #fff}}@media only screen and (min-width: 860px){.region--blog-tiles__wrapper>div{flex-basis:25%}.region--blog-tiles__wrapper>div:not(:last-child){border-right:6px solid #fff}}.region--blog-tiles__wrapper>div a{display:block;width:100%}.region--blog-tiles__view-all-link{padding:1em;text-align:center}.region--blog-tiles--all .region--blog-tiles--all__tiles{display:flex;flex-wrap:wrap;justify-content:flex-start}.region--blog-tiles--all .region--blog-tiles--all__tiles>div{padding:1em;width:100%}@media only screen and (min-width: 640px){.region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:50%}}@media only screen and (min-width: 860px){.region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:33.333%}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper{display:flex;flex-wrap:wrap;justify-content:space-between}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper{flex-direction:column;height:700px}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest{margin-bottom:.5em;width:100%}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest{align-self:flex-end;margin:0;width:50%}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child{align-self:flex-start}}.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{height:300px}@media only screen and (min-width: 640px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{border:0;height:450px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest a{height:350px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child,.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child a{height:700px}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:first-child a{border-right:6px solid #fff}}@media only screen and (min-width: 860px){.region--blog-tiles--latest .region--blog-tiles--latest__wrapper .tile--blog--latest:nth-child(2) a{border-bottom:6px solid #fff}}.region--case-study-blocks .region--case-study-blocks__title{color:#06282d;margin-bottom:1.5em}.region--case-study-blocks .region--case-study-blocks__case-studies{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies{justify-content:space-between}}.region--case-study-blocks .region--case-study-blocks__case-studies>div{width:100%}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies>div{width:49%}}.region--case-study-blocks .region--case-study-blocks__case-studies .case-study-block{margin-bottom:3em}.region--case-study-blocks .region--case-study-blocks__case-studies .case-study-block__title{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700;margin-bottom:0}.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta{margin-top:0}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta{margin-top:0}}.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{font-size:1em}@media only screen and (min-width: 450px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{font-size:1.25em}}@media only screen and (min-width: 860px){.region--case-study-blocks .region--case-study-blocks__case-studies .region--case-study-blocks__cta a{margin-bottom:134px}}@media only screen and (min-width: 640px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies{justify-content:flex-start}}.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{padding:1em}@media only screen and (min-width: 640px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{width:50%}}@media only screen and (min-width: 860px){.region--case-study-blocks.region--case-study-blocks--small .region--case-study-blocks__case-studies>div{width:33.333%}}.region--centered-paragraph .region--centered-paragraph__text{color:#06282d;margin:0 auto;max-width:500px;padding:2em;text-align:center}.region--centered-paragraph--white{background-color:#fff}.region--header{background-color:rgba(255,255,255,0.9);min-height:5.25em;width:100%;z-index:999}.region--header a{text-decoration:none}.region--header .region--header__wrapper{max-width:1440px;margin-left:auto;margin-right:auto;position:relative;z-index:9999}.region--header .region--header__wrapper::after{clear:both;content:"";display:block}.region--header .region--header__logo{display:inline-block;float:left;height:5.25em;margin:0;padding-left:1em}@media only screen and (min-width: 640px){.region--header .region--header__logo{padding-left:1.5em;padding-right:1em}}.region--post-aside{margin-top:3em}@media only screen and (min-width: 860px){.region--post-aside{float:left;margin-top:0;width:33.333%}}.region--post-aside .region--post-aside__section{padding:3em 1em}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section{padding:3em 1.5em}}@media only screen and (min-width: 1120px){.region--post-aside .region--post-aside__section{padding:3em 2em}}.region--post-aside .region--post-aside__section__wrapper--posts{border-bottom:solid 1px #bdc2c3}.region--post-aside .region--post-aside__section__wrapper--posts .tile--blog__hover{margin:0;width:100%}@media only screen and (min-width: 640px){.region--post-aside .region--post-aside__section__items{display:flex;justify-content:space-between}}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section__items{display:block}}.region--post-aside .region--post-aside__section__items>div{margin-bottom:1em}@media only screen and (min-width: 640px){.region--post-aside .region--post-aside__section__items>div{flex-grow:0;margin-bottom:0;width:48.5%}}@media only screen and (min-width: 860px){.region--post-aside .region--post-aside__section__items>div{margin-bottom:1em;width:100%}}.region--post-aside h2{font-weight:400}.region--post-aside .region--post-aside__section--case-studies .case-study-block__title{font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:400}.region--post-aside .region--post-aside__section--case-studies__cta{margin-top:3em}.region.region--service-icons{align-content:flex-start;display:flex;flex-wrap:wrap;justify-content:space-between;padding-bottom:1.5em;padding-top:1.5em;width:100%}.region.region--service-icons>div{align-content:center;display:flex;flex:1;flex-basis:50%;justify-content:flex-start;margin:.5em 0;width:50%}@media only screen and (min-width: 640px){.region.region--service-icons>div{flex-basis:25%;margin:0;width:25%}}.region--service-tiles{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:.25em}.region--service-tiles>div{border-bottom:6px solid #fff;display:flex;flex-basis:100%;width:100%}@media only screen and (min-width: 640px){.region--service-tiles>div{flex-basis:50%;width:50%}.region--service-tiles>div:first-child .tile--service__link,.region--service-tiles>div:nth-child(3) .tile--service__link{border-right:6px solid #fff}}.region--service-tiles>div .tile--service__link{width:100%}@media only screen and (min-width: 1440px){.region--service-tiles>div:first-child .tile--service__link,.region--service-tiles>div:nth-child(3) .tile--service__link{display:flex;justify-content:flex-end}}.page--blog .region--banner--heading{margin-bottom:6px}.page--blog .region--banner--heading h1::after{background:#d3281b;content:'';display:block;height:1px;margin:10px 0 .5em;width:30px}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper{display:flex}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-tiles--all{flex-basis:75%}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:50%}}@media only screen and (min-width: 1120px){.page--blog .page--blog__wrapper .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:33.333%}}@media only screen and (min-width: 860px){.page--blog .page--blog__wrapper .region--blog-topics{flex-basis:25%}}.page--blog .region--blog-tiles--latest,.page--blog .region--footer{margin-top:0}.page--blog .pagination{margin-top:3em}.page--blog .region--banner--open-source{margin-bottom:0}.page--case-study{color:#06282d}.page--case-study header{position:absolute}.page--case-study .case-study__header{background-color:#fff;background-position:right bottom;background-repeat:no-repeat;background-size:160%;display:flex;flex-direction:column;justify-content:center;padding-bottom:60%;padding-top:84px}@media only screen and (min-width: 640px){.page--case-study .case-study__header{background-position:65% center;background-size:cover;min-height:calc(50vh - 84px);padding-bottom:0}}@media only screen and (min-width: 1120px){.page--case-study .case-study__header{background-position:right center}}.page--case-study .case-study__header .case-study__header__wrapper{display:flex;justify-content:flex-start;margin:0 auto;max-width:1440px;padding:2em 1em}.page--case-study .case-study__header .case-study__header__text{color:#06282d;flex-basis:100%}@media only screen and (min-width: 640px){.page--case-study .case-study__header .case-study__header__text{flex-basis:44%}}.page--case-study .case-study__header .case-study__header__text h1{color:#06282d;font-size:1.75em}@media only screen and (min-width: 640px){.page--case-study .case-study__header .case-study__header__text h1{font-size:2.074em}}@media only screen and (min-width: 860px){.page--case-study .case-study__header .case-study__header__text p{font-size:1.25em}}.page--case-study .case-study__client-highlights,.page--case-study .case-study__objective-approach,.page--case-study .case-study__results{display:flex;margin:3em auto;max-width:1440px}.page--case-study .case-study__client-highlights>div,.page--case-study .case-study__objective-approach>div,.page--case-study .case-study__results>div{padding:1em}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights div:first-child,.page--case-study .case-study__objective-approach div:first-child,.page--case-study .case-study__results div:first-child{padding-right:3em}}.page--case-study .case-study__client-highlights h2,.page--case-study .case-study__objective-approach h2,.page--case-study .case-study__results h2{color:#06282d;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700}.page--case-study .case-study__client-highlights{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights{flex-wrap:nowrap}}.page--case-study .case-study__client-highlights .case-study__client-highlights__client{color:#565d5e;flex-basis:100%}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client{flex-basis:50%;flex-wrap:nowrap;padding-right:6em}}@media only screen and (min-width: 1120px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client{flex-basis:66.66%}}.page--case-study .case-study__client-highlights .case-study__client-highlights__client img{display:block;height:auto;margin:0 1em 1em 0;max-width:200px}@media only screen and (min-width: 860px){.page--case-study .case-study__client-highlights .case-study__client-highlights__client img{display:inline-block;float:left;margin:0 2em 1em 0}}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{flex-basis:50%;flex-wrap:nowrap}}@media only screen and (min-width: 1120px){.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights{flex-basis:33.33%}}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights h2{border-bottom:solid 1px #06282d}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights ul{margin:0}.page--case-study .case-study__client-highlights .case-study__client-highlights__highlights ul li{color:#06282d;list-style:none}.page--case-study .case-study__objective-approach{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__objective-approach{flex-wrap:nowrap}}.page--case-study .case-study__objective-approach .case-study__objective-approach__objective,.page--case-study .case-study__objective-approach .case-study__objective-approach__approach{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__objective-approach .case-study__objective-approach__objective,.page--case-study .case-study__objective-approach .case-study__objective-approach__approach{flex-basis:50%;flex-wrap:nowrap}}.page--case-study .case-study__results{flex-grow:0;flex-shrink:0;flex-wrap:wrap}@media only screen and (min-width: 640px){.page--case-study .case-study__results{flex-wrap:nowrap}}.page--case-study .case-study__results .case-study__results__results,.page--case-study .case-study__results .case-study__results__details{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 640px){.page--case-study .case-study__results .case-study__results__results,.page--case-study .case-study__results .case-study__results__details{flex-basis:50%;flex-wrap:nowrap}}.page--case-study .region--client-quote--last{margin-bottom:0}.page--case-study .pagination{margin-bottom:3em;margin-top:0}@media only screen and (min-width: 640px){.page--contact__content{max-width:80%}}@media only screen and (min-width: 860px){.page--contact__content{max-width:1400px}}@media only screen and (min-width: 860px){.page--contact__content .page--contact__content-wrapper{display:flex;justify-content:space-between}}@media only screen and (min-width: 860px){.page--contact__copy{margin-right:1.5em;max-width:350px}}.page--contact__copy .table--minimal--contact{margin-top:1.5em}.page--contact__copy .table--minimal__first-column{width:33.333%}.page--contact__copy .table--minimal--contact__label{font-weight:bold}.page--contact__image{text-align:center}@media only screen and (min-width: 860px){.page--contact__image{flex-basis:50%;text-align:right}}.page--contact__image img{display:block;margin-bottom:3em}.page--contact__image h2{font-weight:400;margin-bottom:0}.page--contact__image a{color:#d3281b}.page--contact__image a:hover,.page--contact__image a:focus{color:#9e023b}.page--home header{position:absolute;top:0}.page--home .region--case-study-tiles{margin-top:0}.page--home .tile--title--blog,.page--home .tile--blog{flex-basis:300px;flex-grow:1}@media only screen and (min-width: 860px){.page--home .tile--title--blog,.page--home .tile--blog{width:25%}}.page--basic .page--basic__content{padding:1.5em 1em 3em}@media only screen and (min-width: 860px){.page--basic .page--basic__content{width:calc(66.6666666667% - 33.3333333333px);float:left;margin-left:20px;left:calc(16.6666666667% - 23.3333333333px + 20px);position:relative}}.page--basic .page--basic__title{margin:1.25em 0 .25em;text-align:center}.page--basic .region--banner--heading__text h1{margin:0 auto}.page--basic .region--cta{border-top:solid 1px #bdc2c3}@media only screen and (min-width: 860px){.page--basic .region--cta{width:calc(66.6666666667% - 33.3333333333px);float:left;margin-left:20px;left:calc(16.6666666667% - 23.3333333333px + 20px);position:relative}}.region--footer{clear:both}.page--post .region--header{border-bottom:solid 1px #bdc2c3}@media only screen and (min-width: 860px){.page--post .page--post__main{border-right:solid 1px #bdc2c3;float:left;padding-bottom:3em;width:66.666%}}.page--post .page--post__main .region--post-header,.page--post .page--post__main .region--post-content{padding:0 1em}@media only screen and (min-width: 640px){.page--post .page--post__main .region--post-header,.page--post .page--post__main .region--post-content{padding:0 1.5em}}.page--post .page--post__main .region--post-header{margin:3em 0}@media only screen and (min-width: 1120px){.page--post .page--post__main .region--post-header{padding-right:2em}}.page--post .page--post__main .region--post-header .region--post-header__title{font-weight:400;margin-bottom:1.5em}@media only screen and (min-width: 1120px){.page--post .page--post__main .region--post-content{padding:0 4em}}@media only screen and (min-width: 1280px){.page--post .page--post__main .region--post-content{padding:0 5em}}@media only screen and (min-width: 1360px){.page--post .page--post__main .region--post-content{padding:0 7em}}@media only screen and (min-width: 1440px){.page--post .page--post__main .region--post-content{padding:0 8em}}.page--post .page--post__main .region--post-content .caption{color:#565d5e;font-style:italic}.page--post .page--post__aside{border-bottom:solid 1px #bdc2c3;margin-top:0}@media only screen and (min-width: 860px){.page--post .page--post__aside{border-bottom:0;border-top:0}}.page--post .region--prev-next-links--post{clear:both;display:none}@media only screen and (min-width: 860px){.page--post .region--prev-next-links--post{display:flex}}.page--post .region--prev-next-links--mobile{display:flex;margin-top:3em}@media only screen and (min-width: 860px){.page--post .region--prev-next-links--mobile{display:none}}.page--post .region--footer{margin-top:0}@media only screen and (min-width: 640px){.region--post-header__post-info{display:flex}.region--post-header__post-info>div{width:50%}}.region--post-header__post-info p{font-style:italic;margin-bottom:.25em}.region--post-header__post-info i{margin-right:.5em}.region--post-header__post-info .post-author:not(:first-child){clear:left;margin-top:1em}.region--post-header__post-info .post-author picture{float:left;margin-right:1em}.region--post-header__post-info .post-author picture img{display:block;height:60px;width:60px}.region--post-header__post-info .region--post-header__post-info__stats{clear:both;margin-top:1.5em}@media only screen and (min-width: 640px){.region--post-header__post-info .region--post-header__post-info__stats{clear:none;margin-top:0}}.region--post-header__post-info .region--post-header__post-info__stats p{display:inline-block;margin-right:1em}@media only screen and (min-width: 640px){.region--post-header__post-info .region--post-header__post-info__stats p{display:block;margin-right:0}}.page--service .region--header{border-bottom:solid 1px #0f7993}.page--service .region.region--service-icons{border-bottom:solid 1px #0f7993;padding:.25em 0 0}.page--service .page--service__content{background-position:calc(100% + 80px) center;background-repeat:no-repeat;background-size:contain;margin:0 auto;max-width:1400px}@media only screen and (min-width: 860px){.page--service .page--service__content{background-position:right center}}.page--service .page--service__content .page--service__content__main{background-color:#fff;width:100%}@media only screen and (min-width: 640px){.page--service .page--service__content .page--service__content__main{padding-bottom:3em;width:66.666%}}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main{width:66.666%}}.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:3em 1em}@media only screen and (min-width: 860px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:1.5em 1em 1em}}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:3em}}@media only screen and (min-width: 1440px){.page--service .page--service__content .page--service__content__main .page--service__content__text{padding:4.5em 3em 1.5em}}@media only screen and (min-width: 860px){.page--service .page--service__content .page--service__content__main .page--service__content__text h1{margin:.67em 0}}.page--service .page--service__content .page--service__content__main .page--service__content__text .page--service__content__services{padding:1.5em 0 3em}@media only screen and (min-width: 1120px){.page--service .page--service__content .page--service__content__main .page--service__content__text .page--service__content__services{padding:3em 0}}.page--service .region--client-quote{margin-top:0}.page--service .region--blog-tiles{margin:0}.page--service .case-study-block__title{font-size:1.44em}@media only screen and (min-width: 640px){.page--service .case-study-block__title{font-size:1.563em}}.page--service .region--footer{margin-top:0}.page--services .region--hero,.page--durham .region--hero{margin-bottom:0}.page--services .region--client-quote,.page--durham .region--client-quote{margin:0;padding:0}.page--tag .tag__related-case-studies{padding-bottom:0}.page--tag .view-more-link a{text-transform:uppercase;margin-bottom:3em}.page--tag .view-more-link a::after{content:'\f105';font-family:FontAwesome;font-size:1.25em;margin-left:.75em}@media only screen and (min-width: 640px){.page--tag .view-more-link a{background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1.25em;padding:.75em 1.5em;text-transform:uppercase;transition:all 0.2s ease-in-out;background-color:transparent;border:solid 2px #d3281b;border-radius:0;color:#d3281b;display:inline-block;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-size:1em;height:64px;line-height:60px;padding:0 70px 0 10px;position:relative;text-align:center;transition:background-color .2s ease-in-out, color .2s ease-in-out, border-color .2s ease-in-out}.page--tag .view-more-link a:hover,.page--tag .view-more-link a:focus{background-color:#e6473b;border-color:#e6473b;color:#fff}}@media only screen and (min-width: 640px) and (min-width: 640px){.page--tag .view-more-link a{font-size:1.25em;padding:0 90px 0 30px}}@media only screen and (min-width: 640px){.page--tag .view-more-link a::after{background-color:#d3281b;color:#fff;content:'\f105';font-family:FontAwesome;font-size:1.25em;height:60px;position:absolute;right:0;top:0;transition:background-color 0.2s ease-in-out;width:60px}.page--tag .view-more-link a:hover::after,.page--tag .view-more-link a:focus::after{background-color:#e6473b;color:#fff}}.page--tag .tag__related-posts{padding-bottom:0}.page--tag .region--blog-tiles--all__tiles{margin-bottom:1.5em}.region--team-member-top__wrapper{background-position:center center;background-repeat:no-repeat;background-size:cover}.region--team-member-top{margin:0 auto;max-width:1440px}@media only screen and (min-width: 450px){.region--team-member-top{padding-bottom:3em}}.region--team-member-top__image_name{display:flex;flex-wrap:wrap}.region--team-member-top__image{flex-basis:100%;padding:0}@media only screen and (min-width: 450px){.region--team-member-top__image{flex-basis:35%}}@media only screen and (min-width: 1120px){.region--team-member-top__image{flex-basis:30%}}.region--team-member-top__image img{margin-top:0}@media only screen and (min-width: 450px){.region--team-member-top__image img{margin-top:2em}}@media only screen and (min-width: 1120px){.region--team-member-top__image img{padding-right:1em}}.region--team-member-top__name{flex-basis:100%;padding:1em}@media only screen and (min-width: 450px){.region--team-member-top__name{display:flex;flex-basis:65%;flex-direction:column;justify-content:flex-end;padding:0 1em}}@media only screen and (min-width: 1120px){.region--team-member-top__name{flex-basis:70%;padding:1em}}.region--team-member-top__name h1{color:#06282d;font-family:"Roboto Condensed",Arial Narrow,Arial,sans-serif;font-weight:700;line-height:100%;margin-bottom:0}.region--team-member-top__name h1::after{margin:10px 0 .2em}.region--team-member-top__name p{font-weight:300;margin-bottom:0;text-transform:uppercase}@media only screen and (min-width: 1120px){.region--team-member-top__name p{margin-bottom:.75em}}.region--team-member-top__bio_links{display:flex;flex-wrap:wrap}.region--team-member-top__bio_links>div{padding:0 1em}@media only screen and (min-width: 450px){.region--team-member-top__bio_links>div{padding:2em 1em 0}}.region--team-member-top__links{flex-basis:100%}@media only screen and (min-width: 640px){.region--team-member-top__links{flex-basis:35%}}@media only screen and (min-width: 1120px){.region--team-member-top__links{flex-basis:30%}}.region--team-member-top__links ul{align-content:space-around;display:flex;flex-wrap:wrap;justify-content:center;margin:0}@media only screen and (min-width: 640px){.region--team-member-top__links ul{align-content:space-between}}.region--team-member-top__links ul li{display:block;list-style:none;margin-bottom:.5em;padding:.5em 1em}@media only screen and (min-width: 640px){.region--team-member-top__links ul li{display:flex;flex-basis:100%;padding:.5em}}.region--team-member-top__links ul li a{color:#06282d}.region--team-member-top__links ul li a:hover,.region--team-member-top__links ul li a:focus,.region--team-member-top__links ul li aactive{color:#d3281b}.region--team-member-top__bio{flex-basis:100%;font-size:1.1em}@media only screen and (min-width: 640px){.region--team-member-top__bio{flex-basis:65%}}@media only screen and (min-width: 1120px){.region--team-member-top__bio{flex-basis:40%}}.region--team-member-top__badges{align-items:center;display:flex;flex-basis:100%;flex-direction:row;flex-wrap:wrap;justify-content:center}@media only screen and (min-width: 640px){.region--team-member-top__badges{margin-left:35%;width:65%}}@media only screen and (min-width: 1120px){.region--team-member-top__badges{align-items:center;flex-basis:30%;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;margin:0}}.region--team-member-top__badges a{text-align:center}.region--team-member-top__badges img{height:auto;max-width:80%;width:180px}.region--team-member-gallery{display:flex;flex-wrap:wrap;margin:.25em auto;margin-bottom:3em;max-width:1440px}.region--team-member-gallery img{display:block;width:100%}.region--team-member-gallery .region--team-member-gallery__left{flex-basis:100%}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__left{border-right:0.25em solid #fff;flex-basis:50%}}.region--team-member-gallery .region--team-member-gallery__right{display:flex;flex-basis:100%;flex-direction:column}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__right{flex-basis:50%}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta{align-items:center;display:flex;flex:1;flex-direction:column;justify-content:center;margin:3em auto}@media only screen and (min-width: 450px){.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta{margin:0}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta h2{color:#06282d;font-size:1.25em;font-weight:400;margin-bottom:0;padding:.5em 1em;text-transform:uppercase}@media only screen and (min-width: 860px){.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta h2{font-size:1.953em}}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a{color:#d3281b}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a:hover,.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta a:focus,.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__cta aactive{color:#06282d}.region--team-member-gallery .region--team-member-gallery__right .region--team-member-gallery__landscape{flex:1}.page--team .region--blog-tiles--all{max-width:1440px}.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div{padding:.25em}@media only screen and (min-width: 860px){.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div{width:25%}}.page--team .region--blog-tiles--all .region--blog-tiles--all__tiles>div .tile--blog__hover{margin:.25em;width:calc(100% - .5em)}
</style>

  
  

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0,
              t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ],
              t.factory = function(e) {
                return function() {
                  var n;
                  return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
                };
              }, t.methods.forEach(function(e) {
        t[e] = t.factory(e);
      }), t.load = function(t) {
        var e, n, o, i;
        e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"),
                o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js",
                n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
      });
    }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('iggktw4km6ha');
    drift.config({
      welcomeMessageDelay: 25000
    });
  </script>
  <!-- End of Async Drift Code -->

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Installing XHProf to profile your Drupal module | Savas Labs</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Installing XHProf to profile your Drupal module" />
<meta name="author" content="Tim Stallmann" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a number of PHP profilers over the years, and XDebug has a profiler as well, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of." />
<meta property="og:description" content="XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a number of PHP profilers over the years, and XDebug has a profiler as well, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of." />
<link rel="canonical" href="https://savaslabs.com/2016/05/26/installing-xhprof.html" />
<meta property="og:url" content="https://savaslabs.com/2016/05/26/installing-xhprof.html" />
<meta property="og:site_name" content="Savas Labs" />
<meta property="og:image" content="https://savaslabs.com/assets/img/blog/xhprof-callgraph.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-05-26T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@savaslabs" />
<meta name="twitter:creator" content="@Tim Stallmann" />
<script type="application/ld+json">
{"description":"XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a number of PHP profilers over the years, and XDebug has a profiler as well, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of.","author":{"@type":"Person","name":"Tim Stallmann"},"@type":"BlogPosting","url":"https://savaslabs.com/2016/05/26/installing-xhprof.html","image":"https://savaslabs.com/assets/img/blog/xhprof-callgraph.jpg","headline":"Installing XHProf to profile your Drupal module","dateModified":"2016-05-26T00:00:00+00:00","datePublished":"2016-05-26T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://savaslabs.com/2016/05/26/installing-xhprof.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


</head>


  <body class="page--post">

    <header class="region--header" role="banner">
  <div class="region--header__wrapper">

    <a href="/" class="region--header__logo">
      <img src="https://savaslabs.com/assets/img/logo.svg" alt="Savas Labs logo" class="savas-logo savas-logo--main">
    </a>

    <!-- Mobile menu button. -->
<a href="/" id="js-mobile-menu" class="header-navigation__mobile-menu-link">MENU</a>

<!-- Main menu. -->
<nav role="navigation" class="header-navigation">
  <ul id="js-navigation-menu" class="header-navigation__menu show">
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/careers">We're hiring!</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/company">Company</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/results">Results</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/services">Services</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link header-navigation__active-nav-item">
        <a href="/blog">Blog</a>
      </li>
    
      
      
      
      <li class="header-navigation__menu-link">
        <a href="/contact">Contact</a>
      </li>
    
  </ul>
</nav>

  </div>
</header>

    <div class="page-content">
      







<div class="outer-container">
  <div class="page--post__main">
    <div class="region--featured-image">
      
      <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-1000by1000-a63ec5.jpg" media="(min-width: 1120px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 1120px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-1000by1000-a63ec5.jpg" media="(min-width: 1120px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-1000by1000-a63ec5.jpg" media="(min-width: 860px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 860px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-746by746-a63ec5.jpg" media="(min-width: 860px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-1000by1000-a63ec5.jpg" media="(min-width: 640px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 640px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-860by860-a63ec5.jpg" media="(min-width: 640px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-1000by1000-a63ec5.jpg" media="(min-width: 400px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 400px) and (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-640by640-a63ec5.jpg" media="(min-width: 400px)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-800by800-a63ec5.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-400by400-a63ec5.jpg">
    <img src="https://savaslabs.com/assets/processed-img/blog/xhprof-callgraph-400by400-a63ec5.jpg" class="image--post-featured-image" itemprop="image" alt="an XHProf callgraph" >
  </picture>

      
      
    </div>
    <div class="region--post-header">
      <h1 class="region--post-header__title">Installing XHProf to profile your Drupal module</h1>
      <div class="region--post-header__post-info">
        <div class="region--post-header__post-info__authors">
          
<div class="post-author">
  <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/tim/tim-square-outside-120by120-f47f88.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/team-former/tim/tim-square-outside-60by60-f47f88.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/team-former/tim/tim-square-outside-60by60-f47f88.jpg" class="image--team-blog-tile" itemprop="image" alt="Tim Stallmann" >
  </picture>

  <p class="post-author__name">Tim Stallmann</p>
</div>

        </div>
        <div class="region--post-header__post-info__stats">
          <p><i class="fa fa-calendar"></i>May 26, 2016 </p>
          <p><i class="fa fa-tags"></i><a href="/blog/tag/php/">PHP</a>, <a href="/blog/tag/performance/">Performance</a>, <a href="/blog/tag/drupal/">Drupal</a>, <a href="/blog/tag/drupal-planet/">Drupal Planet</a>, <a href="/blog/tag/module-development/">Module Development</a></p>
          
          <p><span id="js-comment-count"></span></p>
          
        </div>
      </div>
      
    </div>
    <article class="region--post-content">
      <p>XHProf is a profiling tool for PHP code – it tracks the amount of time and memory your code spends in each function call, allowing you to spot bottlenecks in the code and identify where it’s worth spending resources on optimization. There are have been a <a href="http://www.linuxjournal.com/article/7213">number of PHP profilers over the years</a>, and XDebug has <a href="https://xdebug.org/docs/profiler">a profiler as well</a>, but XHProf is the first one I’ve successfully managed to configure correctly and interpret the output of.</p>

<p>I had run across a number of blog posts about using XHProf + Drupal, but never actually got it to work sucessfully for a project. Because so much of the documentation online is incomplete or out-of-date, I thought it would be useful to document my process using XHProf to profile a Drupal 8 custom module here. YMMV, but please post your thoughts/experiences in the comments!</p>

<h2 id="how-to-find-documentation">How to find documentation</h2>

<p>I find the <a href="http://php.net/manual/en/book.xhprof.php">php.net XHProf manual entry</a> super-confusing and circular. Part of the problem is that Facebook’s original documentation for the library has since been removed from the internet and is only accessible via <a href="http://web.archive.org">the WayBack Machine</a>.</p>

<p>If there’s only one thing you take away from this blog post, let it be: read and bookmark the WayBack machine view of the original XHProf documentation, which is at <a href="http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html">http://web.archive.org/web/20110514095512/http://mirror.facebook.net/facebook/xhprof/doc.html</a>.</p>

<h2 id="install-xhprof-in-a-vm">Install XHProf in a VM</h2>

<p>If you’re not running DrupalVM, you’ll need to install XHProf manually via <a href="https://pecl.php.net/">PECL</a>. On <a href="http://docs.drupalvm.com/en/latest/">DrupalVM</a>, XHProf is already installed and you can skip to the next step.</p>

<p><code class="highlighter-rouge">sudo pecl install xhprof-beta</code></p>

<p>Note that all these commands are for Ubuntu flavors of linux. If you’re on Red Hat / CentOS you’ll want to use the <code class="highlighter-rouge">yum</code> equivalents. I had to first install the <code class="highlighter-rouge">php5-dev</code> package to get PECL working properly:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get install php5-dev
</code></pre></div></div>

<p>And, if you want to view nice callgraph trees like the one below you’ll need to install the graphviz package <code class="highlighter-rouge">sudo apt-get install graphviz</code></p>

<p><img src="/assets/img/blog/xhprof-callgraph.jpg" alt="Image of a sample XHProf callgraph" class="blog-image-full-width" /></p>

<h2 id="configure-php-to-run-xhprof">Configure PHP to run XHProf</h2>

<p>You need to tell PHP to enable the xhprof extension via your php.ini files. Usually these are in <code class="highlighter-rouge">/etc/php5/apache2/php.ini</code> and <code class="highlighter-rouge">/etc/php5/cli/php.ini</code>. Add the following lines to the bottom of each file if they’re not there already. You will also need to create the <code class="highlighter-rouge">/var/tmp/xhprof</code> directory if it doesn’t already exist.</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[xhprof]</span>
<span class="py">extension</span><span class="p">=</span><span class="s">xhprof.so</span>
<span class="c">;
; directory used by default implementation of the iXHProfRuns
; interface (namely, the XHProfRuns_Default class) for storing
; XHProf runs.
;
</span><span class="py">xhprof.output_dir</span><span class="p">=</span><span class="s">"/var/tmp/xhprof"</span>
</code></pre></div></div>

<p>Lastly, restart Apache so that the PHP config changes take effect.</p>

<h2 id="set-up-a-path-to-view-the-xhprof-gui">Set up a path to view the XHProf GUI</h2>

<p>The XHProf GUI runs off a set of HTML files in the <code class="highlighter-rouge">xhprof_html</code> directory. If you’ve been following the install steps above, you should be able to find that directory at <code class="highlighter-rouge">/usr/share/php/xhprof_html</code>. Now you need to set up your virtual host configuration to serve the files in the <code class="highlighter-rouge">xhprof_html</code> directory.</p>

<p>I find the easiest way to do this is just to symlink the <code class="highlighter-rouge">xhprof_html</code> directory into the existing webroot of whatever site you’re working on locally, for example:</p>

<p><code class="highlighter-rouge">ln -s /usr/share/php/xhprof_html /var/www/my-website-dir/xhprof</code></p>

<p>If you’re using DrupalVM, a separate vhost configuration will already be set up for XHProf, and the default URL is <code class="highlighter-rouge">http://xhprof.drupalvm.dev/</code> although it can be changed in your <code class="highlighter-rouge">config.yml</code> file.</p>

<h2 id="hooking-xhprof-into-your-module-code">Hooking XHProf into your module code</h2>

<p>Generally, the process of profiling a chunk of code using XHProf goes as follows:</p>

<ol>
  <li>Call <code class="highlighter-rouge">xhprof_enable()</code></li>
  <li>Run the code you want profiled</li>
  <li>Once the code has finished running, call <code class="highlighter-rouge">xhprof_disable()</code>. That function will return the profiler data, which you can either display to the screen (not recommended), or…</li>
  <li>Store the profiler data to a file by creating a new <code class="highlighter-rouge">XHProfRuns_Default();</code> object and calling its <code class="highlighter-rouge">save_run</code> method.</li>
</ol>

<p>In the case below, I’m profiling a module that implements a few Drush commands from the command line which I’d like to optimize. So I created <code class="highlighter-rouge">_modulename_xhprof_enable()</code> and <code class="highlighter-rouge">_modulename_xhprof_disable()</code> functions – the names don’t matter here – and then added a <code class="highlighter-rouge">--profile</code> flag to my Drush command options which, when it is set to true, calls my custom enable/disable functions before and after the Drush command runs.</p>

<p>Here’s what those look like in full:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * Helper function to enable xhprof.
 */</span>
<span class="k">function</span> <span class="nf">_mymodule_enable_xhprof</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">function_exists</span><span class="p">(</span><span class="s1">'xhprof_enable'</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Tell XHProf to track both CPU time and memory usage
</span>    <span class="nb">xhprof_enable</span><span class="p">(</span><span class="nx">XHPROF_FLAGS_CPU</span> <span class="o">+</span> <span class="nx">XHPROF_FLAGS_MEMORY</span><span class="p">,</span>
      <span class="k">array</span><span class="p">(</span>
        <span class="c1">// Don't treat these functions as separate function callss
</span>        <span class="c1">// in the results.
</span>        <span class="s1">'ignored_functions'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'call_user_func'</span><span class="p">,</span>
          <span class="s1">'call_user_func_array'</span><span class="p">,</span>
        <span class="p">),</span>
      <span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="sd">/**
 * Helper function to disable xhprof and save logs.
 */</span>
<span class="k">function</span> <span class="nf">_mymodule_disable_xhprof</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">function_exists</span><span class="p">(</span><span class="s1">'xhprof_enable'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$xhprof_data</span> <span class="o">=</span> <span class="nb">xhprof_disable</span><span class="p">();</span>

    <span class="c1">//
</span>    <span class="c1">// Saving the XHProf run
</span>    <span class="c1">// using the default implementation of iXHProfRuns.
</span>    <span class="c1">//
</span>    <span class="k">include_once</span> <span class="s2">"/usr/share/php/xhprof_lib/utils/xhprof_lib.php"</span><span class="p">;</span>
    <span class="k">include_once</span> <span class="s2">"/usr/share/php/xhprof_lib/utils/xhprof_runs.php"</span><span class="p">;</span>

    <span class="nv">$xhprof_runs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XHProfRuns_Default</span><span class="p">();</span>

    <span class="c1">// Save the run under a namespace "xhprof_foo".
</span>    <span class="c1">//
</span>    <span class="c1">// **NOTE**:
</span>    <span class="c1">// By default save_run() will automatically generate a unique
</span>    <span class="c1">// run id for you. [You can override that behavior by passing
</span>    <span class="c1">// a run id (optional arg) to the save_run() method instead.]
</span>    <span class="c1">// .
</span>    <span class="nv">$run_id</span> <span class="o">=</span> <span class="nv">$xhprof_runs</span><span class="o">-&gt;</span><span class="na">save_run</span><span class="p">(</span><span class="nv">$xhprof_data</span><span class="p">,</span> <span class="s1">'xhprof_mymodule'</span><span class="p">);</span>

    <span class="k">echo</span> <span class="s2">"---------------</span><span class="se">\n</span><span class="s2">Assuming you have set up the http based UI for </span><span class="se">\n</span><span class="s2">XHProf at some address, you can view run at </span><span class="se">\n</span><span class="s2">http://mywebsiteurl.dev/xhprof/index.php?run=</span><span class="nv">$run_id</span><span class="s2">&amp;source=xhprof_mymodule</span><span class="se">\n</span><span class="s2">---------------</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">echo</code> command here works fine for a Drush command, but for other tasks you could log the run url using watchdog.</p>

<p>Note: Another way to run XHProf on a Drupal site is using the <a href="https://www.drupal.org/project/xhprof">XHProf</a> module, but I haven’t had great luck with that.</p>

<h2 id="viewing-profiler-results">Viewing profiler results</h2>

<p>If everything is configured correctly, when you run your module you should get a run ID output either to the screen (via <code class="highlighter-rouge">echo</code>, as above, or however you’ve configured this logging). Visit the URL you configured above for xhprof, and you should see a list of all the stored runs. Clicking on a run will bring up the full profiler report.</p>

<p><img src="/assets/img/blog/xhprof-screenshot.jpg" alt="Sample screenshot of an XHProf profiler report" class="blog-image-full-width" /></p>

<h2 id="now-what">Now what?</h2>

<p>Now you’ve got all this data – how to make sense of it? What to do with it? Stay tuned for more discussion of how to interpret XHProf results and a real-world example of profiling a D8 module, next week!</p>


    </article>
  </div>
  <div class="region--prev-next-links region--prev-next-links--mobile pagination">
    <div class="outer-container">
  
  <a href="/2016/05/20/drupalcon-nola-recap.html" class="pagination__previous"><i class="fa fa-angle-left "></i> Prev</a>
  
  <a href="/blog" class="pagination__view-all">View All Blog Posts</a>
  
  <a href="/2016/06/15/git-merge-conflict-strategies.html" class="pagination__next"> Next <i class="fa fa-angle-right"></i></a>
  
</div>
  </div>
  <div class="page--post__aside region--post-aside">
    <div class="region--post-aside__section__wrapper--posts">
      <div class="region--post-aside__section region--post-aside__section--posts">
        <h2 class="heading--sans-serif c-grey h3">Related Blog Posts</h2>
        <div class="region--post-aside__section__items region--post-aside__section--posts__items">
          











































<div class="tile--blog tile--blog--detailed tile">
  <a href="/2018/08/01/how-to-move-to-https.html" class="tile--blog__link">
    <div class="tile--blog__content tile__content bg-light-teal">
      
      <div class="tile--blog__image" style="background-image: url(/assets/img/blog/https2.jpg);">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <p class="tile--blog--detailed__primary-tag">Marketing</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </div>
      <div class="tile--blog__post-title">
        <p>How to transition your website from HTTP to HTTPS</p>

        <div class="tile--blog--detailed__author">
          
          
          <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-120by120-925265.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg" class="image--team-blog-tile" itemprop="image" alt="Chris Russo" >
  </picture>

          
          
        </div>
        <div class="tile--blog--detailed__author-bg"></div>
      </div>
    </div>
    <div class="tile--blog__hover tile__hover bg-orange">
      <p>Now that you know your website needs to be served over HTTPS, we help you get there.</p>

      <p class="link--cta link--cta--inverse">Read more</p>
    </div>
  </a>
</div>





















<div class="tile--blog tile--blog--detailed tile">
  <a href="/2018/06/26/why-you-need-https.html" class="tile--blog__link">
    <div class="tile--blog__content tile__content bg-light-teal">
      
      <div class="tile--blog__image" style="background-image: url(/assets/img/blog/https.jpg);">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <p class="tile--blog--detailed__primary-tag">Marketing</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </div>
      <div class="tile--blog__post-title">
        <p>Why your website needs HTTPS</p>

        <div class="tile--blog--detailed__author">
          
          
          <picture>
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-120by120-925265.jpg" media="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)">
    <source srcset="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg">
    <img src="https://savaslabs.com/assets/processed-img/team/chris/chris-square-outside-60by60-925265.jpg" class="image--team-blog-tile" itemprop="image" alt="Chris Russo" >
  </picture>

          
          
        </div>
        <div class="tile--blog--detailed__author-bg"></div>
      </div>
    </div>
    <div class="tile--blog__hover tile__hover bg-orange">
      <p>The upside of HTTPS now greatly exceeds any previously valid tradeoffs. If you’re not using it exclusively, it’s time to make the switch.</p>

      <p class="link--cta link--cta--inverse">Read more</p>
    </div>
  </a>
</div>




















































































































































































































































































































































































































































































































































































































































































        </div>
      </div>
    </div>
    <div class="region--post-aside__section__wrapper--case-studies">
      <div class="region--post-aside__section region--post-aside__section--case-studies">
        <h2 class="heading--sans-serif c-grey h3">Related Case Studies</h2>
        <div class="region--post-aside__section__items region--post-aside__section--posts__items">
          









<div class="case-study-block">
  <a class="case-study-block__link" href="/results/case-studies/progressively-decoupled-react-solr/">
    <div class="case-study-block__image" style="background-image: url(/assets/img/work/logos/omega-logo.png);">
      <img src="/assets/img/work/progressively-decoupled-react-solr/progressively-decoupled-react-solr-block.jpg" alt="Progressively Decoupled React App powered by Drupal & Apache Solr">
    </div>
    
    <h3 class="case-study-block__title">Progressively Decoupled React App powered by Drupal & Apache Solr</h3>
    
    <div class="case-study-block__tags">
      
      
      <p>Drupal </p>
      
      <p>&bull; </p>
      
      
      
      <p>UX </p>
      
      <p>&bull; </p>
      
      
      
      <p>React </p>
      
      <p>&bull; </p>
      
      
      
      <p>Apache Solr </p>
      
      
      
    </div>
  </a>
</div>




















<div class="case-study-block">
  <a class="case-study-block__link" href="/results/case-studies/duke-today/">
    <div class="case-study-block__image" style="background-image: url(/assets/img/work/logos/duke-today-logo-eggshell.png);">
      <img src="/assets/img/work/duke-today/duke-today-block.jpg" alt="Duke Today Redesign">
    </div>
    
    <h3 class="case-study-block__title">Duke Today Redesign</h3>
    
    <div class="case-study-block__tags">
      
      
      <p>Drupal </p>
      
      <p>&bull; </p>
      
      
      
      <p>Content Migration </p>
      
      <p>&bull; </p>
      
      
      
      <p>UX </p>
      
      <p>&bull; </p>
      
      
      
      <p>Docker </p>
      
      
      
    </div>
  </a>
</div>





















































































        </div>
        <div class="region--post-aside__section--case-studies__cta flex-center">
          <a href="/results" class="button--arrow--orange">Our work</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="region--prev-next-links region--prev-next-links--post pagination">
  <div class="outer-container">
  
  <a href="/2016/05/20/drupalcon-nola-recap.html" class="pagination__previous"><i class="fa fa-angle-left "></i> Prev</a>
  
  <a href="/blog" class="pagination__view-all">View All Blog Posts</a>
  
  <a href="/2016/06/15/git-merge-conflict-strategies.html" class="pagination__next"> Next <i class="fa fa-angle-right"></i></a>
  
</div>
</div>

<div class="region--comments">
  
  <div id="js-comments"></div>
  
</div>

    </div>

    <footer class="region--footer" role="contentinfo">
  <div class="region--footer__main">
    <div class="region--footer__main__menu">
      <a href="/" class="region--footer__logo">
        <img src="https://savaslabs.com/assets/img/logo-light.svg" alt="Savas Labs" class="savas-logo savas-logo--light">
      </a>
      <nav role="navigation" class="footer-navigation">
  <ul class="footer-navigation__menu">
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/careers">We're hiring!</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/company">Company</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/results">Results</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/services">Services</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/blog">Blog</a>
      </li>
    
      
      
      
      <li class="footer-navigation__menu-link ">
        <a href="/contact">Contact</a>
      </li>
    
  </ul>
</nav>
    </div>
    <div class="region--footer__main__contact">
      <h3 class="region--footer__main__contact__title h5">Connect with us</h3>
      <a href="mailto:info@savaslabs.com">info@savaslabs.com</a>
      <p>(919) 432-4660</p>
      <address>
        SAVAS LABS<br>
        PMB 313<br>
        201 W Main Street, Suite 100<br>
        Durham, NC 27701
      </address>
    </div>
    <div class="region--footer__main__social">
      <div class="region--footer__main__social__icons">
        <ul>
          <li><a href="https://github.com/savaslabs"><i class="fa fa-github fa-lg fa-2x"></i><span class="sr-only">Savas Labs GitHub</span></a></li>
          <li><a href="https://www.drupal.org/savas-labs"><i class="fa fa-drupal fa-lg fa-2x"></i><span class="sr-only">Savas Labs Drupal.Org</span></a></li>
          <li><a href="https://twitter.com/SavasLabs"><i class="fa fa-twitter fa-lg fa-2x"></i><span class="sr-only">Savas Labs Twitter</span></a></li>
          <li><a href="https://www.linkedin.com/company/savas-labs"><i class="fa fa-linkedin fa-lg fa-2x"></i><span class="sr-only">Savas Labs LinkedIn</span></a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="region--footer__bottom">
    <div class="region--footer__bottom__wrapper">
      <p class="region--footer__bottom__copyright">
        Copyright &copy; Savas Labs 2019
      </p>
    </div>
  </div>
</footer>

    <script type="text/javascript" src="https://savaslabs.com/assets/js/main.js" async></script>


<script type="text/javascript" src="/assets/js/comments.js" async></script>

<noscript>
  <link href='/assets/styles/main.css' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,400italic,700italic|PT+Serif|Source+Sans+Pro' rel='stylesheet' type='text/css'>
</noscript>

  </body>

</html>
